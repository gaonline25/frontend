// // // import React from "react";

// // // const MedicalFinancingSection: React.FC = () => {
// // //   return (
// // //     <main id="main">
// // //       {/* Page Layout */}
// // //       {/* Hero Module */}
// // //       <div className="mod_hero banner mobile-stack" data-s3-module>
// // //         <div className="wrapper">
// // //           <picture className="background">
// // //             <source
// // //               media="(max-width:420px)"
// // //               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
// // //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=630 2x"
// // //             />
// // //             <source
// // //               media="(max-width:800px)"
// // //               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
// // //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1200 2x"
// // //             />
// // //             <source
// // //               media="(max-width:1400px)"
// // //               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
// // //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=2100 2x"
// // //             />
// // //             <source
// // //               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
// // //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
// // //             />
// // //             <img
// // //               src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
// // //               data-lazyload-src="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
// // //               loading="lazy"
// // //               data-lazyload="img"
// // //               width="1994"
// // //               height="1206"
// // //               alt="Background Texture"
// // //               draggable="false"
// // //             />
// // //           </picture>
// // //           <div className="row">
// // //             <div className="inner">
// // //               <ul className="partial_breadcrumb" data-s3-partial>
// // //                 <li>
// // //                   <a
// // //                     href="/"
// // //                     role="link"
// // //                     aria-label="Breadcrumbs to help navigate the user"
// // //                   >
// // //                     Home
// // //                   </a>
// // //                 </li>
// // //                 <li>
// // //                   <a
// // //                     href="/financing/"
// // //                     role="link"
// // //                     aria-label="Breadcrumbs to help navigate the user"
// // //                   >
// // //                     Financing
// // //                   </a>
// // //                 </li>
// // //               </ul>
// // //               <h1 className="long-title">
// // //                 Medical Aesthetic{" "}
// // //                 <span className="block-desktop">Treatment Financing</span>
// // //               </h1>
// // //             </div>
// // //           </div>
// // //           <div className="media">
// // //             <picture className="background">
// // //               <source
// // //                 media="(max-width:420px)"
// // //                 srcSet="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=630 2x"
// // //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=630 2x"
// // //               />
// // //               <source
// // //                 media="(max-width:800px)"
// // //                 srcSet="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1200 2x"
// // //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1200 2x"
// // //               />
// // //               <source
// // //                 media="(max-width:1400px)"
// // //                 srcSet="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=2100 2x"
// // //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=2100 2x"
// // //               />
// // //               <source
// // //                 srcSet="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1920"
// // //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1920"
// // //               />
// // //               <img
// // //                 src="https://www.datocms-assets.com/105497/1695226866-patient-financing-banner.jpg?auto=format,compress&w=1920"
// // //                 width="1920"
// // //                 height="1206"
// // //                 alt="Person entering their credit card information on their cell phone"
// // //                 draggable="false"
// // //               />
// // //             </picture>
// // //           </div>
// // //         </div>
// // //       </div>
// // //       {/* Two Column Module */}
// // //       <div className="mod_columns_two viewport container" data-s3-module>
// // //         <div className="row ">
// // //           <div className="content vertical-align">
// // //             <div className="item wow fadeInLeft" data-api-key="content_left">
// // //               <p>
// // //                 <img
// // //                   src="https://www.datocms-assets.com/105497/1749499196-alle_logo_black-scaled-2-jpg-370x370-2x.jpg"
// // //                   alt=""
// // //                 />
// // //               </p>
// // //             </div>
// // //             <div className="item wow fadeInRight" data-api-key="content_right">
// // //               <h2>
// // //                 Get treated now.&nbsp;
// // //                 <br />
// // //                 Pay over time.
// // //               </h2>
// // //               <p>
// // //                 Considering a new treatment or just want to maintain your look?
// // //                 Allē helps make your goals a reality while considering your
// // //                 financial needs. Find a payment plan that works for you with an
// // //                 APR starting as low as 0%.
// // //               </p>
// // //               <p></p>
// // //               <p></p>
// // //               <p>
// // //                 <a
// // //                   href="https://alle.com/lp/payment-plans"
// // //                   target="_blank"
// // //                   className="btn"
// // //                   rel="noopener"
// // //                 >
// // //                   Try Allē Today
// // //                 </a>
// // //               </p>
// // //             </div>
// // //           </div>
// // //         </div>
// // //       </div>
// // //       {/* /Page Layout */}
// // //     </main>
// // //   );
// // // };

// // // export default MedicalFinancingSection;

// // // // "use client";

// // // // import React, { useEffect, useState } from "react";
// // // // import {
// // // //   fetchMedicalFillersPageData,
// // // //   getResponsiveImageUrls,
// // // //   getImageUrl,
// // // //   lexicalToHtml,
// // // // } from "@/lib/api/finance/fetchMedicalFinancingPageComponent"; // Adjust path to your API utilities

// // // // interface MedicalFinancingPageData {
// // // //   componentName: string;
// // // //   heroSection: {
// // // //     show: boolean;
// // // //     backgroundColor?: string;
// // // //     textColor?: string;
// // // //     backgroundImage: {
// // // //       mobile?: any;
// // // //       tablet?: any;
// // // //       desktop?: any;
// // // //       large?: any;
// // // //       alt?: string;
// // // //     };
// // // //     breadcrumbs: Array<{ label: string; url: string; ariaLabel?: string }>;
// // // //     breadcrumbTextColor?: string;
// // // //     titleFirstLine?: string;
// // // //     titleSecondLine?: string;
// // // //     titleBreakOnDesktop: boolean;
// // // //     titleClass?: string;
// // // //     titleColor?: string;
// // // //     titleFontSize?: string;
// // // //     titleFontWeight?: string;
// // // //     mediaImage: {
// // // //       mobile?: any;
// // // //       tablet?: any;
// // // //       desktop?: any;
// // // //       large?: any;
// // // //       alt?: string;
// // // //       width?: string;
// // // //       height?: string;
// // // //     };
// // // //     layoutStyle: "mobile-stack" | "full-width" | "centered";
// // // //     moduleClass?: string;
// // // //   };
// // // //   twoColumnSection: {
// // // //     show: boolean;
// // // //     backgroundColor?: string;
// // // //     textColor?: string;
// // // //     paddingTop?: string;
// // // //     paddingBottom?: string;
// // // //     containerWidth: "container" | "wide" | "full-width";
// // // //     verticalAlign: boolean;
// // // //     columnGap?: string;
// // // //     moduleClass?: string;
// // // //     leftColumn: {
// // // //       contentType: "image" | "richtext" | "html";
// // // //       image?: any;
// // // //       imageUrl?: string;
// // // //       imageAlt?: string;
// // // //       imageWidth?: string;
// // // //       imageHeight?: string;
// // // //       content?: any;
// // // //       htmlContent?: string;
// // // //       backgroundColor?: string;
// // // //       textColor?: string;
// // // //       textAlign: "left" | "center" | "right";
// // // //       animationClass?: string;
// // // //       customClass?: string;
// // // //     };
// // // //     rightColumn: {
// // // //       contentType: "richtext" | "image" | "html";
// // // //       heading?: string;
// // // //       headingColor?: string;
// // // //       headingFontSize?: string;
// // // //       headingFontWeight?: string;
// // // //       content?: any;
// // // //       image?: any;
// // // //       imageAlt?: string;
// // // //       htmlContent?: string;
// // // //       ctaButton: {
// // // //         show: boolean;
// // // //         text?: string;
// // // //         url?: string;
// // // //         openInNewTab: boolean;
// // // //         rel?: string;
// // // //         backgroundColor?: string;
// // // //         textColor?: string;
// // // //         hoverBackgroundColor?: string;
// // // //         hoverTextColor?: string;
// // // //         borderRadius?: string;
// // // //         padding?: string;
// // // //         fontSize?: string;
// // // //         fontWeight?: string;
// // // //         customClass?: string;
// // // //       };
// // // //       backgroundColor?: string;
// // // //       textColor?: string;
// // // //       textAlign: "left" | "center" | "right";
// // // //       animationClass?: string;
// // // //       customClass?: string;
// // // //     };
// // // //   };
// // // //   sectionOrder: Array<{ section: "hero" | "twoColumn" }>;
// // // //   globalStyles: {
// // // //     containerMaxWidth?: string;
// // // //     containerPadding?: string;
// // // //     sectionSpacing?: string;
// // // //     fontFamily?: string;
// // // //     primaryColor?: string;
// // // //     secondaryColor?: string;
// // // //     textColor?: string;
// // // //     linkColor?: string;
// // // //     linkHoverColor?: string;
// // // //   };
// // // //   typographySettings: {
// // // //     h1FontSize?: string;
// // // //     h1Color?: string;
// // // //     h1FontWeight?: string;
// // // //     h2FontSize?: string;
// // // //     h2Color?: string;
// // // //     h2FontWeight?: string;
// // // //     bodyFontSize?: string;
// // // //     bodyLineHeight?: string;
// // // //   };
// // // //   animationSettings: {
// // // //     enableAnimations: boolean;
// // // //     enableViewportAnimations: boolean;
// // // //     fadeInDuration?: string;
// // // //     animationEasing?: string;
// // // //   };
// // // //   lazyLoadingSettings: {
// // // //     enableLazyLoading: boolean;
// // // //     placeholderImage: string;
// // // //   };
// // // //   dataAttributes: {
// // // //     heroDataAttributes: Array<{ attribute: string; value?: string }>;
// // // //     twoColumnDataAttributes: Array<{ attribute: string; value?: string }>;
// // // //   };
// // // // }

// // // // const MedicalFinancing: React.FC = () => {
// // // //   const [pageData, setPageData] = useState<MedicalFinancingPageData | null>(
// // // //     null
// // // //   );
// // // //   const [loading, setLoading] = useState(true);

// // // //   useEffect(() => {
// // // //     const fetchData = async () => {
// // // //       try {
// // // //         const res = await fetch(
// // // //           `${
// // // //             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
// // // //             "https://backend-orpin-six-56.vercel.app/api"
// // // //           }/medical-financing-page-component?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
// // // //           {
// // // //             next: { revalidate: 60 },
// // // //             cache: "force-cache",
// // // //           }
// // // //         );
// // // //         if (!res.ok) {
// // // //           throw new Error(
// // // //             `Failed to fetch Medical Financing page data: ${res.statusText}`
// // // //           );
// // // //         }
// // // //         const data = await res.json();
// // // //         const activeComponent =
// // // //           data.docs?.find((component: any) => component.isActive) || null;
// // // //         console.log("Fetched Medical Financing data:", activeComponent);
// // // //         setPageData(activeComponent);
// // // //       } catch (error) {
// // // //         console.error("Error fetching Medical Financing page data:", error);
// // // //       } finally {
// // // //         setLoading(false);
// // // //       }
// // // //     };
// // // //     fetchData();
// // // //   }, []);

// // // //   console.log(pageData, 'this is pagedata')

// // // //   if (loading) return <div>Loading...</div>;
// // // //   if (!pageData) return <div>No data available</div>;

// // // //   const {
// // // //     heroSection,
// // // //     twoColumnSection,
// // // //     sectionOrder,
// // // //     globalStyles,
// // // //     typographySettings,
// // // //     animationSettings,
// // // //     lazyLoadingSettings,
// // // //     dataAttributes,
// // // //   } = pageData;

// // // //   const placeholder = lazyLoadingSettings.placeholderImage;

// // // //   const renderSection = (section: string) => {
// // // //     const animationClass =
// // // //       animationSettings.enableAnimations &&
// // // //       animationSettings.enableViewportAnimations
// // // //         ? `wow ${section === "hero" ? "fadeIn" : ""}`
// // // //         : "";

// // // //     switch (section) {
// // // //       case "hero":
// // // //         if (!heroSection.show) return null;
// // // //         const heroBgImages = getResponsiveImageUrls(
// // // //           heroSection.backgroundImage
// // // //         );
// // // //         const heroMediaImages = getResponsiveImageUrls(heroSection.mediaImage);
// // // //         const heroAttributes = dataAttributes.heroDataAttributes.reduce(
// // // //           (acc, attr) => ({
// // // //             ...acc,
// // // //             [attr.attribute]: attr.value || "",
// // // //           }),
// // // //           {}
// // // //         );
// // // //         return (
// // // //           <div
// // // //             className={`mod_hero banner ${heroSection.layoutStyle} ${
// // // //               heroSection.moduleClass || ""
// // // //             } ${animationClass}`}
// // // //             {...heroAttributes}
// // // //             style={{
// // // //               backgroundColor: heroSection.backgroundColor,
// // // //               color: heroSection.textColor,
// // // //             }}
// // // //           >
// // // //             <div className="wrapper">
// // // //               <picture className="background">
// // // //                 <source
// // // //                   media="(max-width:420px)"
// // // //                   srcSet={placeholder}
// // // //                   data-lazyload-srcset={`${heroBgImages.mobile}?auto=format,compress&w=420, ${heroBgImages.mobile}?auto=format,compress&w=630 2x`}
// // // //                 />
// // // //                 <source
// // // //                   media="(max-width:800px)"
// // // //                   srcSet={placeholder}
// // // //                   data-lazyload-srcset={`${heroBgImages.tablet}?auto=format,compress&w=800, ${heroBgImages.tablet}?auto=format,compress&w=1200 2x`}
// // // //                 />
// // // //                 <source
// // // //                   media="(max-width:1400px)"
// // // //                   srcSet={placeholder}
// // // //                   data-lazyload-srcset={`${heroBgImages.desktop}?auto=format,compress&w=1400, ${heroBgImages.desktop}?auto=format,compress&w=2100 2x`}
// // // //                 />
// // // //                 <source
// // // //                   srcSet={placeholder}
// // // //                   data-lazyload-srcset={`${heroBgImages.large}?auto=format,compress&w=1994`}
// // // //                 />
// // // //                 <img
// // // //                   src={placeholder}
// // // //                   data-lazyload-src={`${heroBgImages.large}?auto=format,compress&w=1994`}
// // // //                   loading={
// // // //                     lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
// // // //                   }
// // // //                   data-lazyload="img"
// // // //                   width="1994"
// // // //                   height="1206"
// // // //                   alt={heroBgImages.alt || "Background Texture"}
// // // //                   draggable="false"
// // // //                 />
// // // //               </picture>
// // // //               <div className="row">
// // // //                 <div className="inner">
// // // //                   <ul
// // // //                     className="partial_breadcrumb"
// // // //                     data-s3-partial
// // // //                     style={{ color: heroSection.breadcrumbTextColor }}
// // // //                   >
// // // //                     {heroSection.breadcrumbs.map((crumb, index) => (
// // // //                       <li key={index}>
// // // //                         <a
// // // //                           href={crumb.url}
// // // //                           role="link"
// // // //                           aria-label={
// // // //                             crumb.ariaLabel ||
// // // //                             "Breadcrumbs to help navigate the user"
// // // //                           }
// // // //                           style={{ color: heroSection.breadcrumbTextColor }}
// // // //                         >
// // // //                           {crumb.label}
// // // //                         </a>
// // // //                       </li>
// // // //                     ))}
// // // //                   </ul>
// // // //                   <h1
// // // //                     className={heroSection.titleClass}
// // // //                     style={{
// // // //                       color:
// // // //                         heroSection.titleColor || typographySettings.h1Color,
// // // //                       fontSize:
// // // //                         heroSection.titleFontSize ||
// // // //                         typographySettings.h1FontSize,
// // // //                       fontWeight:
// // // //                         heroSection.titleFontWeight ||
// // // //                         typographySettings.h1FontWeight,
// // // //                     }}
// // // //                   >
// // // //                     {heroSection.titleFirstLine}{" "}
// // // //                     {heroSection.titleSecondLine && (
// // // //                       <span
// // // //                         className={
// // // //                           heroSection.titleBreakOnDesktop ? "block-desktop" : ""
// // // //                         }
// // // //                       >
// // // //                         {heroSection.titleSecondLine}
// // // //                       </span>
// // // //                     )}
// // // //                   </h1>
// // // //                 </div>
// // // //               </div>
// // // //               <div className="media">
// // // //                 <picture className="background">
// // // //                   <source
// // // //                     media="(max-width:420px)"
// // // //                     srcSet={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
// // // //                     data-lazyload-srcset={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
// // // //                   />
// // // //                   <source
// // // //                     media="(max-width:800px)"
// // // //                     srcSet={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
// // // //                     data-lazyload-srcset={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
// // // //                   />
// // // //                   <source
// // // //                     media="(max-width:1400px)"
// // // //                     srcSet={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
// // // //                     data-lazyload-srcset={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
// // // //                   />
// // // //                   <source
// // // //                     srcSet={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// // // //                     data-lazyload-srcset={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// // // //                   />
// // // //                   <img
// // // //                     src={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// // // //                     loading={
// // // //                       lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
// // // //                     }
// // // //                     data-lazyload="img"
// // // //                     width={heroMediaImages.width || "1920"}
// // // //                     height={heroMediaImages.height || "1206"}
// // // //                     alt={
// // // //                       heroMediaImages.alt ||
// // // //                       "Person entering their credit card information on their cell phone"
// // // //                     }
// // // //                     draggable="false"
// // // //                   />
// // // //                 </picture>
// // // //               </div>
// // // //             </div>
// // // //           </div>
// // // //         );

// // // //       case "twoColumn":
// // // //         if (!twoColumnSection.show) return null;
// // // //         const leftImage =
// // // //           twoColumnSection.leftColumn.contentType === "image"
// // // //             ? getImageUrl(
// // // //                 twoColumnSection.leftColumn.image ||
// // // //                   twoColumnSection.leftColumn.imageUrl
// // // //               )
// // // //             : null;
// // // //         const rightImage =
// // // //           twoColumnSection.rightColumn.contentType === "image"
// // // //             ? getImageUrl(twoColumnSection.rightColumn.image)
// // // //             : null;
// // // //         const twoColumnAttributes =
// // // //           dataAttributes.twoColumnDataAttributes.reduce(
// // // //             (acc, attr) => ({
// // // //               ...acc,
// // // //               [attr.attribute]: attr.value || "",
// // // //             }),
// // // //             {}
// // // //           );
// // // //         return (
// // // //           <div
// // // //             className={`mod_columns_two ${twoColumnSection.containerWidth} ${
// // // //               twoColumnSection.moduleClass || ""
// // // //             } ${
// // // //               animationSettings.enableAnimations &&
// // // //               animationSettings.enableViewportAnimations
// // // //                 ? "viewport"
// // // //                 : ""
// // // //             }`}
// // // //             {...twoColumnAttributes}
// // // //             style={{
// // // //               backgroundColor: twoColumnSection.backgroundColor,
// // // //               color: twoColumnSection.textColor,
// // // //               paddingTop: twoColumnSection.paddingTop,
// // // //               paddingBottom: twoColumnSection.paddingBottom,
// // // //             }}
// // // //           >
// // // //             <div
// // // //               className={`row ${
// // // //                 twoColumnSection.verticalAlign ? "vertical-align" : ""
// // // //               }`}
// // // //               style={{ columnGap: twoColumnSection.columnGap }}
// // // //             >
// // // //               <div
// // // //                 className={`item ${
// // // //                   twoColumnSection.leftColumn.customClass || ""
// // // //                 } ${
// // // //                   animationSettings.enableAnimations &&
// // // //                   animationSettings.enableViewportAnimations
// // // //                     ? `wow ${
// // // //                         twoColumnSection.leftColumn.animationClass ||
// // // //                         "fadeInLeft"
// // // //                       }`
// // // //                     : ""
// // // //                 }`}
// // // //                 data-api-key="content_left"
// // // //                 style={{
// // // //                   backgroundColor: twoColumnSection.leftColumn.backgroundColor,
// // // //                   color: twoColumnSection.leftColumn.textColor,
// // // //                   textAlign: twoColumnSection.leftColumn.textAlign,
// // // //                 }}
// // // //               >
// // // //                 {twoColumnSection.leftColumn.contentType === "image" &&
// // // //                   leftImage && (
// // // //                     <p>
// // // //                       <img
// // // //                         src={leftImage}
// // // //                         alt={twoColumnSection.leftColumn.imageAlt || ""}
// // // //                         width={twoColumnSection.leftColumn.imageWidth}
// // // //                         height={twoColumnSection.leftColumn.imageHeight}
// // // //                         loading={
// // // //                           lazyLoadingSettings.enableLazyLoading
// // // //                             ? "lazy"
// // // //                             : "eager"
// // // //                         }
// // // //                         data-lazyload="img"
// // // //                       />
// // // //                     </p>
// // // //                   )}
// // // //                 {twoColumnSection.leftColumn.contentType === "richtext" &&
// // // //                   twoColumnSection.leftColumn.content && (
// // // //                     <div
// // // //                       style={{
// // // //                         fontSize: typographySettings.bodyFontSize,
// // // //                         lineHeight: typographySettings.bodyLineHeight,
// // // //                       }}
// // // //                       dangerouslySetInnerHTML={{
// // // //                         __html: lexicalToHtml(
// // // //                           twoColumnSection.leftColumn.content
// // // //                         ),
// // // //                       }}
// // // //                     />
// // // //                   )}
// // // //                 {twoColumnSection.leftColumn.contentType === "html" &&
// // // //                   twoColumnSection.leftColumn.htmlContent && (
// // // //                     <div
// // // //                       style={{
// // // //                         fontSize: typographySettings.bodyFontSize,
// // // //                         lineHeight: typographySettings.bodyLineHeight,
// // // //                       }}
// // // //                       dangerouslySetInnerHTML={{
// // // //                         __html: twoColumnSection.leftColumn.htmlContent,
// // // //                       }}
// // // //                     />
// // // //                   )}
// // // //               </div>
// // // //               <div
// // // //                 className={`item ${
// // // //                   twoColumnSection.rightColumn.customClass || ""
// // // //                 } ${
// // // //                   animationSettings.enableAnimations &&
// // // //                   animationSettings.enableViewportAnimations
// // // //                     ? `wow ${
// // // //                         twoColumnSection.rightColumn.animationClass ||
// // // //                         "fadeInRight"
// // // //                       }`
// // // //                     : ""
// // // //                 }`}
// // // //                 data-api-key="content_right"
// // // //                 style={{
// // // //                   backgroundColor: twoColumnSection.rightColumn.backgroundColor,
// // // //                   color: twoColumnSection.rightColumn.textColor,
// // // //                   textAlign: twoColumnSection.rightColumn.textAlign,
// // // //                 }}
// // // //               >
// // // //                 {twoColumnSection.rightColumn.heading && (
// // // //                   <h2
// // // //                     style={{
// // // //                       color:
// // // //                         twoColumnSection.rightColumn.headingColor ||
// // // //                         typographySettings.h2Color,
// // // //                       fontSize:
// // // //                         twoColumnSection.rightColumn.headingFontSize ||
// // // //                         typographySettings.h2FontSize,
// // // //                       fontWeight:
// // // //                         twoColumnSection.rightColumn.headingFontWeight ||
// // // //                         typographySettings.h2FontWeight,
// // // //                     }}
// // // //                   >
// // // //                     {twoColumnSection.rightColumn.heading}
// // // //                   </h2>
// // // //                 )}
// // // //                 {twoColumnSection.rightColumn.contentType === "richtext" &&
// // // //                   twoColumnSection.rightColumn.content && (
// // // //                     <div
// // // //                       style={{
// // // //                         fontSize: typographySettings.bodyFontSize,
// // // //                         lineHeight: typographySettings.bodyLineHeight,
// // // //                       }}
// // // //                       dangerouslySetInnerHTML={{
// // // //                         __html: lexicalToHtml(
// // // //                           twoColumnSection.rightColumn.content
// // // //                         ),
// // // //                       }}
// // // //                     />
// // // //                   )}
// // // //                 {twoColumnSection.rightColumn.contentType === "image" &&
// // // //                   rightImage && (
// // // //                     <p>
// // // //                       <img
// // // //                         src={rightImage}
// // // //                         alt={twoColumnSection.rightColumn.imageAlt || ""}
// // // //                         loading={
// // // //                           lazyLoadingSettings.enableLazyLoading
// // // //                             ? "lazy"
// // // //                             : "eager"
// // // //                         }
// // // //                         data-lazyload="img"
// // // //                       />
// // // //                     </p>
// // // //                   )}
// // // //                 {twoColumnSection.rightColumn.contentType === "html" &&
// // // //                   twoColumnSection.rightColumn.htmlContent && (
// // // //                     <div
// // // //                       style={{
// // // //                         fontSize: typographySettings.bodyFontSize,
// // // //                         lineHeight: typographySettings.bodyLineHeight,
// // // //                       }}
// // // //                       dangerouslySetInnerHTML={{
// // // //                         __html: twoColumnSection.rightColumn.htmlContent,
// // // //                       }}
// // // //                     />
// // // //                   )}
// // // //                 {twoColumnSection.rightColumn.ctaButton.show && (
// // // //                   <p>
// // // //                     <a
// // // //                       href={twoColumnSection.rightColumn.ctaButton.url}
// // // //                       target={
// // // //                         twoColumnSection.rightColumn.ctaButton.openInNewTab
// // // //                           ? "_blank"
// // // //                           : undefined
// // // //                       }
// // // //                       rel={twoColumnSection.rightColumn.ctaButton.rel}
// // // //                       className={`btn ${
// // // //                         twoColumnSection.rightColumn.ctaButton.customClass || ""
// // // //                       }`}
// // // //                       style={{
// // // //                         backgroundColor:
// // // //                           twoColumnSection.rightColumn.ctaButton
// // // //                             .backgroundColor,
// // // //                         color: twoColumnSection.rightColumn.ctaButton.textColor,
// // // //                         borderRadius:
// // // //                           twoColumnSection.rightColumn.ctaButton.borderRadius,
// // // //                         padding: twoColumnSection.rightColumn.ctaButton.padding,
// // // //                         fontSize:
// // // //                           twoColumnSection.rightColumn.ctaButton.fontSize,
// // // //                         fontWeight:
// // // //                           twoColumnSection.rightColumn.ctaButton.fontWeight,
// // // //                       }}
// // // //                     >
// // // //                       {twoColumnSection.rightColumn.ctaButton.text}
// // // //                     </a>
// // // //                   </p>
// // // //                 )}
// // // //               </div>
// // // //             </div>
// // // //           </div>
// // // //         );

// // // //       default:
// // // //         return null;
// // // //     }
// // // //   };

// // // //   return (
// // // //     <main
// // // //       id="main"
// // // //       style={{
// // // //         maxWidth: globalStyles.containerMaxWidth,
// // // //         padding: globalStyles.containerPadding,
// // // //         fontFamily: globalStyles.fontFamily,
// // // //         color: globalStyles.textColor,
// // // //         margin: "0 auto",
// // // //       }}
// // // //     >
// // // //       {sectionOrder.map((item, index) => (
// // // //         <React.Fragment key={index}>
// // // //           {renderSection(item.section)}
// // // //         </React.Fragment>
// // // //       ))}
// // // //     </main>
// // // //   );
// // // // };

// // // // export default MedicalFinancing;

// // // "use client";

// // // import React, { useEffect, useState } from "react";
// // // import {
// // //   fetchMedicalFillersPageData,
// // //   getResponsiveImageUrls,
// // //   getImageUrl,
// // //   lexicalToHtml,
// // // } from "@/lib/api/finance/fetchMedicalFinancingPageComponent";

// // // interface MedicalFinancingPageData {
// // //   componentName: string;
// // //   heroSection: {
// // //     show: boolean;
// // //     backgroundColor?: string;
// // //     textColor?: string;
// // //     backgroundImage: {
// // //       mobile?: any;
// // //       tablet?: any;
// // //       desktop?: any;
// // //       large?: any;
// // //       alt?: string;
// // //     };
// // //     breadcrumbs: Array<{ label: string; url: string; ariaLabel?: string }>;
// // //     breadcrumbTextColor?: string;
// // //     titleFirstLine?: string;
// // //     titleSecondLine?: string;
// // //     titleBreakOnDesktop: boolean;
// // //     titleClass?: string;
// // //     titleColor?: string;
// // //     titleFontSize?: string;
// // //     titleFontWeight?: string;
// // //     mediaImage: {
// // //       mobile?: any;
// // //       tablet?: any;
// // //       desktop?: any;
// // //       large?: any;
// // //       alt?: string;
// // //       width?: string;
// // //       height?: string;
// // //     };
// // //     layoutStyle: "mobile-stack" | "full-width" | "centered";
// // //     moduleClass?: string;
// // //   };
// // //   twoColumnSection: {
// // //     show: boolean;
// // //     backgroundColor?: string;
// // //     textColor?: string;
// // //     paddingTop?: string;
// // //     paddingBottom?: string;
// // //     containerWidth: "container" | "wide" | "full-width";
// // //     verticalAlign: boolean;
// // //     columnGap?: string;
// // //     moduleClass?: string;
// // //     leftColumn: {
// // //       contentType: "image" | "richtext" | "html";
// // //       image?: any;
// // //       imageUrl?: string;
// // //       imageAlt?: string;
// // //       imageWidth?: string;
// // //       imageHeight?: string;
// // //       content?: any;
// // //       htmlContent?: string;
// // //       backgroundColor?: string;
// // //       textColor?: string;
// // //       textAlign: "left" | "center" | "right";
// // //       animationClass?: string;
// // //       customClass?: string;
// // //     };
// // //     rightColumn: {
// // //       contentType: "richtext" | "image" | "html";
// // //       heading?: string;
// // //       headingColor?: string;
// // //       headingFontSize?: string;
// // //       headingFontWeight?: string;
// // //       content?: any;
// // //       image?: any;
// // //       imageAlt?: string;
// // //       htmlContent?: string;
// // //       ctaButton: {
// // //         show: boolean;
// // //         text?: string;
// // //         url?: string;
// // //         openInNewTab: boolean;
// // //         rel?: string;
// // //         backgroundColor?: string;
// // //         textColor?: string;
// // //         hoverBackgroundColor?: string;
// // //         hoverTextColor?: string;
// // //         borderRadius?: string;
// // //         padding?: string;
// // //         fontSize?: string;
// // //         fontWeight?: string;
// // //         customClass?: string;
// // //       };
// // //       backgroundColor?: string;
// // //       textColor?: string;
// // //       textAlign: "left" | "center" | "right";
// // //       animationClass?: string;
// // //       customClass?: string;
// // //     };
// // //   };
// // //   sectionOrder: Array<{ section: "hero" | "twoColumn" }>;
// // //   globalStyles: {
// // //     containerMaxWidth?: string;
// // //     containerPadding?: string;
// // //     sectionSpacing?: string;
// // //     fontFamily?: string;
// // //     primaryColor?: string;
// // //     secondaryColor?: string;
// // //     textColor?: string;
// // //     linkColor?: string;
// // //     linkHoverColor?: string;
// // //   };
// // //   typographySettings: {
// // //     h1FontSize?: string;
// // //     h1Color?: string;
// // //     h1FontWeight?: string;
// // //     h2FontSize?: string;
// // //     h2Color?: string;
// // //     h2FontWeight?: string;
// // //     bodyFontSize?: string;
// // //     bodyLineHeight?: string;
// // //   };
// // //   animationSettings: {
// // //     enableAnimations: boolean;
// // //     enableViewportAnimations: boolean;
// // //     fadeInDuration?: string;
// // //     animationEasing?: string;
// // //   };
// // //   lazyLoadingSettings: {
// // //     enableLazyLoading: boolean;
// // //     placeholderImage: string;
// // //   };
// // //   dataAttributes: {
// // //     heroDataAttributes: Array<{ attribute: string; value?: string }>;
// // //     twoColumnDataAttributes: Array<{ attribute: string; value?: string }>;
// // //   };
// // // }

// // // const MedicalFinancing: React.FC = () => {
// // //   const [pageData, setPageData] = useState<MedicalFinancingPageData | null>(
// // //     null
// // //   );
// // //   const [loading, setLoading] = useState(true);

// // //   useEffect(() => {
// // //     const fetchData = async () => {
// // //       try {
// // //         const res = await fetch(
// // //           `${
// // //             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
// // //             "https://backend-orpin-six-56.vercel.app/api"
// // //           }/medical-financing-page-component?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
// // //           {
// // //             next: { revalidate: 60 },
// // //             cache: "force-cache",
// // //           }
// // //         );
// // //         if (!res.ok) {
// // //           throw new Error(
// // //             `Failed to fetch Medical Financing page data: ${res.statusText}`
// // //           );
// // //         }
// // //         const data = await res.json();
// // //         const activeComponent =
// // //           data.docs?.find((component: any) => component.isActive) || null;
// // //         console.log("Fetched Medical Financing data:", activeComponent);
// // //         setPageData(activeComponent);
// // //       } catch (error) {
// // //         console.error("Error fetching Medical Financing page data:", error);
// // //       } finally {
// // //         setLoading(false);
// // //       }
// // //     };
// // //     fetchData();
// // //   }, []);

// // //   console.log(pageData, "this is pagedata");

// // //   // Debug the two column section specifically
// // //   if (pageData) {
// // //     console.log("Two Column Section:", pageData.twoColumnSection);
// // //     console.log("Left Column:", pageData.twoColumnSection?.leftColumn);
// // //     console.log(
// // //       "Left Column Image:",
// // //       pageData.twoColumnSection?.leftColumn?.image
// // //     );
// // //     console.log(
// // //       "Left Column Image Type:",
// // //       typeof pageData.twoColumnSection?.leftColumn?.image
// // //     );
// // //     console.log("Right Column:", pageData.twoColumnSection?.rightColumn);
// // //   }

// // //   if (loading) return <div>Loading...</div>;
// // //   if (!pageData) return <div>No data available</div>;

// // //   const {
// // //     heroSection,
// // //     twoColumnSection,
// // //     sectionOrder,
// // //     globalStyles,
// // //     typographySettings,
// // //     animationSettings,
// // //     lazyLoadingSettings,
// // //     dataAttributes,
// // //   } = pageData;

// // //   const placeholder = lazyLoadingSettings.placeholderImage;

// // //   const renderSection = (section: string) => {
// // //     const animationClass =
// // //       animationSettings.enableAnimations &&
// // //       animationSettings.enableViewportAnimations
// // //         ? `wow ${section === "hero" ? "fadeIn" : ""}`
// // //         : "";

// // //     switch (section) {
// // //       case "hero":
// // //         if (!heroSection.show) return null;
// // //         const heroBgImages = getResponsiveImageUrls(
// // //           heroSection.backgroundImage
// // //         );
// // //         const heroMediaImages = getResponsiveImageUrls(heroSection.mediaImage);
// // //         const heroAttributes = dataAttributes.heroDataAttributes.reduce(
// // //           (acc, attr) => ({
// // //             ...acc,
// // //             [attr.attribute]: attr.value || "",
// // //           }),
// // //           {}
// // //         );
// // //         return (
// // //           <div
// // //             className={`mod_hero banner ${heroSection.layoutStyle} ${
// // //               heroSection.moduleClass || ""
// // //             } ${animationClass}`}
// // //             {...heroAttributes}
// // //             style={{
// // //               backgroundColor: heroSection.backgroundColor,
// // //               color: heroSection.textColor,
// // //             }}
// // //           >
// // //             <div className="wrapper">
// // //               <picture className="background">
// // //                 <source
// // //                   media="(max-width:420px)"
// // //                   srcSet={placeholder}
// // //                   data-lazyload-srcset={`${heroBgImages.mobile}?auto=format,compress&w=420, ${heroBgImages.mobile}?auto=format,compress&w=630 2x`}
// // //                 />
// // //                 <source
// // //                   media="(max-width:800px)"
// // //                   srcSet={placeholder}
// // //                   data-lazyload-srcset={`${heroBgImages.tablet}?auto=format,compress&w=800, ${heroBgImages.tablet}?auto=format,compress&w=1200 2x`}
// // //                 />
// // //                 <source
// // //                   media="(max-width:1400px)"
// // //                   srcSet={placeholder}
// // //                   data-lazyload-srcset={`${heroBgImages.desktop}?auto=format,compress&w=1400, ${heroBgImages.desktop}?auto=format,compress&w=2100 2x`}
// // //                 />
// // //                 <source
// // //                   srcSet={placeholder}
// // //                   data-lazyload-srcset={`${heroBgImages.large}?auto=format,compress&w=1994`}
// // //                 />
// // //                 <img
// // //                   src={placeholder}
// // //                   data-lazyload-src={`${heroBgImages.large}?auto=format,compress&w=1994`}
// // //                   loading={
// // //                     lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
// // //                   }
// // //                   data-lazyload="img"
// // //                   width="1994"
// // //                   height="1206"
// // //                   alt={heroBgImages.alt || "Background Texture"}
// // //                   draggable="false"
// // //                 />
// // //               </picture>
// // //               <div className="row">
// // //                 <div className="inner">
// // //                   <ul
// // //                     className="partial_breadcrumb"
// // //                     data-s3-partial
// // //                     style={{ color: heroSection.breadcrumbTextColor }}
// // //                   >
// // //                     {heroSection.breadcrumbs.map((crumb, index) => (
// // //                       <li key={index}>
// // //                         <a
// // //                           href={crumb.url}
// // //                           role="link"
// // //                           aria-label={
// // //                             crumb.ariaLabel ||
// // //                             "Breadcrumbs to help navigate the user"
// // //                           }
// // //                           style={{ color: heroSection.breadcrumbTextColor }}
// // //                         >
// // //                           {crumb.label}
// // //                         </a>
// // //                       </li>
// // //                     ))}
// // //                   </ul>
// // //                   <h1
// // //                     className={heroSection.titleClass}
// // //                     style={{
// // //                       color:
// // //                         heroSection.titleColor || typographySettings.h1Color,
// // //                       fontSize:
// // //                         heroSection.titleFontSize ||
// // //                         typographySettings.h1FontSize,
// // //                       fontWeight:
// // //                         heroSection.titleFontWeight ||
// // //                         typographySettings.h1FontWeight,
// // //                     }}
// // //                   >
// // //                     {heroSection.titleFirstLine}{" "}
// // //                     {heroSection.titleSecondLine && (
// // //                       <span
// // //                         className={
// // //                           heroSection.titleBreakOnDesktop ? "block-desktop" : ""
// // //                         }
// // //                       >
// // //                         {heroSection.titleSecondLine}
// // //                       </span>
// // //                     )}
// // //                   </h1>
// // //                 </div>
// // //               </div>
// // //               <div className="media">
// // //                 <picture className="background">
// // //                   <source
// // //                     media="(max-width:420px)"
// // //                     srcSet={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
// // //                     data-lazyload-srcset={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
// // //                   />
// // //                   <source
// // //                     media="(max-width:800px)"
// // //                     srcSet={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
// // //                     data-lazyload-srcset={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
// // //                   />
// // //                   <source
// // //                     media="(max-width:1400px)"
// // //                     srcSet={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
// // //                     data-lazyload-srcset={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
// // //                   />
// // //                   <source
// // //                     srcSet={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// // //                     data-lazyload-srcset={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// // //                   />
// // //                   <img
// // //                     src={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// // //                     loading={
// // //                       lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
// // //                     }
// // //                     data-lazyload="img"
// // //                     width={heroMediaImages.width || "1920"}
// // //                     height={heroMediaImages.height || "1206"}
// // //                     alt={
// // //                       heroMediaImages.alt ||
// // //                       "Person entering their credit card information on their cell phone"
// // //                     }
// // //                     draggable="false"
// // //                   />
// // //                 </picture>
// // //               </div>
// // //             </div>
// // //           </div>
// // //         );

// // //       case "twoColumn":
// // //         if (!twoColumnSection.show) return null;

// // //         // Extract image URLs - handle both object and string cases
// // //         const getImageSrc = (imageData: any, fallbackUrl?: string) => {
// // //           if (!imageData && !fallbackUrl) return null;

// // //           // If imageData is a string, return it directly
// // //           if (typeof imageData === "string") return imageData;

// // //           // If imageData is an object, try different properties
// // //           if (imageData && typeof imageData === "object") {
// // //             return (
// // //               imageData.cloudinary_url ||
// // //               imageData.url ||
// // //               imageData.filename ||
// // //               fallbackUrl ||
// // //               null
// // //             );
// // //           }

// // //           return fallbackUrl || null;
// // //         };

// // //         const leftImageSrc =
// // //           twoColumnSection.leftColumn.contentType === "image"
// // //             ? getImageSrc(
// // //                 twoColumnSection.leftColumn.image,
// // //                 twoColumnSection.leftColumn.imageUrl
// // //               )
// // //             : null;

// // //         const rightImageSrc =
// // //           twoColumnSection.rightColumn.contentType === "image"
// // //             ? getImageSrc(
// // //                 twoColumnSection.rightColumn.image,
// // //                 twoColumnSection.rightColumn.imageUrl
// // //               )
// // //             : null;

// // //         // Debug logging
// // //         console.log(
// // //           "Left column image data:",
// // //           twoColumnSection.leftColumn.image
// // //         );
// // //         console.log("Left image src:", leftImageSrc);
// // //         console.log(
// // //           "Right column image data:",
// // //           twoColumnSection.rightColumn.image
// // //         );
// // //         console.log("Right image src:", rightImageSrc);

// // //         const twoColumnAttributes =
// // //           dataAttributes.twoColumnDataAttributes.reduce(
// // //             (acc, attr) => ({
// // //               ...acc,
// // //               [attr.attribute]: attr.value || "",
// // //             }),
// // //             {}
// // //           );
// // //         return (
// // //           <div
// // //             className={`mod_columns_two ${twoColumnSection.containerWidth} ${
// // //               twoColumnSection.moduleClass || ""
// // //             } ${
// // //               animationSettings.enableAnimations &&
// // //               animationSettings.enableViewportAnimations
// // //                 ? "viewport"
// // //                 : ""
// // //             }`}
// // //             {...twoColumnAttributes}
// // //             style={{
// // //               backgroundColor: twoColumnSection.backgroundColor,
// // //               color: twoColumnSection.textColor,
// // //               paddingTop: twoColumnSection.paddingTop,
// // //               paddingBottom: twoColumnSection.paddingBottom,
// // //             }}
// // //           >
// // //             <div
// // //               className={`row ${
// // //                 twoColumnSection.verticalAlign ? "vertical-align" : ""
// // //               }`}
// // //               style={{ columnGap: twoColumnSection.columnGap }}
// // //             >
// // //               <div
// // //                 className={`item ${
// // //                   twoColumnSection.leftColumn.customClass || ""
// // //                 } ${
// // //                   animationSettings.enableAnimations &&
// // //                   animationSettings.enableViewportAnimations
// // //                     ? `wow ${
// // //                         twoColumnSection.leftColumn.animationClass ||
// // //                         "fadeInLeft"
// // //                       }`
// // //                     : ""
// // //                 }`}
// // //                 data-api-key="content_left"
// // //                 style={{
// // //                   backgroundColor: twoColumnSection.leftColumn.backgroundColor,
// // //                   color: twoColumnSection.leftColumn.textColor,
// // //                   textAlign: twoColumnSection.leftColumn.textAlign,
// // //                 }}
// // //               >
// // //                 {twoColumnSection.leftColumn.contentType === "image" &&
// // //                   leftImageSrc && (
// // //                     <p>
// // //                       <img
// // //                         src={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? placeholder
// // //                             : leftImageSrc
// // //                         }
// // //                         data-lazyload-src={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? leftImageSrc
// // //                             : undefined
// // //                         }
// // //                         alt={twoColumnSection.leftColumn.imageAlt || ""}
// // //                         width={
// // //                           twoColumnSection.leftColumn.imageWidth ||
// // //                           twoColumnSection.leftColumn.image?.width
// // //                         }
// // //                         height={
// // //                           twoColumnSection.leftColumn.imageHeight ||
// // //                           twoColumnSection.leftColumn.image?.height
// // //                         }
// // //                         loading={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? "lazy"
// // //                             : "eager"
// // //                         }
// // //                         data-lazyload={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? "img"
// // //                             : undefined
// // //                         }
// // //                       />
// // //                     </p>
// // //                   )}
// // //                 {twoColumnSection.leftColumn.contentType === "richtext" &&
// // //                   twoColumnSection.leftColumn.content && (
// // //                     <div
// // //                       style={{
// // //                         fontSize: typographySettings.bodyFontSize,
// // //                         lineHeight: typographySettings.bodyLineHeight,
// // //                       }}
// // //                       dangerouslySetInnerHTML={{
// // //                         __html: lexicalToHtml(
// // //                           twoColumnSection.leftColumn.content
// // //                         ),
// // //                       }}
// // //                     />
// // //                   )}
// // //                 {twoColumnSection.leftColumn.contentType === "html" &&
// // //                   twoColumnSection.leftColumn.htmlContent && (
// // //                     <div
// // //                       style={{
// // //                         fontSize: typographySettings.bodyFontSize,
// // //                         lineHeight: typographySettings.bodyLineHeight,
// // //                       }}
// // //                       dangerouslySetInnerHTML={{
// // //                         __html: twoColumnSection.leftColumn.htmlContent,
// // //                       }}
// // //                     />
// // //                   )}
// // //               </div>
// // //               <div
// // //                 className={`item ${
// // //                   twoColumnSection.rightColumn.customClass || ""
// // //                 } ${
// // //                   animationSettings.enableAnimations &&
// // //                   animationSettings.enableViewportAnimations
// // //                     ? `wow ${
// // //                         twoColumnSection.rightColumn.animationClass ||
// // //                         "fadeInRight"
// // //                       }`
// // //                     : ""
// // //                 }`}
// // //                 data-api-key="content_right"
// // //                 style={{
// // //                   backgroundColor: twoColumnSection.rightColumn.backgroundColor,
// // //                   color: twoColumnSection.rightColumn.textColor,
// // //                   textAlign: twoColumnSection.rightColumn.textAlign,
// // //                 }}
// // //               >
// // //                 {twoColumnSection.rightColumn.heading && (
// // //                   <h2
// // //                     style={{
// // //                       color:
// // //                         twoColumnSection.rightColumn.headingColor ||
// // //                         typographySettings.h2Color,
// // //                       fontSize:
// // //                         twoColumnSection.rightColumn.headingFontSize ||
// // //                         typographySettings.h2FontSize,
// // //                       fontWeight:
// // //                         twoColumnSection.rightColumn.headingFontWeight ||
// // //                         typographySettings.h2FontWeight,
// // //                     }}
// // //                   >
// // //                     {twoColumnSection.rightColumn.heading}
// // //                   </h2>
// // //                 )}
// // //                 {twoColumnSection.rightColumn.contentType === "richtext" &&
// // //                   twoColumnSection.rightColumn.content && (
// // //                     <div
// // //                       style={{
// // //                         fontSize: typographySettings.bodyFontSize,
// // //                         lineHeight: typographySettings.bodyLineHeight,
// // //                       }}
// // //                       dangerouslySetInnerHTML={{
// // //                         __html: lexicalToHtml(
// // //                           twoColumnSection.rightColumn.content
// // //                         ),
// // //                       }}
// // //                     />
// // //                   )}
// // //                 {twoColumnSection.rightColumn.contentType === "image" &&
// // //                   rightImageSrc && (
// // //                     <p>
// // //                       <img
// // //                         src={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? placeholder
// // //                             : rightImageSrc
// // //                         }
// // //                         data-lazyload-src={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? rightImageSrc
// // //                             : undefined
// // //                         }
// // //                         alt={twoColumnSection.rightColumn.imageAlt || ""}
// // //                         width={twoColumnSection.rightColumn.image?.width}
// // //                         height={twoColumnSection.rightColumn.image?.height}
// // //                         loading={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? "lazy"
// // //                             : "eager"
// // //                         }
// // //                         data-lazyload={
// // //                           lazyLoadingSettings.enableLazyLoading
// // //                             ? "img"
// // //                             : undefined
// // //                         }
// // //                       />
// // //                     </p>
// // //                   )}
// // //                 {twoColumnSection.rightColumn.contentType === "html" &&
// // //                   twoColumnSection.rightColumn.htmlContent && (
// // //                     <div
// // //                       style={{
// // //                         fontSize: typographySettings.bodyFontSize,
// // //                         lineHeight: typographySettings.bodyLineHeight,
// // //                       }}
// // //                       dangerouslySetInnerHTML={{
// // //                         __html: twoColumnSection.rightColumn.htmlContent,
// // //                       }}
// // //                     />
// // //                   )}
// // //                 {twoColumnSection.rightColumn.ctaButton.show && (
// // //                   <p>
// // //                     <a
// // //                       href={twoColumnSection.rightColumn.ctaButton.url}
// // //                       target={
// // //                         twoColumnSection.rightColumn.ctaButton.openInNewTab
// // //                           ? "_blank"
// // //                           : undefined
// // //                       }
// // //                       rel={twoColumnSection.rightColumn.ctaButton.rel}
// // //                       className={`btn ${
// // //                         twoColumnSection.rightColumn.ctaButton.customClass || ""
// // //                       }`}
// // //                       style={{
// // //                         backgroundColor:
// // //                           twoColumnSection.rightColumn.ctaButton
// // //                             .backgroundColor,
// // //                         color: twoColumnSection.rightColumn.ctaButton.textColor,
// // //                         borderRadius:
// // //                           twoColumnSection.rightColumn.ctaButton.borderRadius,
// // //                         padding: twoColumnSection.rightColumn.ctaButton.padding,
// // //                         fontSize:
// // //                           twoColumnSection.rightColumn.ctaButton.fontSize,
// // //                         fontWeight:
// // //                           twoColumnSection.rightColumn.ctaButton.fontWeight,
// // //                       }}
// // //                     >
// // //                       {twoColumnSection.rightColumn.ctaButton.text}
// // //                     </a>
// // //                   </p>
// // //                 )}
// // //               </div>
// // //             </div>
// // //           </div>
// // //         );

// // //       default:
// // //         return null;
// // //     }
// // //   };

// // //   return (
// // //     <main
// // //       id="main"
// // //       style={{
// // //         maxWidth: globalStyles.containerMaxWidth,
// // //         padding: globalStyles.containerPadding,
// // //         fontFamily: globalStyles.fontFamily,
// // //         color: globalStyles.textColor,
// // //         margin: "0 auto",
// // //       }}
// // //     >
// // //       {sectionOrder.map((item, index) => (
// // //         <React.Fragment key={index}>
// // //           {renderSection(item.section)}
// // //         </React.Fragment>
// // //       ))}
// // //     </main>
// // //   );
// // // };

// // // export default MedicalFinancing;

// // "use client";

// // import React, { useEffect, useState } from "react";
// // import {
// //   fetchMedicalFillersPageData,
// //   getResponsiveImageUrls,
// //   getImageUrl,
// //   lexicalToHtml,
// // } from "@/lib/api/finance/fetchMedicalFinancingPageComponent";

// // interface MedicalFinancingPageData {
// //   componentName: string;
// //   heroSection: {
// //     show: boolean;
// //     backgroundColor?: string;
// //     textColor?: string;
// //     backgroundImage: {
// //       mobile?: any;
// //       tablet?: any;
// //       desktop?: any;
// //       large?: any;
// //       alt?: string;
// //     };
// //     breadcrumbs: Array<{ label: string; url: string; ariaLabel?: string }>;
// //     breadcrumbTextColor?: string;
// //     titleFirstLine?: string;
// //     titleSecondLine?: string;
// //     titleBreakOnDesktop: boolean;
// //     titleClass?: string;
// //     titleColor?: string;
// //     titleFontSize?: string;
// //     titleFontWeight?: string;
// //     mediaImage: {
// //       mobile?: any;
// //       tablet?: any;
// //       desktop?: any;
// //       large?: any;
// //       alt?: string;
// //       width?: string;
// //       height?: string;
// //     };
// //     layoutStyle: "mobile-stack" | "full-width" | "centered";
// //     moduleClass?: string;
// //   };
// //   twoColumnSection: {
// //     show: boolean;
// //     backgroundColor?: string;
// //     textColor?: string;
// //     paddingTop?: string;
// //     paddingBottom?: string;
// //     containerWidth: "container" | "wide" | "full-width";
// //     verticalAlign: boolean;
// //     columnGap?: string;
// //     moduleClass?: string;
// //     leftColumn: {
// //       contentType: "image" | "richtext" | "html";
// //       image?: any;
// //       imageUrl?: string;
// //       imageAlt?: string;
// //       imageWidth?: string;
// //       imageHeight?: string;
// //       content?: any;
// //       htmlContent?: string;
// //       backgroundColor?: string;
// //       textColor?: string;
// //       textAlign: "left" | "center" | "right";
// //       animationClass?: string;
// //       customClass?: string;
// //     };
// //     rightColumn: {
// //       contentType: "richtext" | "image" | "html";
// //       heading?: string;
// //       headingColor?: string;
// //       headingFontSize?: string;
// //       headingFontWeight?: string;
// //       content?: any;
// //       image?: any;
// //       imageAlt?: string;
// //       htmlContent?: string;
// //       ctaButton: {
// //         show: boolean;
// //         text?: string;
// //         url?: string;
// //         openInNewTab: boolean;
// //         rel?: string;
// //         backgroundColor?: string;
// //         textColor?: string;
// //         hoverBackgroundColor?: string;
// //         hoverTextColor?: string;
// //         borderRadius?: string;
// //         padding?: string;
// //         fontSize?: string;
// //         fontWeight?: string;
// //         customClass?: string;
// //       };
// //       backgroundColor?: string;
// //       textColor?: string;
// //       textAlign: "left" | "center" | "right";
// //       animationClass?: string;
// //       customClass?: string;
// //     };
// //   };
// //   sectionOrder: Array<{ section: "hero" | "twoColumn" }>;
// //   globalStyles: {
// //     containerMaxWidth?: string;
// //     containerPadding?: string;
// //     sectionSpacing?: string;
// //     fontFamily?: string;
// //     primaryColor?: string;
// //     secondaryColor?: string;
// //     textColor?: string;
// //     linkColor?: string;
// //     linkHoverColor?: string;
// //   };
// //   typographySettings: {
// //     h1FontSize?: string;
// //     h1Color?: string;
// //     h1FontWeight?: string;
// //     h2FontSize?: string;
// //     h2Color?: string;
// //     h2FontWeight?: string;
// //     bodyFontSize?: string;
// //     bodyLineHeight?: string;
// //   };
// //   animationSettings: {
// //     enableAnimations: boolean;
// //     enableViewportAnimations: boolean;
// //     fadeInDuration?: string;
// //     animationEasing?: string;
// //   };
// //   lazyLoadingSettings: {
// //     enableLazyLoading: boolean;
// //     placeholderImage: string;
// //   };
// //   dataAttributes: {
// //     heroDataAttributes: Array<{ attribute: string; value?: string }>;
// //     twoColumnDataAttributes: Array<{ attribute: string; value?: string }>;
// //   };
// // }

// // const MedicalFinancing: React.FC = () => {
// //   const [pageData, setPageData] = useState<MedicalFinancingPageData | null>(
// //     null
// //   );
// //   const [loading, setLoading] = useState(true);

// //   useEffect(() => {
// //     const fetchData = async () => {
// //       try {
// //         const res = await fetch(
// //           `${
// //             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
// //             "https://backend-orpin-six-56.vercel.app/api"
// //           }/medical-financing-page-component?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
// //           {
// //             next: { revalidate: 60 },
// //             cache: "force-cache",
// //           }
// //         );
// //         if (!res.ok) {
// //           throw new Error(
// //             `Failed to fetch Medical Financing page data: ${res.statusText}`
// //           );
// //         }
// //         const data = await res.json();
// //         const activeComponent =
// //           data.docs?.find((component: any) => component.isActive) || null;
// //         console.log("Fetched Medical Financing data:", activeComponent);
// //         setPageData(activeComponent);
// //       } catch (error) {
// //         console.error("Error fetching Medical Financing page data:", error);
// //       } finally {
// //         setLoading(false);
// //       }
// //     };
// //     fetchData();
// //   }, []);

// //   console.log(pageData, "this is pagedata");

// //   // Debug the two column section specifically
// //   if (pageData) {
// //     console.log("Two Column Section:", pageData.twoColumnSection);
// //     console.log("Left Column:", pageData.twoColumnSection?.leftColumn);
// //     console.log(
// //       "Left Column Image:",
// //       pageData.twoColumnSection?.leftColumn?.image
// //     );
// //     console.log(
// //       "Left Column Image Type:",
// //       typeof pageData.twoColumnSection?.leftColumn?.image
// //     );
// //     console.log("Right Column:", pageData.twoColumnSection?.rightColumn);
// //   }

// //   if (loading) return <div>Loading...</div>;
// //   if (!pageData) return <div>No data available</div>;

// //   const {
// //     heroSection,
// //     twoColumnSection,
// //     sectionOrder,
// //     globalStyles,
// //     typographySettings,
// //     animationSettings,
// //     lazyLoadingSettings,
// //     dataAttributes,
// //   } = pageData;

// //   const placeholder = lazyLoadingSettings.placeholderImage;

// //   const renderSection = (section: string) => {
// //     const animationClass =
// //       animationSettings.enableAnimations &&
// //       animationSettings.enableViewportAnimations
// //         ? `wow ${section === "hero" ? "fadeIn" : ""}`
// //         : "";

// //     switch (section) {
// //       case "hero":
// //         if (!heroSection.show) return null;
// //         const heroBgImages = getResponsiveImageUrls(
// //           heroSection.backgroundImage
// //         );
// //         const heroMediaImages = getResponsiveImageUrls(heroSection.mediaImage);
// //         const heroAttributes = dataAttributes.heroDataAttributes.reduce(
// //           (acc, attr) => ({
// //             ...acc,
// //             [attr.attribute]: attr.value || "",
// //           }),
// //           {}
// //         );
// //         return (
// //           <div
// //             className={`mod_hero banner ${heroSection.layoutStyle} ${
// //               heroSection.moduleClass || ""
// //             } ${animationClass}`}
// //             {...heroAttributes}
// //             style={{
// //               backgroundColor: heroSection.backgroundColor,
// //               color: heroSection.textColor,
// //             }}
// //           >
// //             <div className="wrapper">
// //               <picture className="background">
// //                 <source
// //                   media="(max-width:420px)"
// //                   srcSet={placeholder}
// //                   data-lazyload-srcset={`${heroBgImages.mobile}?auto=format,compress&w=420, ${heroBgImages.mobile}?auto=format,compress&w=630 2x`}
// //                 />
// //                 <source
// //                   media="(max-width:800px)"
// //                   srcSet={placeholder}
// //                   data-lazyload-srcset={`${heroBgImages.tablet}?auto=format,compress&w=800, ${heroBgImages.tablet}?auto=format,compress&w=1200 2x`}
// //                 />
// //                 <source
// //                   media="(max-width:1400px)"
// //                   srcSet={placeholder}
// //                   data-lazyload-srcset={`${heroBgImages.desktop}?auto=format,compress&w=1400, ${heroBgImages.desktop}?auto=format,compress&w=2100 2x`}
// //                 />
// //                 <source
// //                   srcSet={placeholder}
// //                   data-lazyload-srcset={`${heroBgImages.large}?auto=format,compress&w=1994`}
// //                 />
// //                 <img
// //                   src={placeholder}
// //                   data-lazyload-src={`${heroBgImages.large}?auto=format,compress&w=1994`}
// //                   loading={
// //                     lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
// //                   }
// //                   data-lazyload="img"
// //                   width="1994"
// //                   height="1206"
// //                   alt={heroBgImages.alt || "Background Texture"}
// //                   draggable="false"
// //                 />
// //               </picture>
// //               <div className="row">
// //                 <div className="inner">
// //                   <ul
// //                     className="partial_breadcrumb"
// //                     data-s3-partial
// //                     style={{ color: heroSection.breadcrumbTextColor }}
// //                   >
// //                     {heroSection.breadcrumbs.map((crumb, index) => (
// //                       <li key={index}>
// //                         <a
// //                           href={crumb.url}
// //                           role="link"
// //                           aria-label={
// //                             crumb.ariaLabel ||
// //                             "Breadcrumbs to help navigate the user"
// //                           }
// //                           style={{ color: heroSection.breadcrumbTextColor }}
// //                         >
// //                           {crumb.label}
// //                         </a>
// //                       </li>
// //                     ))}
// //                   </ul>
// //                   <h1
// //                     className={heroSection.titleClass}
// //                     style={{
// //                       color:
// //                         heroSection.titleColor || typographySettings.h1Color,
// //                       fontSize:
// //                         heroSection.titleFontSize ||
// //                         typographySettings.h1FontSize,
// //                       fontWeight:
// //                         heroSection.titleFontWeight ||
// //                         typographySettings.h1FontWeight,
// //                     }}
// //                   >
// //                     {heroSection.titleFirstLine}{" "}
// //                     {heroSection.titleSecondLine && (
// //                       <span
// //                         className={
// //                           heroSection.titleBreakOnDesktop ? "block-desktop" : ""
// //                         }
// //                       >
// //                         {heroSection.titleSecondLine}
// //                       </span>
// //                     )}
// //                   </h1>
// //                 </div>
// //               </div>
// //               <div className="media">
// //                 <picture className="background">
// //                   <source
// //                     media="(max-width:420px)"
// //                     srcSet={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
// //                     data-lazyload-srcset={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
// //                   />
// //                   <source
// //                     media="(max-width:800px)"
// //                     srcSet={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
// //                     data-lazyload-srcset={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
// //                   />
// //                   <source
// //                     media="(max-width:1400px)"
// //                     srcSet={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
// //                     data-lazyload-srcset={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
// //                   />
// //                   <source
// //                     srcSet={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// //                     data-lazyload-srcset={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// //                   />
// //                   <img
// //                     src={`${heroMediaImages.large}?auto=format,compress&w=1920`}
// //                     loading={
// //                       lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
// //                     }
// //                     data-lazyload="img"
// //                     width={heroMediaImages.width || "1920"}
// //                     height={heroMediaImages.height || "1206"}
// //                     alt={
// //                       heroMediaImages.alt ||
// //                       "Person entering their credit card information on their cell phone"
// //                     }
// //                     draggable="false"
// //                   />
// //                 </picture>
// //               </div>
// //             </div>
// //           </div>
// //         );

// //       case "twoColumn":
// //         if (!twoColumnSection.show) return null;

// //         // Extract image URLs - handle both object and string cases
// //         const getImageSrc = (imageData: any, fallbackUrl?: string) => {
// //           if (!imageData && !fallbackUrl) return null;

// //           // If imageData is a string, return it directly
// //           if (typeof imageData === "string") return imageData;

// //           // If imageData is an object, try different properties
// //           if (imageData && typeof imageData === "object") {
// //             return (
// //               imageData.cloudinary_url ||
// //               imageData.url ||
// //               imageData.filename ||
// //               fallbackUrl ||
// //               null
// //             );
// //           }

// //           return fallbackUrl || null;
// //         };

// //         const leftImageSrc =
// //           twoColumnSection.leftColumn.contentType === "image"
// //             ? getImageSrc(
// //                 twoColumnSection.leftColumn.image,
// //                 twoColumnSection.leftColumn.imageUrl
// //               )
// //             : null;

// //         const rightImageSrc =
// //           twoColumnSection.rightColumn.contentType === "image"
// //             ? getImageSrc(
// //                 twoColumnSection.rightColumn.image,
// //                 twoColumnSection.rightColumn.imageUrl
// //               )
// //             : null;

// //         // Debug logging
// //         console.log(
// //           "Left column image data:",
// //           twoColumnSection.leftColumn.image
// //         );
// //         console.log("Left image src:", leftImageSrc);
// //         console.log(
// //           "Right column image data:",
// //           twoColumnSection.rightColumn.image
// //         );
// //         console.log("Right image src:", rightImageSrc);

// //         const twoColumnAttributes =
// //           dataAttributes.twoColumnDataAttributes.reduce(
// //             (acc, attr) => ({
// //               ...acc,
// //               [attr.attribute]: attr.value || "",
// //             }),
// //             {}
// //           );
// //         return (
// //           <div
// //             className={`mod_columns_two ${twoColumnSection.containerWidth} ${
// //               twoColumnSection.moduleClass || ""
// //             } ${
// //               animationSettings.enableAnimations &&
// //               animationSettings.enableViewportAnimations
// //                 ? "viewport"
// //                 : ""
// //             }`}
// //             {...twoColumnAttributes}
// //             style={{
// //               backgroundColor: twoColumnSection.backgroundColor,
// //               color: twoColumnSection.textColor,
// //               paddingTop: twoColumnSection.paddingTop,
// //               paddingBottom: twoColumnSection.paddingBottom,
// //             }}
// //           >
// //             <div
// //               className={`row ${
// //                 twoColumnSection.verticalAlign ? "vertical-align" : ""
// //               }`}
// //               style={{ columnGap: twoColumnSection.columnGap }}
// //             >
// //               <div
// //                 className={`item ${
// //                   twoColumnSection.leftColumn.customClass || ""
// //                 } ${
// //                   animationSettings.enableAnimations &&
// //                   animationSettings.enableViewportAnimations
// //                     ? `wow ${
// //                         twoColumnSection.leftColumn.animationClass ||
// //                         "fadeInLeft"
// //                       }`
// //                     : ""
// //                 }`}
// //                 data-api-key="content_left"
// //                 style={{
// //                   backgroundColor: twoColumnSection.leftColumn.backgroundColor,
// //                   color: twoColumnSection.leftColumn.textColor,
// //                   textAlign: twoColumnSection.leftColumn.textAlign,
// //                 }}
// //               >
// //                 {twoColumnSection.leftColumn.contentType === "image" &&
// //                   leftImageSrc && (
// //                     <p >
// //                       <span

// //                       >
// //                         {/* DEBUG: Image should render below. Src: {leftImageSrc} */}
// //                       </span>
// //                       <img
// //                         src={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? placeholder
// //                             : leftImageSrc
// //                         }
// //                         data-lazyload-src={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? leftImageSrc
// //                             : undefined
// //                         }
// //                         alt={twoColumnSection.leftColumn.imageAlt || ""}
// //                         width={
// //                           twoColumnSection.leftColumn.imageWidth ||
// //                           twoColumnSection.leftColumn.image?.width
// //                         }
// //                         height={
// //                           twoColumnSection.leftColumn.imageHeight ||
// //                           twoColumnSection.leftColumn.image?.height
// //                         }
// //                         loading={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? "lazy"
// //                             : "eager"
// //                         }
// //                         data-lazyload={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? "img"
// //                             : undefined
// //                         }
// //                         style={{ maxWidth: "100%", height: "auto" }}
// //                         onError={(e) =>
// //                           console.error("Image failed to load:", e)
// //                         }
// //                         onLoad={() =>
// //                           console.log(
// //                             "Image loaded successfully:",
// //                             leftImageSrc
// //                           )
// //                         }
// //                       />
// //                     </p>
// //                   )}
// //                 {twoColumnSection.leftColumn.contentType === "richtext" &&
// //                   twoColumnSection.leftColumn.content && (
// //                     <div
// //                       style={{
// //                         fontSize: typographySettings.bodyFontSize,
// //                         lineHeight: typographySettings.bodyLineHeight,
// //                       }}
// //                       dangerouslySetInnerHTML={{
// //                         __html: lexicalToHtml(
// //                           twoColumnSection.leftColumn.content
// //                         ),
// //                       }}
// //                     />
// //                   )}
// //                 {twoColumnSection.leftColumn.contentType === "html" &&
// //                   twoColumnSection.leftColumn.htmlContent && (
// //                     <div
// //                       style={{
// //                         fontSize: typographySettings.bodyFontSize,
// //                         lineHeight: typographySettings.bodyLineHeight,
// //                       }}
// //                       dangerouslySetInnerHTML={{
// //                         __html: twoColumnSection.leftColumn.htmlContent,
// //                       }}
// //                     />
// //                   )}
// //               </div>
// //               <div
// //                 className={`item ${
// //                   twoColumnSection.rightColumn.customClass || ""
// //                 } ${
// //                   animationSettings.enableAnimations &&
// //                   animationSettings.enableViewportAnimations
// //                     ? `wow ${
// //                         twoColumnSection.rightColumn.animationClass ||
// //                         "fadeInRight"
// //                       }`
// //                     : ""
// //                 }`}
// //                 data-api-key="content_right"
// //                 style={{
// //                   backgroundColor: twoColumnSection.rightColumn.backgroundColor,
// //                   color: twoColumnSection.rightColumn.textColor,
// //                   textAlign: twoColumnSection.rightColumn.textAlign,
// //                 }}
// //               >
// //                 {twoColumnSection.rightColumn.heading && (
// //                   <h2
// //                     style={{
// //                       color:
// //                         twoColumnSection.rightColumn.headingColor ||
// //                         typographySettings.h2Color,
// //                       fontSize:
// //                         twoColumnSection.rightColumn.headingFontSize ||
// //                         typographySettings.h2FontSize,
// //                       fontWeight:
// //                         twoColumnSection.rightColumn.headingFontWeight ||
// //                         typographySettings.h2FontWeight,
// //                     }}
// //                   >
// //                     {twoColumnSection.rightColumn.heading}
// //                   </h2>
// //                 )}
// //                 {twoColumnSection.rightColumn.contentType === "richtext" &&
// //                   twoColumnSection.rightColumn.content && (
// //                     <div
// //                       style={{
// //                         fontSize: typographySettings.bodyFontSize,
// //                         lineHeight: typographySettings.bodyLineHeight,
// //                       }}
// //                       dangerouslySetInnerHTML={{
// //                         __html: lexicalToHtml(
// //                           twoColumnSection.rightColumn.content
// //                         ),
// //                       }}
// //                     />
// //                   )}
// //                 {twoColumnSection.rightColumn.contentType === "image" &&
// //                   rightImageSrc && (
// //                     <p>
// //                       <img
// //                         src={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? placeholder
// //                             : rightImageSrc
// //                         }
// //                         data-lazyload-src={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? rightImageSrc
// //                             : undefined
// //                         }
// //                         alt={twoColumnSection.rightColumn.imageAlt || ""}
// //                         width={twoColumnSection.rightColumn.image?.width}
// //                         height={twoColumnSection.rightColumn.image?.height}
// //                         loading={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? "lazy"
// //                             : "eager"
// //                         }
// //                         data-lazyload={
// //                           lazyLoadingSettings.enableLazyLoading
// //                             ? "img"
// //                             : undefined
// //                         }
// //                       />
// //                     </p>
// //                   )}
// //                 {twoColumnSection.rightColumn.contentType === "html" &&
// //                   twoColumnSection.rightColumn.htmlContent && (
// //                     <div
// //                       style={{
// //                         fontSize: typographySettings.bodyFontSize,
// //                         lineHeight: typographySettings.bodyLineHeight,
// //                       }}
// //                       dangerouslySetInnerHTML={{
// //                         __html: twoColumnSection.rightColumn.htmlContent,
// //                       }}
// //                     />
// //                   )}
// //                 {twoColumnSection.rightColumn.ctaButton.show && (
// //                   <p>
// //                     <a
// //                       href={twoColumnSection.rightColumn.ctaButton.url}
// //                       target={
// //                         twoColumnSection.rightColumn.ctaButton.openInNewTab
// //                           ? "_blank"
// //                           : undefined
// //                       }
// //                       rel={twoColumnSection.rightColumn.ctaButton.rel}
// //                       className={`btn ${
// //                         twoColumnSection.rightColumn.ctaButton.customClass || ""
// //                       }`}
// //                       style={{
// //                         backgroundColor:
// //                           twoColumnSection.rightColumn.ctaButton
// //                             .backgroundColor,
// //                         color: twoColumnSection.rightColumn.ctaButton.textColor,
// //                         borderRadius:
// //                           twoColumnSection.rightColumn.ctaButton.borderRadius,
// //                         padding: twoColumnSection.rightColumn.ctaButton.padding,
// //                         fontSize:
// //                           twoColumnSection.rightColumn.ctaButton.fontSize,
// //                         fontWeight:
// //                           twoColumnSection.rightColumn.ctaButton.fontWeight,
// //                       }}
// //                     >
// //                       {twoColumnSection.rightColumn.ctaButton.text}
// //                     </a>
// //                   </p>
// //                 )}
// //               </div>
// //             </div>
// //           </div>
// //         );

// //       default:
// //         return null;
// //     }
// //   };

// //   return (
// //     <main
// //       id="main"
// //       style={{
// //         maxWidth: globalStyles.containerMaxWidth,
// //         padding: globalStyles.containerPadding,
// //         fontFamily: globalStyles.fontFamily,
// //         color: globalStyles.textColor,
// //         margin: "0 auto",
// //       }}
// //     >
// //       {sectionOrder.map((item, index) => (
// //         <React.Fragment key={index}>
// //           {renderSection(item.section)}
// //         </React.Fragment>
// //       ))}
// //     </main>
// //   );
// // };

// // export default MedicalFinancing;

// "use client";

// import React, { useEffect, useState } from "react";
// import {
//   getResponsiveImageUrls,
//   getImageUrl,
//   lexicalToHtml,
// } from "@/lib/api/medicalSpa/fetchHandRejuvenationPageComponent";

// interface MedicalFinancingPageData {
//   componentName: string;
//   heroSection: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     backgroundImage: {
//       mobile?: any;
//       tablet?: any;
//       desktop?: any;
//       large?: any;
//       alt?: string;
//     };
//     breadcrumbs: Array<{ label: string; url: string; ariaLabel?: string }>;
//     breadcrumbTextColor?: string;
//     titleFirstLine: string;
//     titleSecondLine: string;
//     titleBreakOnDesktop: boolean;
//     titleClass?: string;
//     titleColor?: string;
//     titleFontSize?: string;
//     titleFontWeight?: string;
//     mediaImage: {
//       mobile?: any;
//       tablet?: any;
//       desktop?: any;
//       large?: any;
//       alt?: string;
//       width?: string;
//       height?: string;
//     };
//     layoutStyle: "mobile-stack" | "full-width" | "centered";
//     moduleClass?: string;
//   };
//   twoColumnSection: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     paddingTop?: string;
//     paddingBottom?: string;
//     containerWidth: "container" | "wide" | "full-width";
//     verticalAlign: boolean;
//     columnGap?: string;
//     moduleClass?: string;
//     leftColumn: {
//       contentType: "image" | "richtext" | "html";
//       image?: any;
//       imageUrl?: string;
//       imageAlt?: string;
//       imageWidth?: string;
//       imageHeight?: string;
//       content?: any;
//       htmlContent?: string;
//       backgroundColor?: string;
//       textColor?: string;
//       textAlign: "left" | "center" | "right";
//       animationClass?: string;
//       customClass?: string;
//     };
//     rightColumn: {
//       contentType: "richtext" | "image" | "html";
//       heading?: string;
//       headingColor?: string;
//       headingFontSize?: string;
//       headingFontWeight?: string;
//       content?: any;
//       image?: any;
//       imageAlt?: string;
//       htmlContent?: string;
//       ctaButton: {
//         show: boolean;
//         text: string;
//         url: string;
//         openInNewTab: boolean;
//         rel?: string;
//         backgroundColor?: string;
//         textColor?: string;
//         hoverBackgroundColor?: string;
//         hoverTextColor?: string;
//         borderRadius?: string;
//         padding?: string;
//         fontSize?: string;
//         fontWeight?: string;
//         customClass?: string;
//       };
//       backgroundColor?: string;
//       textColor?: string;
//       textAlign: "left" | "center" | "right";
//       animationClass?: string;
//       customClass?: string;
//     };
//   };
//   sectionOrder: Array<{ section: "hero" | "twoColumn" }>;
//   globalStyles: {
//     containerMaxWidth?: string;
//     containerPadding?: string;
//     sectionSpacing?: string;
//     fontFamily?: string;
//     primaryColor?: string;
//     secondaryColor?: string;
//     textColor?: string;
//     linkColor?: string;
//     linkHoverColor?: string;
//   };
//   typographySettings: {
//     h1FontSize?: string;
//     h1Color?: string;
//     h1FontWeight?: string;
//     h2FontSize?: string;
//     h2Color?: string;
//     h2FontWeight?: string;
//     bodyFontSize?: string;
//     bodyLineHeight?: string;
//   };
//   animationSettings: {
//     enableAnimations: boolean;
//     enableViewportAnimations: boolean;
//     fadeInDuration?: string;
//     animationEasing?: string;
//   };
//   lazyLoadingSettings: {
//     enableLazyLoading: boolean;
//     placeholderImage: string;
//   };
// }

// const MedicalFinancingSection: React.FC = () => {
//   const [pageData, setPageData] = useState<MedicalFinancingPageData | null>(
//     null
//   );
//   const [loading, setLoading] = useState(true);

//   useEffect(() => {
//     const fetchData = async () => {
//       try {
//         const res = await fetch(
//           `${
//             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
//             "https://backend-orpin-six-56.vercel.app/api"
//           }/medical-financing-page-component?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
//           {
//             next: { revalidate: 60 },
//             cache: "force-cache",
//           }
//         );
//         if (!res.ok) {
//           throw new Error(
//             `Failed to fetch Medical Financing page data: ${res.statusText}`
//           );
//         }
//         const data = await res.json();
//         const activeComponent =
//           data.docs?.find((component: any) => component.isActive) || null;
//         console.log("Fetched Medical Financing data:", activeComponent);
//         setPageData(activeComponent);
//       } catch (error) {
//         console.error("Error fetching Medical Financing page data:", error);
//       } finally {
//         setLoading(false);
//       }
//     };
//     fetchData();
//   }, []);

//   if (loading) return <div>Loading...</div>;
//   if (!pageData) return <div>No data available</div>;

//   const {
//     heroSection,
//     twoColumnSection,
//     sectionOrder,
//     globalStyles,
//     typographySettings,
//     animationSettings,
//     lazyLoadingSettings,
//   } = pageData;

//   const placeholder = lazyLoadingSettings.placeholderImage;

//   const renderSection = (section: string) => {
//     const animationClass = animationSettings.enableAnimations
//       ? animationSettings.enableViewportAnimations
//         ? `wow ${section === "hero" ? "fadeIn" : "fadeInUp"}`
//         : ""
//       : "";

//     switch (section) {
//       case "hero":
//         if (!heroSection.show) return null;
//         const heroBgImages = getResponsiveImageUrls(
//           heroSection.backgroundImage
//         );
//         const heroMediaImages = getResponsiveImageUrls(heroSection.mediaImage);
//         return (
//           <div
//             className={`mod_hero banner ${heroSection.layoutStyle} ${
//               heroSection.moduleClass || ""
//             } ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: heroSection.backgroundColor,
//               color: heroSection.textColor,
//             }}
//           >
//             <div className="wrapper">
//               <picture className="background">
//                 <source
//                   media="(max-width:420px)"
//                   srcSet={placeholder}
//                   data-lazyload-srcset={`${heroBgImages.mobile}?auto=format,compress&w=420, ${heroBgImages.mobile}?auto=format,compress&w=630 2x`}
//                 />
//                 <source
//                   media="(max-width:800px)"
//                   srcSet={placeholder}
//                   data-lazyload-srcset={`${heroBgImages.tablet}?auto=format,compress&w=800, ${heroBgImages.tablet}?auto=format,compress&w=1200 2x`}
//                 />
//                 <source
//                   media="(max-width:1400px)"
//                   srcSet={placeholder}
//                   data-lazyload-srcset={`${heroBgImages.desktop}?auto=format,compress&w=1400, ${heroBgImages.desktop}?auto=format,compress&w=2100 2x`}
//                 />
//                 <source
//                   srcSet={placeholder}
//                   data-lazyload-srcset={`${heroBgImages.large}?auto=format,compress&w=1994`}
//                 />
//                 <img
//                   src={placeholder}
//                   data-lazyload-src={`${heroBgImages.large}?auto=format,compress&w=1994`}
//                   loading={
//                     lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
//                   }
//                   data-lazyload="img"
//                   width="1994"
//                   height="1206"
//                   alt={heroBgImages.alt || "Background Texture"}
//                   draggable="false"
//                 />
//               </picture>
//               <div className="row">
//                 <div className="inner">
//                   <ul
//                     className="partial_breadcrumb"
//                     data-s3-partial
//                     style={{ color: heroSection.breadcrumbTextColor }}
//                   >
//                     {heroSection.breadcrumbs.map((crumb, index) => (
//                       <li key={index}>
//                         <a
//                           href={crumb.url}
//                           role="link"
//                           aria-label={
//                             crumb.ariaLabel ||
//                             "Breadcrumbs to help navigate the user"
//                           }
//                         >
//                           {crumb.label}
//                         </a>
//                       </li>
//                     ))}
//                   </ul>
//                   <h1
//                     className={heroSection.titleClass || "long-title"}
//                     style={{
//                       color:
//                         heroSection.titleColor || typographySettings.h1Color,
//                       fontSize:
//                         heroSection.titleFontSize ||
//                         typographySettings.h1FontSize,
//                       fontWeight:
//                         heroSection.titleFontWeight ||
//                         typographySettings.h1FontWeight,
//                     }}
//                   >
//                     {heroSection.titleFirstLine}{" "}
//                     {heroSection.titleBreakOnDesktop ? (
//                       <span className="block-desktop">
//                         {heroSection.titleSecondLine}
//                       </span>
//                     ) : (
//                       heroSection.titleSecondLine
//                     )}
//                   </h1>
//                 </div>
//               </div>
//               <div className="media">
//                 <picture className="background">
//                   <source
//                     media="(max-width:420px)"
//                     srcSet={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
//                     data-lazyload-srcset={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
//                   />
//                   <source
//                     media="(max-width:800px)"
//                     srcSet={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
//                     data-lazyload-srcset={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
//                   />
//                   <source
//                     media="(max-width:1400px)"
//                     srcSet={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
//                     data-lazyload-srcset={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
//                   />
//                   <source
//                     srcSet={`${heroMediaImages.large}?auto=format,compress&w=1920`}
//                     data-lazyload-srcset={`${heroMediaImages.large}?auto=format,compress&w=1920`}
//                   />
//                   <img
//                     src={`${heroMediaImages.large}?auto=format,compress&w=1920`}
//                     width={heroMediaImages.imageWidth || "1920"}
//                     height={heroMediaImages.imageHeight || "1206"}
//                     alt={
//                       heroMediaImages.alt ||
//                       "Person entering their credit card information on their cell phone"
//                     }
//                     draggable="false"
//                   />
//                 </picture>
//               </div>
//             </div>
//           </div>
//         );

//       case "twoColumn":
//         if (!twoColumnSection.show) return null;
//         const leftColumnImageUrl =
//           twoColumnSection.leftColumn.contentType === "image"
//             ? twoColumnSection.leftColumn.imageUrl ||
//               getImageUrl(twoColumnSection.leftColumn.image)
//             : "";
//         const rightColumnImageUrl =
//           twoColumnSection.rightColumn.contentType === "image"
//             ? getImageUrl(twoColumnSection.rightColumn.image)
//             : "";

//         return (
//           <div
//             className={`mod_columns_two viewport ${
//               twoColumnSection.containerWidth
//             } ${twoColumnSection.moduleClass || ""} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: twoColumnSection.backgroundColor,
//               color: twoColumnSection.textColor,
//               paddingTop: twoColumnSection.paddingTop,
//               paddingBottom: twoColumnSection.paddingBottom,
//             }}
//           >
//             <div className="row ">
//               <div
//                 className={`content ${
//                   twoColumnSection.verticalAlign ? "vertical-align" : ""
//                 }`}
//                 style={{ gap: twoColumnSection.columnGap }}
//               >
//                 <div
//                   className={`item wow ${
//                     twoColumnSection.leftColumn.animationClass || "fadeInLeft"
//                   } ${twoColumnSection.leftColumn.customClass || ""}`}
//                   data-api-key="content_left"
//                   style={{
//                     backgroundColor:
//                       twoColumnSection.leftColumn.backgroundColor,
//                     color: twoColumnSection.leftColumn.textColor,
//                     textAlign: twoColumnSection.leftColumn.textAlign,
//                   }}
//                 >
//                   {twoColumnSection.leftColumn.contentType === "image" &&
//                     leftColumnImageUrl && (
//                       <p>
//                         <img
//                           src={leftColumnImageUrl}
//                           alt={twoColumnSection.leftColumn.imageAlt || ""}
//                           style={{
//                             maxWidth: twoColumnSection.leftColumn.imageWidth,
//                             maxHeight: twoColumnSection.leftColumn.imageHeight,
//                           }}
//                         />
//                       </p>
//                     )}
//                   {twoColumnSection.leftColumn.contentType === "richtext" && (
//                     <div
//                       style={{
//                         fontSize: typographySettings.bodyFontSize,
//                         lineHeight: typographySettings.bodyLineHeight,
//                       }}
//                       dangerouslySetInnerHTML={{
//                         __html: lexicalToHtml(
//                           twoColumnSection.leftColumn.content
//                         ),
//                       }}
//                     />
//                   )}
//                   {twoColumnSection.leftColumn.contentType === "html" && (
//                     <div
//                       dangerouslySetInnerHTML={{
//                         __html: twoColumnSection.leftColumn.htmlContent || "",
//                       }}
//                     />
//                   )}
//                 </div>
//                 <div
//                   className={`item wow ${
//                     twoColumnSection.rightColumn.animationClass || "fadeInRight"
//                   } ${twoColumnSection.rightColumn.customClass || ""}`}
//                   data-api-key="content_right"
//                   style={{
//                     backgroundColor:
//                       twoColumnSection.rightColumn.backgroundColor,
//                     color: twoColumnSection.rightColumn.textColor,
//                     textAlign: twoColumnSection.rightColumn.textAlign,
//                   }}
//                 >
//                   {twoColumnSection.rightColumn.heading && (
//                     <h2
//                       style={{
//                         color:
//                           twoColumnSection.rightColumn.headingColor ||
//                           typographySettings.h2Color,
//                         fontSize:
//                           twoColumnSection.rightColumn.headingFontSize ||
//                           typographySettings.h2FontSize,
//                         fontWeight:
//                           twoColumnSection.rightColumn.headingFontWeight ||
//                           typographySettings.h2FontWeight,
//                       }}
//                       dangerouslySetInnerHTML={{
//                         __html: twoColumnSection.rightColumn.heading,
//                       }}
//                     />
//                   )}
//                   {twoColumnSection.rightColumn.contentType === "richtext" && (
//                     <div
//                       style={{
//                         fontSize: typographySettings.bodyFontSize,
//                         lineHeight: typographySettings.bodyLineHeight,
//                       }}
//                       dangerouslySetInnerHTML={{
//                         __html: lexicalToHtml(
//                           twoColumnSection.rightColumn.content
//                         ),
//                       }}
//                     />
//                   )}
//                   {twoColumnSection.rightColumn.contentType === "image" &&
//                     rightColumnImageUrl && (
//                       <img
//                         src={rightColumnImageUrl}
//                         alt={twoColumnSection.rightColumn.imageAlt || ""}
//                       />
//                     )}
//                   {twoColumnSection.rightColumn.contentType === "html" && (
//                     <div
//                       dangerouslySetInnerHTML={{
//                         __html: twoColumnSection.rightColumn.htmlContent || "",
//                       }}
//                     />
//                   )}
//                   {twoColumnSection.rightColumn.ctaButton.show && (
//                     <p>
//                       <p></p>
//                       <p></p>
//                       <a
//                         href={twoColumnSection.rightColumn.ctaButton.url}
//                         target={
//                           twoColumnSection.rightColumn.ctaButton.openInNewTab
//                             ? "_blank"
//                             : undefined
//                         }
//                         className={
//                           twoColumnSection.rightColumn.ctaButton.customClass ||
//                           "btn"
//                         }
//                         rel={
//                           twoColumnSection.rightColumn.ctaButton.rel ||
//                           "noopener"
//                         }
//                         style={{
//                           backgroundColor:
//                             twoColumnSection.rightColumn.ctaButton
//                               .backgroundColor,
//                           color:
//                             twoColumnSection.rightColumn.ctaButton.textColor,
//                           borderRadius:
//                             twoColumnSection.rightColumn.ctaButton.borderRadius,
//                           padding:
//                             twoColumnSection.rightColumn.ctaButton.padding,
//                           fontSize:
//                             twoColumnSection.rightColumn.ctaButton.fontSize,
//                           fontWeight:
//                             twoColumnSection.rightColumn.ctaButton.fontWeight,
//                         }}
//                       >
//                         {twoColumnSection.rightColumn.ctaButton.text}
//                       </a>
//                     </p>
//                   )}
//                 </div>
//               </div>
//             </div>
//           </div>
//         );

//       default:
//         return null;
//     }
//   };

//   return (
//     <main
//       id="main"
//       style={{
//         maxWidth: globalStyles.containerMaxWidth,
//         padding: globalStyles.containerPadding,
//         fontFamily: globalStyles.fontFamily,
//         color: globalStyles.textColor,
//         margin: "0 auto",
//       }}
//     >
//       {sectionOrder.map((item, index) => (
//         <React.Fragment key={index}>
//           {renderSection(item.section)}
//         </React.Fragment>
//       ))}
//     </main>
//   );
// };

// export default MedicalFinancingSection;

"use client";

import React from "react";
import {
  getResponsiveImageUrls,
  getImageUrl,
  lexicalToHtml,
} from "@/lib/api/medicalSpa/fetchHandRejuvenationPageComponent";

interface MedicalFinancingPageData {
  componentName: string;
  heroSection: {
    show: boolean;
    backgroundColor?: string;
    textColor?: string;
    backgroundImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt?: string;
    };
    breadcrumbs: Array<{ label: string; url: string; ariaLabel?: string }>;
    breadcrumbTextColor?: string;
    titleFirstLine: string;
    titleSecondLine: string;
    titleBreakOnDesktop: boolean;
    titleClass?: string;
    titleColor?: string;
    titleFontSize?: string;
    titleFontWeight?: string;
    mediaImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt?: string;
      width?: string;
      height?: string;
    };
    layoutStyle: "mobile-stack" | "full-width" | "centered";
    moduleClass?: string;
  };
  twoColumnSection: {
    show: boolean;
    backgroundColor?: string;
    textColor?: string;
    paddingTop?: string;
    paddingBottom?: string;
    containerWidth: "container" | "wide" | "full-width";
    verticalAlign: boolean;
    columnGap?: string;
    moduleClass?: string;
    leftColumn: {
      contentType: "image" | "richtext" | "html";
      image?: any;
      imageUrl?: string;
      imageAlt?: string;
      imageWidth?: string;
      imageHeight?: string;
      content?: any;
      htmlContent?: string;
      backgroundColor?: string;
      textColor?: string;
      textAlign: "left" | "center" | "right";
      animationClass?: string;
      customClass?: string;
    };
    rightColumn: {
      contentType: "richtext" | "image" | "html";
      heading?: string;
      headingColor?: string;
      headingFontSize?: string;
      headingFontWeight?: string;
      content?: any;
      image?: any;
      imageAlt?: string;
      htmlContent?: string;
      ctaButton: {
        show: boolean;
        text: string;
        url: string;
        openInNewTab: boolean;
        rel?: string;
        backgroundColor?: string;
        textColor?: string;
        hoverBackgroundColor?: string;
        hoverTextColor?: string;
        borderRadius?: string;
        padding?: string;
        fontSize?: string;
        fontWeight?: string;
        customClass?: string;
      };
      backgroundColor?: string;
      textColor?: string;
      textAlign: "left" | "center" | "right";
      animationClass?: string;
      customClass?: string;
    };
  };
  sectionOrder: Array<{ section: "hero" | "twoColumn" }>;
  globalStyles: {
    containerMaxWidth?: string;
    containerPadding?: string;
    sectionSpacing?: string;
    fontFamily?: string;
    primaryColor?: string;
    secondaryColor?: string;
    textColor?: string;
    linkColor?: string;
    linkHoverColor?: string;
  };
  typographySettings: {
    h1FontSize?: string;
    h1Color?: string;
    h1FontWeight?: string;
    h2FontSize?: string;
    h2Color?: string;
    h2FontWeight?: string;
    bodyFontSize?: string;
    bodyLineHeight?: string;
  };
  animationSettings: {
    enableAnimations: boolean;
    enableViewportAnimations: boolean;
    fadeInDuration?: string;
    animationEasing?: string;
  };
  lazyLoadingSettings: {
    enableLazyLoading: boolean;
    placeholderImage: string;
  };
}

interface MedicalFinancingSectionProps {
  data: MedicalFinancingPageData | null;
}

const MedicalFinancingSection: React.FC<MedicalFinancingSectionProps> = ({
  data,
}) => {
  if (!data) {
    return null; // Error handled in server component
  }

  const {
    heroSection,
    twoColumnSection,
    sectionOrder,
    globalStyles,
    typographySettings,
    animationSettings,
    lazyLoadingSettings,
  } = data;

  const placeholder = lazyLoadingSettings.placeholderImage;

  const renderSection = (section: string) => {
    const animationClass = animationSettings.enableAnimations
      ? animationSettings.enableViewportAnimations
        ? `wow ${section === "hero" ? "fadeIn" : "fadeInUp"}`
        : ""
      : "";

    switch (section) {
      case "hero":
        if (!heroSection.show) return null;
        const heroBgImages = getResponsiveImageUrls(
          heroSection.backgroundImage
        );
        const heroMediaImages = getResponsiveImageUrls(heroSection.mediaImage);
        return (
          <div
            className={`mod_hero banner ${heroSection.layoutStyle} ${
              heroSection.moduleClass || ""
            } ${animationClass}`}
            data-s3-module
            style={{
              backgroundColor: heroSection.backgroundColor,
              color: heroSection.textColor,
            }}
          >
            <div className="wrapper">
              <picture className="background">
                <source
                  media="(max-width:420px)"
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.mobile}?auto=format,compress&w=420, ${heroBgImages.mobile}?auto=format,compress&w=630 2x`}
                />
                <source
                  media="(max-width:800px)"
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.tablet}?auto=format,compress&w=800, ${heroBgImages.tablet}?auto=format,compress&w=1200 2x`}
                />
                <source
                  media="(max-width:1400px)"
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.desktop}?auto=format,compress&w=1400, ${heroBgImages.desktop}?auto=format,compress&w=2100 2x`}
                />
                <source
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.large}?auto=format,compress&w=1994`}
                />
                <img
                  src={placeholder}
                  data-lazyload-src={`${heroBgImages.large}?auto=format,compress&w=1994`}
                  loading={
                    lazyLoadingSettings.enableLazyLoading ? "lazy" : "eager"
                  }
                  data-lazyload="img"
                  width="1994"
                  height="1206"
                  alt={heroBgImages.alt || "Background Texture"}
                  draggable="false"
                />
              </picture>
              <div className="row">
                <div className="inner">
                  <ul
                    className="partial_breadcrumb"
                    data-s3-partial
                    style={{ color: heroSection.breadcrumbTextColor }}
                  >
                    {heroSection.breadcrumbs.map((crumb, index) => (
                      <li key={index}>
                        <a
                          href={crumb.url}
                          role="link"
                          aria-label={
                            crumb.ariaLabel ||
                            "Breadcrumbs to help navigate the user"
                          }
                        >
                          {crumb.label}
                        </a>
                      </li>
                    ))}
                  </ul>
                  <h1
                    className={heroSection.titleClass || "long-title"}
                    style={{
                      color:
                        heroSection.titleColor || typographySettings.h1Color,
                      fontSize:
                        heroSection.titleFontSize ||
                        typographySettings.h1FontSize,
                      fontWeight:
                        heroSection.titleFontWeight ||
                        typographySettings.h1FontWeight,
                    }}
                  >
                    {heroSection.titleFirstLine}{" "}
                    {heroSection.titleBreakOnDesktop ? (
                      <span className="block-desktop">
                        {heroSection.titleSecondLine}
                      </span>
                    ) : (
                      heroSection.titleSecondLine
                    )}
                  </h1>
                </div>
              </div>
              <div className="media">
                <picture className="background">
                  <source
                    media="(max-width:420px)"
                    srcSet={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
                    data-lazyload-srcset={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
                  />
                  <source
                    media="(max-width:800px)"
                    srcSet={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
                    data-lazyload-srcset={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
                  />
                  <source
                    media="(max-width:1400px)"
                    srcSet={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
                    data-lazyload-srcset={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
                  />
                  <source
                    srcSet={`${heroMediaImages.large}?auto=format,compress&w=1920`}
                    data-lazyload-srcset={`${heroMediaImages.large}?auto=format,compress&w=1920`}
                  />
                  <img
                    src={`${heroMediaImages.large}?auto=format,compress&w=1920`}
                    width={heroMediaImages.imageWidth || "1920"}
                    height={heroMediaImages.imageHeight || "1206"}
                    alt={
                      heroMediaImages.alt ||
                      "Person entering their credit card information on their cell phone"
                    }
                    draggable="false"
                  />
                </picture>
              </div>
            </div>
          </div>
        );

      case "twoColumn":
        if (!twoColumnSection.show) return null;
        const leftColumnImageUrl =
          twoColumnSection.leftColumn.contentType === "image"
            ? twoColumnSection.leftColumn.imageUrl ||
              getImageUrl(twoColumnSection.leftColumn.image)
            : "";
        const rightColumnImageUrl =
          twoColumnSection.rightColumn.contentType === "image"
            ? getImageUrl(twoColumnSection.rightColumn.image)
            : "";

        return (
          <div
            className={`mod_columns_two viewport ${
              twoColumnSection.containerWidth
            } ${twoColumnSection.moduleClass || ""} ${animationClass}`}
            data-s3-module
            style={{
              backgroundColor: twoColumnSection.backgroundColor,
              color: twoColumnSection.textColor,
              paddingTop: twoColumnSection.paddingTop,
              paddingBottom: twoColumnSection.paddingBottom,
            }}
          >
            <div className="row ">
              <div
                className={`content ${
                  twoColumnSection.verticalAlign ? "vertical-align" : ""
                }`}
                style={{ gap: twoColumnSection.columnGap }}
              >
                <div
                  className={`item wow ${
                    twoColumnSection.leftColumn.animationClass || "fadeInLeft"
                  } ${twoColumnSection.leftColumn.customClass || ""}`}
                  data-api-key="content_left"
                  style={{
                    backgroundColor:
                      twoColumnSection.leftColumn.backgroundColor,
                    color: twoColumnSection.leftColumn.textColor,
                    textAlign: twoColumnSection.leftColumn.textAlign,
                  }}
                >
                  {twoColumnSection.leftColumn.contentType === "image" &&
                    leftColumnImageUrl && (
                      <p>
                        <img
                          src={leftColumnImageUrl}
                          alt={twoColumnSection.leftColumn.imageAlt || ""}
                          style={{
                            maxWidth: twoColumnSection.leftColumn.imageWidth,
                            maxHeight: twoColumnSection.leftColumn.imageHeight,
                          }}
                        />
                      </p>
                    )}
                  {twoColumnSection.leftColumn.contentType === "richtext" && (
                    <div
                      style={{
                        fontSize: typographySettings.bodyFontSize,
                        lineHeight: typographySettings.bodyLineHeight,
                      }}
                      dangerouslySetInnerHTML={{
                        __html: lexicalToHtml(
                          twoColumnSection.leftColumn.content
                        ),
                      }}
                    />
                  )}
                  {twoColumnSection.leftColumn.contentType === "html" && (
                    <div
                      dangerouslySetInnerHTML={{
                        __html: twoColumnSection.leftColumn.htmlContent || "",
                      }}
                    />
                  )}
                </div>
                <div
                  className={`item wow ${
                    twoColumnSection.rightColumn.animationClass || "fadeInRight"
                  } ${twoColumnSection.rightColumn.customClass || ""}`}
                  data-api-key="content_right"
                  style={{
                    backgroundColor:
                      twoColumnSection.rightColumn.backgroundColor,
                    color: twoColumnSection.rightColumn.textColor,
                    textAlign: twoColumnSection.rightColumn.textAlign,
                  }}
                >
                  {twoColumnSection.rightColumn.heading && (
                    <h2
                      style={{
                        color:
                          twoColumnSection.rightColumn.headingColor ||
                          typographySettings.h2Color,
                        fontSize:
                          twoColumnSection.rightColumn.headingFontSize ||
                          typographySettings.h2FontSize,
                        fontWeight:
                          twoColumnSection.rightColumn.headingFontWeight ||
                          typographySettings.h2FontWeight,
                      }}
                      dangerouslySetInnerHTML={{
                        __html: twoColumnSection.rightColumn.heading,
                      }}
                    />
                  )}
                  {twoColumnSection.rightColumn.contentType === "richtext" && (
                    <div
                      style={{
                        fontSize: typographySettings.bodyFontSize,
                        lineHeight: typographySettings.bodyLineHeight,
                      }}
                      dangerouslySetInnerHTML={{
                        __html: lexicalToHtml(
                          twoColumnSection.rightColumn.content
                        ),
                      }}
                    />
                  )}
                  {twoColumnSection.rightColumn.contentType === "image" &&
                    rightColumnImageUrl && (
                      <img
                        src={rightColumnImageUrl}
                        alt={twoColumnSection.rightColumn.imageAlt || ""}
                      />
                    )}
                  {twoColumnSection.rightColumn.contentType === "html" && (
                    <div
                      dangerouslySetInnerHTML={{
                        __html: twoColumnSection.rightColumn.htmlContent || "",
                      }}
                    />
                  )}
                  {twoColumnSection.rightColumn.ctaButton.show && (
                    <p>
                      <p></p>
                      <p></p>
                      <a
                        href={twoColumnSection.rightColumn.ctaButton.url}
                        target={
                          twoColumnSection.rightColumn.ctaButton.openInNewTab
                            ? "_blank"
                            : undefined
                        }
                        className={
                          twoColumnSection.rightColumn.ctaButton.customClass ||
                          "btn"
                        }
                        rel={
                          twoColumnSection.rightColumn.ctaButton.rel ||
                          "noopener"
                        }
                        style={{
                          backgroundColor:
                            twoColumnSection.rightColumn.ctaButton
                              .backgroundColor,
                          color:
                            twoColumnSection.rightColumn.ctaButton.textColor,
                          borderRadius:
                            twoColumnSection.rightColumn.ctaButton.borderRadius,
                          padding:
                            twoColumnSection.rightColumn.ctaButton.padding,
                          fontSize:
                            twoColumnSection.rightColumn.ctaButton.fontSize,
                          fontWeight:
                            twoColumnSection.rightColumn.ctaButton.fontWeight,
                        }}
                      >
                        {twoColumnSection.rightColumn.ctaButton.text}
                      </a>
                    </p>
                  )}
                </div>
              </div>
            </div>
          </div>
        );

      default:
        return null;
    }
  };

  return (
    <main
      id="main"
      style={{
        maxWidth: globalStyles.containerMaxWidth,
        padding: globalStyles.containerPadding,
        fontFamily: globalStyles.fontFamily,
        color: globalStyles.textColor,
        margin: "0 auto",
      }}
    >
      {sectionOrder.map((item, index) => (
        <React.Fragment key={index}>
          {renderSection(item.section)}
        </React.Fragment>
      ))}
    </main>
  );
};

export default MedicalFinancingSection;