// // // // // // // import React from "react";

// // // // // // // const LipFillersGallery: React.FC = () => {
// // // // // // //   return (
// // // // // // //     <main id="main">
// // // // // // //       {/* Gallery Hero Partial */}
// // // // // // //       <div className="partial_gallery_hero banner bg" data-s3-partial>
// // // // // // //         <div className="row">
// // // // // // //           <div className="inner">
// // // // // // //             <h1>Lip Fillers Gallery</h1>
// // // // // // //             <ul className="partial_breadcrumb" data-s3-partial>
// // // // // // //               <li>
// // // // // // //                 <a
// // // // // // //                   href="/"
// // // // // // //                   role="link"
// // // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // // //                 >
// // // // // // //                   Home
// // // // // // //                 </a>
// // // // // // //               </li>
// // // // // // //               <li>
// // // // // // //                 <a
// // // // // // //                   href="/gallery/"
// // // // // // //                   role="link"
// // // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // // //                 >
// // // // // // //                   Gallery
// // // // // // //                 </a>
// // // // // // //               </li>
// // // // // // //               <li>
// // // // // // //                 <a
// // // // // // //                   href="/gallery/non-surgical/"
// // // // // // //                   role="link"
// // // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // // //                 >
// // // // // // //                   Non Surgical
// // // // // // //                 </a>
// // // // // // //               </li>
// // // // // // //               <li>
// // // // // // //                 <a
// // // // // // //                   href="/gallery/non-surgical/lip-fillers/"
// // // // // // //                   role="link"
// // // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // // //                 >
// // // // // // //                   Lip Fillers
// // // // // // //                 </a>
// // // // // // //               </li>
// // // // // // //             </ul>
// // // // // // //           </div>
// // // // // // //         </div>
// // // // // // //         <picture className="background">
// // // // // // //           <source
// // // // // // //             media="(max-width:420px)"
// // // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=630 2x"
// // // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=630 2x"
// // // // // // //           />
// // // // // // //           <source
// // // // // // //             media="(max-width:800px)"
// // // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1200 2x"
// // // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1200 2x"
// // // // // // //           />
// // // // // // //           <source
// // // // // // //             media="(max-width:1400px)"
// // // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2100 2x"
// // // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2100 2x"
// // // // // // //           />
// // // // // // //           <source
// // // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200"
// // // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200"
// // // // // // //           />
// // // // // // //           <img
// // // // // // //             src="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200"
// // // // // // //             width="2200"
// // // // // // //             height="691"
// // // // // // //             alt="Marble"
// // // // // // //             draggable="false"
// // // // // // //           />
// // // // // // //         </picture>
// // // // // // //       </div>

// // // // // // //       <div className="container partial_gallery_item_index" data-s3-partial>
// // // // // // //         <div className="row">
// // // // // // //           <div className="partial_gallery_dropdown" data-s3-partial>
// // // // // // //             <ul className="dropdown">
// // // // // // //               <li>
// // // // // // //                 <div className="selector">
// // // // // // //                   <span>Lip Fillers</span>
// // // // // // //                   <span className="icon-left-open"></span>
// // // // // // //                   <ul className="children">
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/lip-fillers/">
// // // // // // //                         Lip Fillers
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/botox/">BOTOX</a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/juvederm/">JUVÉDERM</a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/kybella/">KYBELLA</a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/micro-channeling/">
// // // // // // //                         Micro-Channeling
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/restylane-r/">Restylane</a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/skinmedica/">SkinMedica</a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/dermal-filler/">
// // // // // // //                         Dermal Filler
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/cheek-contour/">
// // // // // // //                         Cheek Contour
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/liquid-chin-and-jaw-contouring/">
// // // // // // //                         Liquid Chin & Jaw Contouring
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/liquid-rhinoplasty/">
// // // // // // //                         Liquid Rhinoplasty
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/marionette-lines/">
// // // // // // //                         Marionette Lines
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/liquid-facelift/">
// // // // // // //                         Liquid (Non-Surgical) Facelift
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/weight-loss/">
// // // // // // //                         Weight Loss
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                     <li>
// // // // // // //                       <a href="/gallery/non-surgical/lash-extensions/">
// // // // // // //                         Lash Extensions
// // // // // // //                       </a>
// // // // // // //                     </li>
// // // // // // //                   </ul>
// // // // // // //                 </div>
// // // // // // //               </li>
// // // // // // //             </ul>
// // // // // // //             <a href="/gallery/non-surgical/" className="link">
// // // // // // //               <span className="icon-left-open"></span>
// // // // // // //               Back to Gallery
// // // // // // //             </a>
// // // // // // //           </div>

// // // // // // //           <div className="partial_gallery_default_item_index" data-s3-partial>
// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/boDwe75GS56dHaOuM4zk7g/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="330"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 141877 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/e1XcACqISHSsvKsDvqEHKg/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="401"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 151255 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/ei9OtCvsSKKHu0f8c1VuQw/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="399"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 213241 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/GIKVhR51SCeLXy9ZTQirOw/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="386"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 421283 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/c4x8WBNITSSBTVzl93SRdQ/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="398"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 370320 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/PhEnPRP0Qtu-juxUbEYcfQ/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="352"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 658693 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/eUDJ1_R7SIeTUMDuKQL5yg/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="398"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 335871 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/aB4g7jCfQxicKontdZE-fg/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="373"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 134116 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/BIpqcPZHT9qnSHHiFCOjPQ/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="395"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 710517 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/CGLFXimzRly1ODfHuqfzPg/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="302"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 250138 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/fx5iIDG0TDeS4BeNK_bF6Q/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="300"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 574663 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/GIKahRttSzy1g40414QLEA/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="259"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 351771 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/R0Td-qvGQ86vI7tQ37ofKA/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="259"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 246977 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/KtYv_fZkTm6rr0r0D1sivA/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="259"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 416674 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>

// // // // // // //             <a
// // // // // // //               href="/gallery/non-surgical/lip-fillers/item/188992022/"
// // // // // // //               className="item single"
// // // // // // //             >
// // // // // // //               <picture className="">
// // // // // // //                 <source
// // // // // // //                   srcSet="https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400"
// // // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400"
// // // // // // //                 />
// // // // // // //                 <img
// // // // // // //                   src="https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400"
// // // // // // //                   width="400"
// // // // // // //                   height="93"
// // // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 188992022 - Image 1"
// // // // // // //                   draggable="false"
// // // // // // //                 />
// // // // // // //               </picture>
// // // // // // //             </a>
// // // // // // //           </div>
// // // // // // //         </div>
// // // // // // //       </div>

// // // // // // //       <div className="partial_pagination pagination" data-s3-partial>
// // // // // // //         <a
// // // // // // //           href="/gallery/non-surgical/lip-fillers/"
// // // // // // //           className="page-numbers hide-phone current"
// // // // // // //         >
// // // // // // //           1
// // // // // // //         </a>
// // // // // // //         <a
// // // // // // //           className="page-numbers hide-phone "
// // // // // // //           href="/gallery/non-surgical/lip-fillers/2/"
// // // // // // //         >
// // // // // // //           2
// // // // // // //         </a>
// // // // // // //         <a
// // // // // // //           className="page-numbers hide-phone "
// // // // // // //           href="/gallery/non-surgical/lip-fillers/3/"
// // // // // // //         >
// // // // // // //           3
// // // // // // //         </a>
// // // // // // //         <a
// // // // // // //           className="page-numbers hide-phone "
// // // // // // //           href="/gallery/non-surgical/lip-fillers/4/"
// // // // // // //         >
// // // // // // //           4
// // // // // // //         </a>
// // // // // // //         <a className="page-numbers" href="/gallery/non-surgical/lip-fillers/2/">
// // // // // // //           Next
// // // // // // //         </a>
// // // // // // //       </div>
// // // // // // //     </main>
// // // // // // //   );
// // // // // // // };

// // // // // // // export default LipFillersGallery;

// // // // // // "use client";

// // // // // // import React, { useState } from "react";
// // // // // // import ImageCarousel from "@/components/gallery/ImageCarousel";

// // // // // // const LipFillersGallery: React.FC = () => {
// // // // // //   const [isCarouselOpen, setIsCarouselOpen] = useState(false);
// // // // // //   const [currentImageIndex, setCurrentImageIndex] = useState(0);

// // // // // //   const images = [
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 141877 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 151255 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 213241 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 421283 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 370320 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 658693 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 335871 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 134116 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 710517 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 250138 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 574663 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 351771 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 246977 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 416674 - Image 1",
// // // // // //     },
// // // // // //     {
// // // // // //       src: "https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400",
// // // // // //       alt: "Lip Fillers Before & After Gallery - Patient 188992022 - Image 1",
// // // // // //     },
// // // // // //   ];

// // // // // //   const handleImageClick = (
// // // // // //     e: React.MouseEvent<HTMLAnchorElement>,
// // // // // //     index: number
// // // // // //   ) => {
// // // // // //     e.preventDefault();
// // // // // //     e.stopPropagation();
// // // // // //     console.log("Image clicked:", index);
// // // // // //     setCurrentImageIndex(index);
// // // // // //     setIsCarouselOpen(true);
// // // // // //     console.log("Carousel should open now");
// // // // // //   };

// // // // // //   return (
// // // // // //     <main id="main">
// // // // // //       {/* Gallery Hero Partial */}
// // // // // //       <div className="partial_gallery_hero banner bg" data-s3-partial>
// // // // // //         <div className="row">
// // // // // //           <div className="inner">
// // // // // //             <h1>Lip Fillers Gallery</h1>
// // // // // //             <ul className="partial_breadcrumb" data-s3-partial>
// // // // // //               <li>
// // // // // //                 <a
// // // // // //                   href="/"
// // // // // //                   role="link"
// // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // //                 >
// // // // // //                   Home
// // // // // //                 </a>
// // // // // //               </li>
// // // // // //               <li>
// // // // // //                 <a
// // // // // //                   href="/gallery/"
// // // // // //                   role="link"
// // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // //                 >
// // // // // //                   Gallery
// // // // // //                 </a>
// // // // // //               </li>
// // // // // //               <li>
// // // // // //                 <a
// // // // // //                   href="/gallery/non-surgical/"
// // // // // //                   role="link"
// // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // //                 >
// // // // // //                   Non Surgical
// // // // // //                 </a>
// // // // // //               </li>
// // // // // //               <li>
// // // // // //                 <a
// // // // // //                   href="/gallery/non-surgical/lip-fillers/"
// // // // // //                   role="link"
// // // // // //                   aria-label="Breadcrumbs to help navigate the user"
// // // // // //                 >
// // // // // //                   Lip Fillers
// // // // // //                 </a>
// // // // // //               </li>
// // // // // //             </ul>
// // // // // //           </div>
// // // // // //         </div>
// // // // // //         <picture className="background">
// // // // // //           <source
// // // // // //             media="(max-width:420px)"
// // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=630 2x"
// // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=630 2x"
// // // // // //           />
// // // // // //           <source
// // // // // //             media="(max-width:800px)"
// // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1200 2x"
// // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1200 2x"
// // // // // //           />
// // // // // //           <source
// // // // // //             media="(max-width:1400px)"
// // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2100 2x"
// // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2100 2x"
// // // // // //           />
// // // // // //           <source
// // // // // //             srcSet="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200"
// // // // // //             data-lazyload-srcset="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200"
// // // // // //           />
// // // // // //           <img
// // // // // //             src="https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200"
// // // // // //             width="2200"
// // // // // //             height="691"
// // // // // //             alt="Marble"
// // // // // //             draggable="false"
// // // // // //           />
// // // // // //         </picture>
// // // // // //       </div>

// // // // // //       <div className="container partial_gallery_item_index" data-s3-partial>
// // // // // //         <div className="row">
// // // // // //           <div className="partial_gallery_dropdown" data-s3-partial>
// // // // // //             <ul className="dropdown">
// // // // // //               <li>
// // // // // //                 <div className="selector">
// // // // // //                   <span>Lip Fillers</span>
// // // // // //                   <span className="icon-left-open"></span>
// // // // // //                   <ul className="children">
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/lip-fillers/">
// // // // // //                         Lip Fillers
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/botox/">BOTOX</a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/juvederm/">JUVÉDERM</a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/kybella/">KYBELLA</a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/micro-channeling/">
// // // // // //                         Micro-Channeling
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/restylane-r/">Restylane</a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/skinmedica/">SkinMedica</a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/dermal-filler/">
// // // // // //                         Dermal Filler
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/cheek-contour/">
// // // // // //                         Cheek Contour
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/liquid-chin-and-jaw-contouring/">
// // // // // //                         Liquid Chin & Jaw Contouring
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/liquid-rhinoplasty/">
// // // // // //                         Liquid Rhinoplasty
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/marionette-lines/">
// // // // // //                         Marionette Lines
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/liquid-facelift/">
// // // // // //                         Liquid (Non-Surgical) Facelift
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/weight-loss/">
// // // // // //                         Weight Loss
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                     <li>
// // // // // //                       <a href="/gallery/non-surgical/lash-extensions/">
// // // // // //                         Lash Extensions
// // // // // //                       </a>
// // // // // //                     </li>
// // // // // //                   </ul>
// // // // // //                 </div>
// // // // // //               </li>
// // // // // //             </ul>
// // // // // //             <a href="/gallery/non-surgical/" className="link">
// // // // // //               <span className="icon-left-open"></span>
// // // // // //               Back to Gallery
// // // // // //             </a>
// // // // // //           </div>

// // // // // //           <div className="partial_gallery_default_item_index" data-s3-partial>
// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 0)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="330"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 141877 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 1)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="401"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 151255 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 2)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="399"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 213241 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 3)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559493-lip-filler-9.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="386"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 421283 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 4)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559463-lip-filler-8.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="398"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 370320 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 5)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559419-lip-filler-7.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="352"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 658693 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 6)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559351-lip-filler-6.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="398"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 335871 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 7)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559336-lip-filler-4.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="373"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 134116 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 8)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559322-lip-filler-3.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="395"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 710517 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 9)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559309-lip-filler-2.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="302"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 250138 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 10)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1717559297-lip-filler-1.png?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="300"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 574663 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 11)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1701293379-01.jpg?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="259"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 351771 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 12)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1701293491-01.jpg?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="259"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 246977 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 13)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1701293755-01.jpg?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="259"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 416674 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>

// // // // // //             <a
// // // // // //               href="#"
// // // // // //               className="item single"
// // // // // //               onClick={(e) => handleImageClick(e, 14)}
// // // // // //             >
// // // // // //               <picture className="">
// // // // // //                 <source
// // // // // //                   srcSet="https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400"
// // // // // //                   data-lazyload-srcset="https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400"
// // // // // //                 />
// // // // // //                 <img
// // // // // //                   src="https://www.datocms-assets.com/105497/1697057613-03.jpg?auto=format,compress&w=400"
// // // // // //                   width="400"
// // // // // //                   height="93"
// // // // // //                   alt="Lip Fillers Before & After Gallery - Patient 188992022 - Image 1"
// // // // // //                   draggable="false"
// // // // // //                 />
// // // // // //               </picture>
// // // // // //             </a>
// // // // // //           </div>
// // // // // //         </div>
// // // // // //       </div>

// // // // // //       <div className="partial_pagination pagination" data-s3-partial>
// // // // // //         <a
// // // // // //           href="/gallery/non-surgical/lip-fillers/"
// // // // // //           className="page-numbers hide-phone current"
// // // // // //         >
// // // // // //           1
// // // // // //         </a>
// // // // // //         <a
// // // // // //           className="page-numbers hide-phone "
// // // // // //           href="/gallery/non-surgical/lip-fillers/2/"
// // // // // //         >
// // // // // //           2
// // // // // //         </a>
// // // // // //         <a
// // // // // //           className="page-numbers hide-phone "
// // // // // //           href="/gallery/non-surgical/lip-fillers/3/"
// // // // // //         >
// // // // // //           3
// // // // // //         </a>
// // // // // //         <a
// // // // // //           className="page-numbers hide-phone "
// // // // // //           href="/gallery/non-surgical/lip-fillers/4/"
// // // // // //         >
// // // // // //           4
// // // // // //         </a>
// // // // // //         <a className="page-numbers" href="/gallery/non-surgical/lip-fillers/2/">
// // // // // //           Next
// // // // // //         </a>
// // // // // //       </div>

// // // // // //       {isCarouselOpen && (
// // // // // //         <ImageCarousel
// // // // // //           images={images}
// // // // // //           currentIndex={currentImageIndex}
// // // // // //           onClose={() => setIsCarouselOpen(false)}
// // // // // //           onNavigate={(index) => setCurrentImageIndex(index)}
// // // // // //         />
// // // // // //       )}
// // // // // //     </main>
// // // // // //   );
// // // // // // };

// // // // // // export default LipFillersGallery;

// // // // // // components/ChinFillersGallery.tsx

// // // // // "use client";

// // // // // import React, { useState, useEffect } from "react";
// // // // // import ImageCarousel from "@/components/gallery/ImageCarousel";
// // // // // import {
// // // // //   fetchFillerFillersPageData,
// // // // //   getResponsiveImageUrls,
// // // // // } from "@/lib/api/Gallery/non-surgical/LipFillersGallery";

// // // // // interface GalleryImage {
// // // // //   src: string;
// // // // //   alt: string;
// // // // //   width?: number;
// // // // //   height?: number;
// // // // // }

// // // // // interface ChinFillersPageData {
// // // // //   heroSection: {
// // // // //     title: string;
// // // // //     backgroundImage: {
// // // // //       desktop: any;
// // // // //       tablet: any;
// // // // //       mobile: any;
// // // // //       smallMobile: any;
// // // // //       altText: string;
// // // // //     };
// // // // //     breadcrumbs: { label: string; url: string; ariaLabel: string }[];
// // // // //   };
// // // // //   dropdownSection: {
// // // // //     selectedItemLabel: string;
// // // // //     dropdownItems: { label: string; url: string; isActive: boolean }[];
// // // // //     backButton: { label: string; url: string; iconClass: string };
// // // // //   };
// // // // //   gallerySection: {
// // // // //     galleryItems: { image: any; imageUrl: string; altText: string; width: number; height: number }[];
// // // // //   };
// // // // //   paginationSection: {
// // // // //     enabled: boolean;
// // // // //     pages: { pageNumber: number; url: string; isCurrent: boolean; hideOnPhone: boolean }[];
// // // // //     nextButton: { label: string; url: string; enabled: boolean };
// // // // //     prevButton: { label: string; url: string; enabled: boolean };
// // // // //   };
// // // // // }

// // // // // const ChinFillersGallery: React.FC = () => {
// // // // //   const [isCarouselOpen, setIsCarouselOpen] = useState(false);
// // // // //   const [currentImageIndex, setCurrentImageIndex] = useState(0);
// // // // //   const [pageData, setPageData] = useState<ChinFillersPageData | null>(null);
// // // // //   const [isLoading, setIsLoading] = useState(true);

// // // // //   // Static fallback images (replace with actual chin filler images)
// // // // //   const fallbackImages: GalleryImage[] = [
// // // // //     {
// // // // //       src: "https://www.datocms-assets.com/105497/1717559581-lip-filler.png?auto=format,compress&w=400",
// // // // //       alt: "Chin Fillers Before & After Gallery - Patient 141877 - Image 1",
// // // // //       width: 400,
// // // // //       height: 330,
// // // // //     },
// // // // //     {
// // // // //       src: "https://www.datocms-assets.com/105497/1717559550-lip-filler-11.png?auto=format,compress&w=400",
// // // // //       alt: "Chin Fillers Before & After Gallery - Patient 151255 - Image 1",
// // // // //       width: 400,
// // // // //       height: 401,
// // // // //     },
// // // // //     {
// // // // //       src: "https://www.datocms-assets.com/105497/1717559522-lip-filler-10.png?auto=format,compress&w=400",
// // // // //       alt: "Chin Fillers Before & After Gallery - Patient 213241 - Image 1",
// // // // //       width: 400,
// // // // //       height: 399,
// // // // //     },
// // // // //     // Add more images as needed
// // // // //   ];

// // // // //   useEffect(() => {
// // // // //     const fetchData = async () => {
// // // // //       try {
// // // // //         const data = await fetchFillerFillersPageData();
// // // // //         setPageData(data);
// // // // //         setIsLoading(false);
// // // // //       } catch (error) {
// // // // //         console.error("Failed to fetch chin fillers data:", error);
// // // // //         setIsLoading(false);
// // // // //       }
// // // // //     };
// // // // //     fetchData();
// // // // //   }, []);

// // // // //   const images: GalleryImage[] = pageData?.gallerySection?.galleryItems?.map((item) => ({
// // // // //     src: item.imageUrl || getResponsiveImageUrls(item.image).desktop || "",
// // // // //     alt: item.altText,
// // // // //     width: item.width,
// // // // //     height: item.height,
// // // // //   })) || fallbackImages;

// // // // //   const handleImageClick = (
// // // // //     e: React.MouseEvent<HTMLAnchorElement>,
// // // // //     index: number
// // // // //   ) => {
// // // // //     e.preventDefault();
// // // // //     e.stopPropagation();
// // // // //     console.log("Image clicked:", index);
// // // // //     setCurrentImageIndex(index);
// // // // //     setIsCarouselOpen(true);
// // // // //     console.log("Carousel should open now");
// // // // //   };

// // // // //   if (isLoading) {
// // // // //     return <div>Loading...</div>;
// // // // //   }

// // // // //   const heroImages = pageData?.heroSection?.backgroundImage
// // // // //     ? getResponsiveImageUrls(pageData.heroSection.backgroundImage)
// // // // //     : {
// // // // //         smallMobile: "https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=420",
// // // // //         mobile: "https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=800",
// // // // //         tablet: "https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=1400",
// // // // //         desktop: "https://www.datocms-assets.com/105497/1694101214-gallery-banner-bgd.jpg?auto=format,compress&w=2200",
// // // // //         alt: "Chin Fillers Background",
// // // // //       };

// // // // //   return (
// // // // //     <main id="main">
// // // // //       {/* Hero Section */}
// // // // //       <div className="partial_gallery_hero banner bg" data-s3-partial>
// // // // //         <div className="row">
// // // // //           <div className="inner">
// // // // //             <h1>{pageData?.heroSection?.title || "Chin Fillers Gallery"}</h1>
// // // // //             <ul className="partial_breadcrumb" data-s3-partial>
// // // // //               {(pageData?.heroSection?.breadcrumbs || [
// // // // //                 { label: "Home", url: "/", ariaLabel: "Breadcrumbs to help navigate the user" },
// // // // //                 { label: "Gallery", url: "/gallery/", ariaLabel: "Breadcrumbs to help navigate the user" },
// // // // //                 { label: "Non Surgical", url: "/gallery/non-surgical/", ariaLabel: "Breadcrumbs to help navigate the user" },
// // // // //                 { label: "Chin Fillers", url: "/gallery/non-surgical/chin-fillers/", ariaLabel: "Breadcrumbs to help navigate the user" },
// // // // //               ]).map((crumb, index) => (
// // // // //                 <li key={index}>
// // // // //                   <a href={crumb.url} role="link" aria-label={crumb.ariaLabel}>
// // // // //                     {crumb.label}
// // // // //                   </a>
// // // // //                 </li>
// // // // //               ))}
// // // // //             </ul>
// // // // //           </div>
// // // // //         </div>
// // // // //         <picture className="background">
// // // // //           <source
// // // // //             media="(max-width:420px)"
// // // // //             srcSet={`${heroImages.smallMobile}, ${heroImages.smallMobile} 2x`}
// // // // //             data-lazyload-srcset={`${heroImages.smallMobile}, ${heroImages.smallMobile} 2x`}
// // // // //           />
// // // // //           <source
// // // // //             media="(max-width:800px)"
// // // // //             srcSet={`${heroImages.mobile}, ${heroImages.mobile} 2x`}
// // // // //             data-lazyload-srcset={`${heroImages.mobile}, ${heroImages.mobile} 2x`}
// // // // //           />
// // // // //           <source
// // // // //             media="(max-width:1400px)"
// // // // //             srcSet={`${heroImages.tablet}, ${heroImages.tablet} 2x`}
// // // // //             data-lazyload-srcset={`${heroImages.tablet}, ${heroImages.tablet} 2x`}
// // // // //           />
// // // // //           <source
// // // // //             srcSet={heroImages.desktop}
// // // // //             data-lazyload-srcset={heroImages.desktop}
// // // // //           />
// // // // //           <img
// // // // //             src={heroImages.desktop}
// // // // //             width="2200"
// // // // //             height="691"
// // // // //             alt={heroImages.alt}
// // // // //             draggable="false"
// // // // //           />
// // // // //         </picture>
// // // // //       </div>

// // // // //       {/* Dropdown Navigation */}
// // // // //       <div className="container partial_gallery_item_index" data-s3-partial>
// // // // //         <div className="row">
// // // // //           <div className="partial_gallery_dropdown" data-s3-partial>
// // // // //             <ul className="dropdown">
// // // // //               <li>
// // // // //                 <div className="selector">
// // // // //                   <span>{pageData?.dropdownSection?.selectedItemLabel || "Chin Fillers"}</span>
// // // // //                   <span className="icon-left-open"></span>
// // // // //                   <ul className="children">
// // // // //                     {(pageData?.dropdownSection?.dropdownItems || [
// // // // //                       { label: "Chin Fillers", url: "/gallery/non-surgical/chin-fillers/", isActive: true },
// // // // //                       // Add other dropdown items as in the collection config
// // // // //                     ]).map((item, index) => (
// // // // //                       <li key={index}>
// // // // //                         <a href={item.url}>{item.label}</a>
// // // // //                       </li>
// // // // //                     ))}
// // // // //                   </ul>
// // // // //                 </div>
// // // // //               </li>
// // // // //             </ul>
// // // // //             <a
// // // // //               href={pageData?.dropdownSection?.backButton?.url || "/gallery/non-surgical/"}
// // // // //               className="link"
// // // // //             >
// // // // //               <span className={pageData?.dropdownSection?.backButton?.iconClass || "icon-left-open"}></span>
// // // // //               {pageData?.dropdownSection?.backButton?.label || "Back to Gallery"}
// // // // //             </a>
// // // // //           </div>

// // // // //           {/* Gallery Items */}
// // // // //           <div className="partial_gallery_default_item_index" data-s3-partial>
// // // // //             {images.map((image, index) => (
// // // // //               <a
// // // // //                 key={index}
// // // // //                 href="#"
// // // // //                 className="item single"
// // // // //                 onClick={(e) => handleImageClick(e, index)}
// // // // //               >
// // // // //                 <picture>
// // // // //                   <source
// // // // //                     srcSet={`${image.src}`}
// // // // //                     data-lazyload-srcset={`${image.src}`}
// // // // //                   />
// // // // //                   <img
// // // // //                     src={image.src}
// // // // //                     width={image.width || 400}
// // // // //                     height={image.height || 300}
// // // // //                     alt={image.alt}
// // // // //                     draggable="false"
// // // // //                   />
// // // // //                 </picture>
// // // // //               </a>
// // // // //             ))}
// // // // //           </div>
// // // // //         </div>
// // // // //       </div>

// // // // //       {/* Pagination */}
// // // // //       {pageData?.paginationSection?.enabled && (
// // // // //         <div className="partial_pagination pagination" data-s3-partial>
// // // // //           {(pageData?.paginationSection?.pages || [
// // // // //             { pageNumber: 1, url: "/gallery/non-surgical/chin-fillers/", isCurrent: true, hideOnPhone: true },
// // // // //             { pageNumber: 2, url: "/gallery/non-surgical/chin-fillers/2/", isCurrent: false, hideOnPhone: true },
// // // // //             { pageNumber: 3, url: "/gallery/non-surgical/chin-fillers/3/", isCurrent: false, hideOnPhone: true },
// // // // //             { pageNumber: 4, url: "/gallery/non-surgical/chin-fillers/4/", isCurrent: false, hideOnPhone: true },
// // // // //           ]).map((page, index) => (
// // // // //             <a
// // // // //               key={index}
// // // // //               href={page.url}
// // // // //               className={`page-numbers ${page.hideOnPhone ? "hide-phone" : ""} ${
// // // // //                 page.isCurrent ? "current" : ""
// // // // //               }`}
// // // // //             >
// // // // //               {page.pageNumber}
// // // // //             </a>
// // // // //           ))}
// // // // //           {pageData?.paginationSection?.nextButton?.enabled && (
// // // // //             <a
// // // // //               className="page-numbers"
// // // // //               href={pageData?.paginationSection?.nextButton?.url || "/gallery/non-surgical/chin-fillers/2/"}
// // // // //             >
// // // // //               {pageData?.paginationSection?.nextButton?.label || "Next"}
// // // // //             </a>
// // // // //           )}
// // // // //           {pageData?.paginationSection?.prevButton?.enabled && (
// // // // //             <a
// // // // //               className="page-numbers"
// // // // //               href={pageData?.paginationSection?.prevButton?.url || "#"}
// // // // //             >
// // // // //               {pageData?.paginationSection?.prevButton?.label || "Previous"}
// // // // //             </a>
// // // // //           )}
// // // // //         </div>
// // // // //       )}

// // // // //       {isCarouselOpen && (
// // // // //         <ImageCarousel
// // // // //           images={images}
// // // // //           currentIndex={currentImageIndex}
// // // // //           onClose={() => setIsCarouselOpen(false)}
// // // // //           onNavigate={(index) => setCurrentImageIndex(index)}
// // // // //         />
// // // // //       )}
// // // // //     </main>
// // // // //   );
// // // // // };

// // // // // export default ChinFillersGallery;

// // // // "use client";

// // // // import React, { useEffect, useState } from "react";
// // // // import ImageCarousel from "@/components/gallery/ImageCarousel";
// // // // import { getResponsiveImageUrls } from "@/lib/api/Gallery/non-surgical/BotoxPage";
// // // // import { ChevronLeft } from "lucide-react";

// // // // interface BotoxGalleryPageData {
// // // //   componentName: string;
// // // //   slug: string;
// // // //   isActive: boolean;
// // // //   heroSection: {
// // // //     title: string;
// // // //     backgroundColor?: string;
// // // //     textColor?: string;
// // // //     backgroundImage: {
// // // //       desktop?: any;
// // // //       tablet?: any;
// // // //       mobile?: any;
// // // //       smallMobile?: any;
// // // //       altText?: string;
// // // //     };
// // // //     breadcrumbs: Array<{
// // // //       label: string;
// // // //       url: string;
// // // //       ariaLabel?: string;
// // // //     }>;
// // // //     breadcrumbTextColor?: string;
// // // //     breadcrumbLinkColor?: string;
// // // //     breadcrumbHoverColor?: string;
// // // //   };
// // // //   dropdownSection: {
// // // //     backgroundColor?: string;
// // // //     selectedItemLabel: string;
// // // //     dropdownItems: Array<{
// // // //       label: string;
// // // //       url: string;
// // // //       isActive: boolean;
// // // //     }>;
// // // //     backButton: {
// // // //       label?: string;
// // // //       url?: string;
// // // //       iconClass?: string;
// // // //     };
// // // //     textColor?: string;
// // // //     linkColor?: string;
// // // //     linkHoverColor?: string;
// // // //     borderColor?: string;
// // // //   };
// // // //   gallerySection: {
// // // //     backgroundColor?: string;
// // // //     sectionPadding?: string;
// // // //     galleryItems: Array<{
// // // //       image?: any;
// // // //       imageUrl?: string;
// // // //       itemUrl: string;
// // // //       altText: string;
// // // //       patientId?: string;
// // // //       imageNumber: number;
// // // //       width?: number;
// // // //       height?: number;
// // // //       customCss?: string;
// // // //     }>;
// // // //     itemBackgroundColor?: string;
// // // //     itemBorderColor?: string;
// // // //     itemHoverEffect?: "none" | "scale" | "opacity" | "shadow";
// // // //   };
// // // //   paginationSection: {
// // // //     enabled: boolean;
// // // //     backgroundColor?: string;
// // // //     textColor?: string;
// // // //     activePageColor?: string;
// // // //     activePageBackground?: string;
// // // //     hoverColor?: string;
// // // //     currentPage: number;
// // // //     totalPages: number;
// // // //     baseUrl?: string;
// // // //     pages: Array<{
// // // //       pageNumber: number;
// // // //       url: string;
// // // //       isCurrent: boolean;
// // // //       hideOnPhone: boolean;
// // // //     }>;
// // // //     nextButton: {
// // // //       label?: string;
// // // //       url?: string;
// // // //       enabled: boolean;
// // // //     };
// // // //     prevButton: {
// // // //       label?: string;
// // // //       url?: string;
// // // //       enabled: boolean;
// // // //     };
// // // //   };
// // // //   globalStyling: {
// // // //     containerBackgroundColor?: string;
// // // //     containerMaxWidth?: string;
// // // //     fontFamily?: string;
// // // //     primaryColor?: string;
// // // //     secondaryColor?: string;
// // // //     customCss?: string;
// // // //   };
// // // //   sectionOrder: Array<{
// // // //     sectionType: "hero" | "dropdown" | "gallery" | "pagination";
// // // //     enabled: boolean;
// // // //     customId?: string;
// // // //     customClass?: string;
// // // //   }>;
// // // //   seo: {
// // // //     metaTitle?: string;
// // // //     metaDescription?: string;
// // // //     metaKeywords?: string;
// // // //     ogImage?: any;
// // // //   };
// // // // }

// // // // const ChinFillersGallery: React.FC = () => {
// // // //   const [pageData, setPageData] = useState<BotoxGalleryPageData | null>(null);
// // // //   const [loading, setLoading] = useState(true);
// // // //   const [isCarouselOpen, setIsCarouselOpen] = useState(false);
// // // //   const [currentImageIndex, setCurrentImageIndex] = useState(0);

// // // //   useEffect(() => {
// // // //     const fetchData = async () => {
// // // //       try {
// // // //         const res = await fetch(
// // // //           `${
// // // //             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
// // // //             "https://backend-orpin-six-56.vercel.app/api"
// // // //           }/ChinFillersPage?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
// // // //           {
// // // //             next: { revalidate: 60 },
// // // //             cache: "force-cache",
// // // //           }
// // // //         );
// // // //         if (!res.ok) {
// // // //           throw new Error(
// // // //             `Failed to fetch Botox Gallery data: ${res.statusText}`
// // // //           );
// // // //         }
// // // //         const data = await res.json();
// // // //         const activeComponent =
// // // //           data.docs?.find((component: any) => component.isActive) || null;
// // // //         console.log("Fetched Botox Gallery data:", activeComponent);
// // // //         setPageData(activeComponent);
// // // //       } catch (error) {
// // // //         console.error("Error fetching Botox Gallery data:", error);
// // // //       } finally {
// // // //         setLoading(false);
// // // //       }
// // // //     };
// // // //     fetchData();
// // // //   }, []);

// // // //   useEffect(() => {
// // // //     if (pageData?.globalStyling?.customCss) {
// // // //       const style = document.createElement("style");
// // // //       style.innerHTML = pageData.globalStyling.customCss;
// // // //       document.head.appendChild(style);
// // // //     }
// // // //   }, [pageData]);

// // // //   const handleImageClick = (index: number) => {
// // // //     setCurrentImageIndex(index);
// // // //     setIsCarouselOpen(true);
// // // //   };

// // // //   if (loading) return <div>Loading...</div>;
// // // //   if (!pageData) return <div>No data available</div>;

// // // //   const {
// // // //     heroSection,
// // // //     dropdownSection,
// // // //     gallerySection,
// // // //     paginationSection,
// // // //     globalStyling,
// // // //     sectionOrder,
// // // //     seo,
// // // //   } = pageData;

// // // //   const renderSection = (
// // // //     sectionType: string,
// // // //     enabled: boolean,
// // // //     customId?: string,
// // // //     customClass?: string
// // // //   ) => {
// // // //     if (!enabled) return null;

// // // //     switch (sectionType) {
// // // //       case "hero":
// // // //         const backgroundImage = getResponsiveImageUrls(
// // // //           heroSection.backgroundImage
// // // //         );
// // // //         return (
// // // //           <div className="partial_gallery_hero banner bg" data-s3-partial="">
// // // //             <div className="row">
// // // //               <div className="inner">
// // // //                 <h1>{heroSection.title}</h1>
// // // //                 <ul className="partial_breadcrumb" data-s3-partial="">
// // // //                   {heroSection.breadcrumbs.map((breadcrumb, index) => (
// // // //                     <li key={index}>
// // // //                       <a
// // // //                         href={breadcrumb.url}
// // // //                         role="link"
// // // //                         aria-label={breadcrumb.ariaLabel}
// // // //                       >
// // // //                         {breadcrumb.label}
// // // //                       </a>
// // // //                     </li>
// // // //                   ))}
// // // //                 </ul>
// // // //               </div>
// // // //             </div>
// // // //             {backgroundImage.desktop && (
// // // //               <picture className="background">
// // // //                 <source
// // // //                   media="(max-width:420px)"
// // // //                   srcSet={`${backgroundImage.smallMobile}?auto=format,compress&w=420, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
// // // //                   data-lazyload-srcset={`${backgroundImage.smallMobile}?auto=format,compress&w=420, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
// // // //                 />
// // // //                 <source
// // // //                   media="(max-width:800px)"
// // // //                   srcSet={`${backgroundImage.mobile}?auto=format,compress&w=800, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
// // // //                   data-lazyload-srcset={`${backgroundImage.mobile}?auto=format,compress&w=800, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
// // // //                 />
// // // //                 <source
// // // //                   media="(max-width:1400px)"
// // // //                   srcSet={`${backgroundImage.tablet}?auto=format,compress&w=1400, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
// // // //                   data-lazyload-srcset={`${backgroundImage.tablet}?auto=format,compress&w=1400, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
// // // //                 />
// // // //                 <source
// // // //                   srcSet={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// // // //                   data-lazyload-srcset={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// // // //                 />
// // // //                 <img
// // // //                   src={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// // // //                   width="2200"
// // // //                   height="691"
// // // //                   alt={heroSection.backgroundImage.altText || "Marble"}
// // // //                   draggable="false"
// // // //                 />
// // // //               </picture>
// // // //             )}
// // // //           </div>
// // // //         );

// // // //       case "dropdown":
// // // //         return (
// // // //           <div className="partial_gallery_dropdown" data-s3-partial="">
// // // //             <ul className="dropdown">
// // // //               <li>
// // // //                 <div className="selector">
// // // //                   <span>{dropdownSection.selectedItemLabel}</span>
// // // //                   {/* <span
// // // //                     className={
// // // //                       dropdownSection.backButton.iconClass || "icon-left-open"
// // // //                     }
// // // //                   ></span> */}
// // // //                   <ChevronLeft
// // // //                     className={
// // // //                       dropdownSection.backButton.iconClass || "icon-left-open"
// // // //                     }
// // // //                     style={{ marginTop: "3px" }}
// // // //                   />
// // // //                   <ul className="children">
// // // //                     {dropdownSection.dropdownItems.map((item, index) => (
// // // //                       <li key={index}>
// // // //                         <a href={item.url}>{item.label}</a>
// // // //                       </li>
// // // //                     ))}
// // // //                   </ul>
// // // //                 </div>
// // // //               </li>
// // // //             </ul>
// // // //             {/* <a href={dropdownSection.backButton.url} className="link">
// // // //               <span
// // // //                 className={
// // // //                   dropdownSection.backButton.iconClass || "icon-left-open"
// // // //                 }
// // // //               ></span>
// // // //               {dropdownSection.backButton.label}
// // // //             </a> */}

// // // //             <a
// // // //               href={dropdownSection.backButton.url}
// // // //               className="link"
// // // //               style={{
// // // //                 display: "flex",
// // // //                 alignItems: "center",
// // // //                 gap: "6px", // space between icon and text
// // // //               }}
// // // //             >
// // // //               <ChevronLeft
// // // //                 className={
// // // //                   dropdownSection.backButton.iconClass || "icon-left-open"
// // // //                 }
// // // //                 style={{ marginTop: "0" }}
// // // //               />
// // // //               {dropdownSection.backButton.label}
// // // //             </a>
// // // //           </div>
// // // //         );

// // // //       case "gallery":
// // // //         return (
// // // //           <div
// // // //             className="partial_gallery_default_item_index"
// // // //             data-s3-partial=""
// // // //           >
// // // //             {gallerySection.galleryItems.map((item, index) => {
// // // //               const imageUrl =
// // // //                 item.imageUrl ||
// // // //                 getResponsiveImageUrls({ desktop: item.image }).desktop;
// // // //               return (
// // // //                 <a
// // // //                   key={index}
// // // //                   href={item.itemUrl}
// // // //                   className="item single"
// // // //                   onClick={(e) => {
// // // //                     e.preventDefault();
// // // //                     handleImageClick(index);
// // // //                   }}
// // // //                 >
// // // //                   <picture className="">
// // // //                     <source
// // // //                       srcSet={`${imageUrl}?auto=format,compress&w=${
// // // //                         item.width || 400
// // // //                       }`}
// // // //                       data-lazyload-srcset={`${imageUrl}?auto=format,compress&w=${
// // // //                         item.width || 400
// // // //                       }`}
// // // //                     />
// // // //                     <img
// // // //                       src={`${imageUrl}?auto=format,compress&w=${
// // // //                         item.width || 400
// // // //                       }`}
// // // //                       width={item.width || 400}
// // // //                       height={item.height || 300}
// // // //                       alt={item.altText}
// // // //                       draggable="false"
// // // //                     />
// // // //                   </picture>
// // // //                 </a>
// // // //               );
// // // //             })}
// // // //           </div>
// // // //         );

// // // //       case "pagination":
// // // //         if (!paginationSection.enabled) return null;
// // // //         return (
// // // //           <div className="partial_pagination pagination" data-s3-partial="">
// // // //             {paginationSection.prevButton.enabled &&
// // // //               paginationSection.prevButton.url && (
// // // //                 <a
// // // //                   href={paginationSection.prevButton.url}
// // // //                   className="page-numbers"
// // // //                 >
// // // //                   {paginationSection.prevButton.label || "Previous"}
// // // //                 </a>
// // // //               )}
// // // //             {paginationSection.pages.map((page, index) => (
// // // //               <a
// // // //                 key={index}
// // // //                 href={page.url}
// // // //                 className={`page-numbers ${page.isCurrent ? "current" : ""} ${
// // // //                   page.hideOnPhone ? "hide-phone" : ""
// // // //                 }`}
// // // //               >
// // // //                 {page.pageNumber}
// // // //               </a>
// // // //             ))}
// // // //             {paginationSection.nextButton.enabled &&
// // // //               paginationSection.nextButton.url && (
// // // //                 <a
// // // //                   href={paginationSection.nextButton.url}
// // // //                   className="page-numbers"
// // // //                 >
// // // //                   {paginationSection.nextButton.label || "Next"}
// // // //                 </a>
// // // //               )}
// // // //           </div>
// // // //         );

// // // //       default:
// // // //         return null;
// // // //     }
// // // //   };

// // // //   const carouselImages = gallerySection.galleryItems.map((item) => ({
// // // //     src:
// // // //       item.imageUrl || getResponsiveImageUrls({ desktop: item.image }).desktop,
// // // //     alt: item.altText,
// // // //   }));

// // // //   return (
// // // //     <main id="main">
// // // //       {seo.metaTitle && <title>{seo.metaTitle}</title>}
// // // //       {seo.metaDescription && (
// // // //         <meta name="description" content={seo.metaDescription} />
// // // //       )}
// // // //       {seo.metaKeywords && <meta name="keywords" content={seo.metaKeywords} />}
// // // //       {seo.ogImage && (
// // // //         <meta
// // // //           property="og:image"
// // // //           content={getResponsiveImageUrls({ desktop: seo.ogImage }).desktop}
// // // //         />
// // // //       )}

// // // //       {sectionOrder.map((section, index) => {
// // // //         if (section.sectionType === "hero" && section.enabled) {
// // // //           return (
// // // //             <React.Fragment key={index}>
// // // //               {renderSection(
// // // //                 section.sectionType,
// // // //                 section.enabled,
// // // //                 section.customId,
// // // //                 section.customClass
// // // //               )}
// // // //             </React.Fragment>
// // // //           );
// // // //         }
// // // //         return null;
// // // //       })}

// // // //       <div className="container partial_gallery_item_index" data-s3-partial="">
// // // //         <div className="row">
// // // //           {sectionOrder.map((section, index) => {
// // // //             if (section.sectionType === "dropdown" && section.enabled) {
// // // //               return (
// // // //                 <React.Fragment key={index}>
// // // //                   {renderSection(
// // // //                     section.sectionType,
// // // //                     section.enabled,
// // // //                     section.customId,
// // // //                     section.customClass
// // // //                   )}
// // // //                 </React.Fragment>
// // // //               );
// // // //             }
// // // //             return null;
// // // //           })}

// // // //           {sectionOrder.map((section, index) => {
// // // //             if (section.sectionType === "gallery" && section.enabled) {
// // // //               return (
// // // //                 <React.Fragment key={index}>
// // // //                   {renderSection(
// // // //                     section.sectionType,
// // // //                     section.enabled,
// // // //                     section.customId,
// // // //                     section.customClass
// // // //                   )}
// // // //                 </React.Fragment>
// // // //               );
// // // //             }
// // // //             return null;
// // // //           })}
// // // //         </div>
// // // //       </div>

// // // //       {sectionOrder.map((section, index) => {
// // // //         if (section.sectionType === "pagination" && section.enabled) {
// // // //           return (
// // // //             <React.Fragment key={index}>
// // // //               {renderSection(
// // // //                 section.sectionType,
// // // //                 section.enabled,
// // // //                 section.customId,
// // // //                 section.customClass
// // // //               )}
// // // //             </React.Fragment>
// // // //           );
// // // //         }
// // // //         return null;
// // // //       })}

// // // //       {isCarouselOpen && (
// // // //         <ImageCarousel
// // // //           images={carouselImages}
// // // //           currentIndex={currentImageIndex}
// // // //           onClose={() => setIsCarouselOpen(false)}
// // // //           onNavigate={(index) => setCurrentImageIndex(index)}
// // // //         />
// // // //       )}
// // // //     </main>
// // // //   );
// // // // };

// // // // export default ChinFillersGallery;

// // // "use client";

// // // import React, { useEffect, useState } from "react";
// // // import ImageCarousel from "@/components/gallery/ImageCarousel";
// // // import { getResponsiveImageUrls } from "@/lib/api/Gallery/non-surgical/BotoxPage";
// // // import { ChevronLeft } from "lucide-react";

// // // interface BotoxGalleryPageData {
// // //   componentName: string;
// // //   slug: string;
// // //   isActive: boolean;
// // //   heroSection: {
// // //     title: string;
// // //     backgroundColor?: string;
// // //     textColor?: string;
// // //     backgroundImage: {
// // //       desktop?: any;
// // //       tablet?: any;
// // //       mobile?: any;
// // //       smallMobile?: any;
// // //       altText?: string;
// // //     };
// // //     breadcrumbs: Array<{
// // //       label: string;
// // //       url: string;
// // //       ariaLabel?: string;
// // //     }>;
// // //     breadcrumbTextColor?: string;
// // //     breadcrumbLinkColor?: string;
// // //     breadcrumbHoverColor?: string;
// // //   };
// // //   dropdownSection: {
// // //     backgroundColor?: string;
// // //     selectedItemLabel: string;
// // //     dropdownItems: Array<{
// // //       label: string;
// // //       url: string;
// // //       isActive: boolean;
// // //     }>;
// // //     backButton: {
// // //       label?: string;
// // //       url?: string;
// // //       iconClass?: string;
// // //     };
// // //     textColor?: string;
// // //     linkColor?: string;
// // //     linkHoverColor?: string;
// // //     borderColor?: string;
// // //   };
// // //   gallerySection: {
// // //     backgroundColor?: string;
// // //     sectionPadding?: string;
// // //     galleryItems: Array<{
// // //       image?: any;
// // //       imageUrl?: string;
// // //       itemUrl: string;
// // //       altText: string;
// // //       patientId?: string;
// // //       imageNumber: number;
// // //       width?: number;
// // //       height?: number;
// // //       customCss?: string;
// // //     }>;
// // //     itemBackgroundColor?: string;
// // //     itemBorderColor?: string;
// // //     itemHoverEffect?: "none" | "scale" | "opacity" | "shadow";
// // //   };
// // //   paginationSection: {
// // //     enabled: boolean;
// // //     backgroundColor?: string;
// // //     textColor?: string;
// // //     activePageColor?: string;
// // //     activePageBackground?: string;
// // //     hoverColor?: string;
// // //     currentPage: number;
// // //     totalPages: number;
// // //     baseUrl?: string;
// // //     pages: Array<{
// // //       pageNumber: number;
// // //       url: string;
// // //       isCurrent: boolean;
// // //       hideOnPhone: boolean;
// // //     }>;
// // //     nextButton: {
// // //       label?: string;
// // //       url?: string;
// // //       enabled: boolean;
// // //     };
// // //     prevButton: {
// // //       label?: string;
// // //       url?: string;
// // //       enabled: boolean;
// // //     };
// // //   };
// // //   globalStyling: {
// // //     containerBackgroundColor?: string;
// // //     containerMaxWidth?: string;
// // //     fontFamily?: string;
// // //     primaryColor?: string;
// // //     secondaryColor?: string;
// // //     customCss?: string;
// // //   };
// // //   sectionOrder: Array<{
// // //     sectionType: "hero" | "dropdown" | "gallery" | "pagination";
// // //     enabled: boolean;
// // //     customId?: string;
// // //     customClass?: string;
// // //   }>;
// // //   seo: {
// // //     metaTitle?: string;
// // //     metaDescription?: string;
// // //     metaKeywords?: string;
// // //     ogImage?: any;
// // //   };
// // // }

// // // const LipFillerGallery: React.FC = () => {
// // //   const [pageData, setPageData] = useState<BotoxGalleryPageData | null>(null);
// // //   const [loading, setLoading] = useState(true);
// // //   const [isCarouselOpen, setIsCarouselOpen] = useState(false);
// // //   const [currentImageIndex, setCurrentImageIndex] = useState(0);

// // //   useEffect(() => {
// // //     const fetchData = async () => {
// // //       try {
// // //         const res = await fetch(
// // //           `${
// // //             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
// // //             "https://backend-orpin-six-56.vercel.app/api"
// // //           }/ChinFillersPage?where[isActive][equals]=true&depth=3&limit=1`,
// // //           {
// // //             next: { revalidate: 60 },
// // //             cache: "force-cache",
// // //           }
// // //         );
// // //         if (!res.ok) {
// // //           throw new Error(
// // //             `Failed to fetch Botox Gallery data: ${res.statusText}`
// // //           );
// // //         }
// // //         const data = await res.json();
// // //         const activeComponent =
// // //           data.docs?.find((component: any) => component.isActive) || null;
// // //         console.log("Fetched Botox Gallery data:", activeComponent);
// // //         console.log(
// // //           "Gallery Items Count:",
// // //           activeComponent?.gallerySection?.galleryItems?.length || 0
// // //         );
// // //         setPageData(activeComponent);
// // //       } catch (error) {
// // //         console.error("Error fetching Botox Gallery data:", error);
// // //       } finally {
// // //         setLoading(false);
// // //       }
// // //     };
// // //     fetchData();
// // //   }, []);

// // //   useEffect(() => {
// // //     if (pageData?.globalStyling?.customCss) {
// // //       const style = document.createElement("style");
// // //       style.innerHTML = pageData.globalStyling.customCss;
// // //       document.head.appendChild(style);
// // //     }
// // //   }, [pageData]);

// // //   const handleImageClick = (index: number) => {
// // //     setCurrentImageIndex(index);
// // //     setIsCarouselOpen(true);
// // //   };

// // //   if (loading) return <div>Loading...</div>;
// // //   if (!pageData) return <div>No data available</div>;

// // //   const {
// // //     heroSection,
// // //     dropdownSection,
// // //     gallerySection,
// // //     paginationSection,
// // //     globalStyling,
// // //     sectionOrder,
// // //     seo,
// // //   } = pageData;

// // //   const renderSection = (
// // //     sectionType: string,
// // //     enabled: boolean,
// // //     customId?: string,
// // //     customClass?: string
// // //   ) => {
// // //     if (!enabled) return null;

// // //     switch (sectionType) {
// // //       case "hero":
// // //         const backgroundImage = getResponsiveImageUrls(
// // //           heroSection.backgroundImage
// // //         );
// // //         return (
// // //           <div className="partial_gallery_hero banner bg" data-s3-partial="">
// // //             <div className="row">
// // //               <div className="inner">
// // //                 <h1>{heroSection.title}</h1>
// // //                 <ul className="partial_breadcrumb" data-s3-partial="">
// // //                   {heroSection.breadcrumbs.map((breadcrumb, index) => (
// // //                     <li key={index}>
// // //                       <a
// // //                         href={breadcrumb.url}
// // //                         role="link"
// // //                         aria-label={breadcrumb.ariaLabel}
// // //                       >
// // //                         {breadcrumb.label}
// // //                       </a>
// // //                     </li>
// // //                   ))}
// // //                 </ul>
// // //               </div>
// // //             </div>
// // //             {backgroundImage.desktop && (
// // //               <picture className="background">
// // //                 <source
// // //                   media="(max-width:420px)"
// // //                   srcSet={`${backgroundImage.smallMobile}?auto=format,compress&w=420, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
// // //                   data-lazyload-srcset={`${backgroundImage.smallMobile}?auto=format,compress&w=420, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
// // //                 />
// // //                 <source
// // //                   media="(max-width:800px)"
// // //                   srcSet={`${backgroundImage.mobile}?auto=format,compress&w=800, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
// // //                   data-lazyload-srcset={`${backgroundImage.mobile}?auto=format,compress&w=800, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
// // //                 />
// // //                 <source
// // //                   media="(max-width:1400px)"
// // //                   srcSet={`${backgroundImage.tablet}?auto=format,compress&w=1400, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
// // //                   data-lazyload-srcset={`${backgroundImage.tablet}?auto=format,compress&w=1400, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
// // //                 />
// // //                 <source
// // //                   srcSet={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// // //                   data-lazyload-srcset={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// // //                 />
// // //                 <img
// // //                   src={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// // //                   width="2200"
// // //                   height="691"
// // //                   alt={heroSection.backgroundImage.altText || "Marble"}
// // //                   draggable="false"
// // //                 />
// // //               </picture>
// // //             )}
// // //           </div>
// // //         );

// // //       case "dropdown":
// // //         return (
// // //           <div className="partial_gallery_dropdown" data-s3-partial="">
// // //             <ul className="dropdown">
// // //               <li>
// // //                 <div className="selector">
// // //                   <span>{dropdownSection.selectedItemLabel}</span>
// // //                   {/* <span
// // //                     className={
// // //                       dropdownSection.backButton.iconClass || "icon-left-open"
// // //                     }
// // //                   ></span> */}
// // //                   <ChevronLeft
// // //                     className={
// // //                       dropdownSection.backButton.iconClass || "icon-left-open"
// // //                     }
// // //                     style={{ marginTop: "3px" }}
// // //                   />
// // //                   <ul className="children">
// // //                     {dropdownSection.dropdownItems.map((item, index) => (
// // //                       <li key={index}>
// // //                         <a href={item.url}>{item.label}</a>
// // //                       </li>
// // //                     ))}
// // //                   </ul>
// // //                 </div>
// // //               </li>
// // //             </ul>
// // //             {/* <a href={dropdownSection.backButton.url} className="link">
// // //               <span
// // //                 className={
// // //                   dropdownSection.backButton.iconClass || "icon-left-open"
// // //                 }
// // //               ></span>
// // //               {dropdownSection.backButton.label}
// // //             </a> */}
// // //             <a
// // //               href={dropdownSection.backButton.url}
// // //               className="link"
// // //               style={{
// // //                 display: "flex",
// // //                 alignItems: "center",
// // //                 gap: "6px", // space between icon and text
// // //               }}
// // //             >
// // //               <ChevronLeft
// // //                 className={
// // //                   dropdownSection.backButton.iconClass || "icon-left-open"
// // //                 }
// // //                 style={{ marginTop: "0" }}
// // //               />
// // //               {dropdownSection.backButton.label}
// // //             </a>
// // //           </div>
// // //         );

// // //       case "gallery":
// // //         return (
// // //           <div
// // //             className="partial_gallery_default_item_index"
// // //             data-s3-partial=""
// // //           >
// // //             {gallerySection.galleryItems.map((item, index) => {
// // //               const imageUrl =
// // //                 item.imageUrl ||
// // //                 getResponsiveImageUrls({ desktop: item.image }).desktop;
// // //               return (
// // //                 <a
// // //                   key={index}
// // //                   href={item.itemUrl}
// // //                   className="item single"
// // //                   onClick={(e) => {
// // //                     e.preventDefault();
// // //                     handleImageClick(index);
// // //                   }}
// // //                 >
// // //                   <picture className="">
// // //                     <source
// // //                       srcSet={`${imageUrl}?auto=format,compress&w=${
// // //                         item.width || 400
// // //                       }`}
// // //                       data-lazyload-srcset={`${imageUrl}?auto=format,compress&w=${
// // //                         item.width || 400
// // //                       }`}
// // //                     />
// // //                     <img
// // //                       src={`${imageUrl}?auto=format,compress&w=${
// // //                         item.width || 400
// // //                       }`}
// // //                       width={item.width || 400}
// // //                       height={item.height || 300}
// // //                       alt={item.altText}
// // //                       draggable="false"
// // //                     />
// // //                   </picture>
// // //                 </a>
// // //               );
// // //             })}
// // //           </div>
// // //         );

// // //       case "pagination":
// // //         if (!paginationSection.enabled) return null;
// // //         return (
// // //           <div className="partial_pagination pagination" data-s3-partial="">
// // //             {paginationSection.prevButton.enabled &&
// // //               paginationSection.prevButton.url && (
// // //                 <a
// // //                   href={paginationSection.prevButton.url}
// // //                   className="page-numbers"
// // //                 >
// // //                   {paginationSection.prevButton.label || "Previous"}
// // //                 </a>
// // //               )}
// // //             {paginationSection.pages.map((page, index) => (
// // //               <a
// // //                 key={index}
// // //                 href={page.url}
// // //                 className={`page-numbers ${page.isCurrent ? "current" : ""} ${
// // //                   page.hideOnPhone ? "hide-phone" : ""
// // //                 }`}
// // //               >
// // //                 {page.pageNumber}
// // //               </a>
// // //             ))}
// // //             {paginationSection.nextButton.enabled &&
// // //               paginationSection.nextButton.url && (
// // //                 <a
// // //                   href={paginationSection.nextButton.url}
// // //                   className="page-numbers"
// // //                 >
// // //                   {paginationSection.nextButton.label || "Next"}
// // //                 </a>
// // //               )}
// // //           </div>
// // //         );

// // //       default:
// // //         return null;
// // //     }
// // //   };

// // //   const carouselImages = gallerySection.galleryItems.map((item) => ({
// // //     src:
// // //       item.imageUrl || getResponsiveImageUrls({ desktop: item.image }).desktop,
// // //     alt: item.altText,
// // //   }));

// // //   return (
// // //     <main id="main">
// // //       {seo.metaTitle && <title>{seo.metaTitle}</title>}
// // //       {seo.metaDescription && (
// // //         <meta name="description" content={seo.metaDescription} />
// // //       )}
// // //       {seo.metaKeywords && <meta name="keywords" content={seo.metaKeywords} />}
// // //       {seo.ogImage && (
// // //         <meta
// // //           property="og:image"
// // //           content={getResponsiveImageUrls({ desktop: seo.ogImage }).desktop}
// // //         />
// // //       )}

// // //       {sectionOrder.map((section, index) => {
// // //         if (section.sectionType === "hero" && section.enabled) {
// // //           return (
// // //             <React.Fragment key={index}>
// // //               {renderSection(
// // //                 section.sectionType,
// // //                 section.enabled,
// // //                 section.customId,
// // //                 section.customClass
// // //               )}
// // //             </React.Fragment>
// // //           );
// // //         }
// // //         return null;
// // //       })}

// // //       <div className="container partial_gallery_item_index" data-s3-partial="">
// // //         <div className="row">
// // //           {sectionOrder.map((section, index) => {
// // //             if (section.sectionType === "dropdown" && section.enabled) {
// // //               return (
// // //                 <React.Fragment key={index}>
// // //                   {renderSection(
// // //                     section.sectionType,
// // //                     section.enabled,
// // //                     section.customId,
// // //                     section.customClass
// // //                   )}
// // //                 </React.Fragment>
// // //               );
// // //             }
// // //             return null;
// // //           })}

// // //           {sectionOrder.map((section, index) => {
// // //             if (section.sectionType === "gallery" && section.enabled) {
// // //               return (
// // //                 <React.Fragment key={index}>
// // //                   {renderSection(
// // //                     section.sectionType,
// // //                     section.enabled,
// // //                     section.customId,
// // //                     section.customClass
// // //                   )}
// // //                 </React.Fragment>
// // //               );
// // //             }
// // //             return null;
// // //           })}
// // //         </div>
// // //       </div>

// // //       {sectionOrder.map((section, index) => {
// // //         if (section.sectionType === "pagination" && section.enabled) {
// // //           return (
// // //             <React.Fragment key={index}>
// // //               {renderSection(
// // //                 section.sectionType,
// // //                 section.enabled,
// // //                 section.customId,
// // //                 section.customClass
// // //               )}
// // //             </React.Fragment>
// // //           );
// // //         }
// // //         return null;
// // //       })}

// // //       {isCarouselOpen && (
// // //         <ImageCarousel
// // //           images={carouselImages}
// // //           currentIndex={currentImageIndex}
// // //           onClose={() => setIsCarouselOpen(false)}
// // //           onNavigate={(index) => setCurrentImageIndex(index)}
// // //         />
// // //       )}
// // //     </main>
// // //   );
// // // };

// // // export default LipFillerGallery;

// // "use client";

// // import React, { useEffect, useState } from "react";
// // import ImageCarousel from "@/components/gallery/ImageCarousel";
// // import { getResponsiveImageUrls } from "@/lib/api/Gallery/non-surgical/BotoxPage";
// // import { ChevronLeft } from "lucide-react";

// // import { redirect } from "next/navigation";

// // interface BotoxGalleryPageData {
// //   componentName: string;
// //   slug: string;
// //   isActive: boolean;
// //   heroSection: {
// //     title: string;
// //     backgroundColor?: string;
// //     textColor?: string;
// //     backgroundImage: {
// //       desktop?: any;
// //       tablet?: any;
// //       mobile?: any;
// //       smallMobile?: any;
// //       altText?: string;
// //     };
// //     breadcrumbs: Array<{
// //       label: string;
// //       url: string;
// //       ariaLabel?: string;
// //     }>;
// //     breadcrumbTextColor?: string;
// //     breadcrumbLinkColor?: string;
// //     breadcrumbHoverColor?: string;
// //   };
// //   dropdownSection: {
// //     backgroundColor?: string;
// //     selectedItemLabel: string;
// //     dropdownItems: Array<{
// //       label: string;
// //       url: string;
// //       isActive: boolean;
// //     }>;
// //     backButton: {
// //       label?: string;
// //       url?: string;
// //       iconClass?: string;
// //     };
// //     textColor?: string;
// //     linkColor?: string;
// //     linkHoverColor?: string;
// //     borderColor?: string;
// //   };
// //   gallerySection: {
// //     backgroundColor?: string;
// //     sectionPadding?: string;
// //     galleryItems: Array<{
// //       image?: any;
// //       imageUrl?: string;
// //       itemUrl: string;
// //       altText: string;
// //       patientId?: string;
// //       imageNumber: number;
// //       width?: number;
// //       height?: number;
// //       customCss?: string;
// //     }>;
// //     itemBackgroundColor?: string;
// //     itemBorderColor?: string;
// //     itemHoverEffect?: "none" | "scale" | "opacity" | "shadow";
// //   };
// //   paginationSection: {
// //     enabled: boolean;
// //     backgroundColor?: string;
// //     textColor?: string;
// //     activePageColor?: string;
// //     activePageBackground?: string;
// //     hoverColor?: string;
// //     currentPage: number;
// //     totalPages: number;
// //     baseUrl?: string;
// //     pages: Array<{
// //       pageNumber: number;
// //       url: string;
// //       isCurrent: boolean;
// //       hideOnPhone: boolean;
// //     }>;
// //     nextButton: {
// //       label?: string;
// //       url?: string;
// //       enabled: boolean;
// //     };
// //     prevButton: {
// //       label?: string;
// //       url?: string;
// //       enabled: boolean;
// //     };
// //   };
// //   globalStyling: {
// //     containerBackgroundColor?: string;
// //     containerMaxWidth?: string;
// //     fontFamily?: string;
// //     primaryColor?: string;
// //     secondaryColor?: string;
// //     customCss?: string;
// //   };
// //   sectionOrder: Array<{
// //     sectionType: "hero" | "dropdown" | "gallery" | "pagination";
// //     enabled: boolean;
// //     customId?: string;
// //     customClass?: string;
// //   }>;
// //   seo: {
// //     metaTitle?: string;
// //     metaDescription?: string;
// //     metaKeywords?: string;
// //     ogImage?: any;
// //   };
// // }

// // const LipFillerGallery: React.FC = () => {
// //   const [pageData, setPageData] = useState<BotoxGalleryPageData | null>(null);
// //   const [loading, setLoading] = useState(true);
// //   const [isCarouselOpen, setIsCarouselOpen] = useState(false);
// //   const [currentImageIndex, setCurrentImageIndex] = useState(0);

// //   useEffect(() => {
// //     const fetchData = async () => {
// //       try {
// //         const res = await fetch(
// //           `${
// //             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
// //             "https://backend-orpin-six-56.vercel.app/api"
// //           }/ChinFillersPage?where[isActive][equals]=true&depth=3&limit=1`,
// //           {
// //             next: { revalidate: 60 },
// //             cache: "force-cache",
// //           }
// //         );
// //         if (!res.ok) {
// //           throw new Error(
// //             `Failed to fetch Botox Gallery data: ${res.statusText}`
// //           );
// //         }
// //         const data = await res.json();
// //         const activeComponent =
// //           data.docs?.find((component: any) => component.isActive) || null;
// //         console.log("Fetched Botox Gallery data:", activeComponent);
// //         console.log(
// //           "Gallery Items Count:",
// //           activeComponent?.gallerySection?.galleryItems?.length || 0
// //         );
// //         console.log(
// //           "Pagination Enabled:",
// //           activeComponent?.paginationSection?.enabled
// //         );
// //         console.log("Pagination Data:", activeComponent?.paginationSection);
// //         setPageData(activeComponent);
// //       } catch (error) {
// //         console.error("Error fetching Botox Gallery data:", error);
// //       } finally {
// //         setLoading(false);
// //       }
// //     };
// //     fetchData();
// //   }, []);

// //   useEffect(() => {
// //     if (pageData?.globalStyling?.customCss) {
// //       const style = document.createElement("style");
// //       style.innerHTML = pageData.globalStyling.customCss;
// //       document.head.appendChild(style);
// //     }
// //   }, [pageData]);

// //   const handleImageClick = (index: number) => {
// //     setCurrentImageIndex(index);
// //     setIsCarouselOpen(true);
// //   };

// //   if (loading) return <div>Loading...</div>;
// //   if (!pageData) return <div>No data available</div>;

// //   const {
// //     heroSection,
// //     dropdownSection,
// //     gallerySection,
// //     paginationSection,
// //     globalStyling,
// //     sectionOrder,
// //     seo,
// //   } = pageData;

// //   const renderSection = (
// //     sectionType: string,
// //     enabled: boolean,
// //     customId?: string,
// //     customClass?: string
// //   ) => {
// //     if (!enabled) return null;

// //     switch (sectionType) {
// //       case "hero":
// //         const backgroundImage = getResponsiveImageUrls(
// //           heroSection.backgroundImage
// //         );
// //         return (
// //           <div className="partial_gallery_hero banner bg" data-s3-partial="">
// //             <div className="row">
// //               <div className="inner">
// //                 <h1>{heroSection.title}</h1>
// //                 <ul className="partial_breadcrumb" data-s3-partial="">
// //                   {heroSection.breadcrumbs.map((breadcrumb, index) => (
// //                     <li key={index}>
// //                       <a
// //                         href={breadcrumb.url}
// //                         role="link"
// //                         aria-label={breadcrumb.ariaLabel}
// //                       >
// //                         {breadcrumb.label}
// //                       </a>
// //                     </li>
// //                   ))}
// //                 </ul>
// //               </div>
// //             </div>
// //             {backgroundImage.desktop && (
// //               <picture className="background">
// //                 <source
// //                   media="(max-width:420px)"
// //                   srcSet={`${backgroundImage.smallMobile}?auto=format,compress&w=420, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
// //                   data-lazyload-srcset={`${backgroundImage.smallMobile}?auto=format,compress&w=420, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
// //                 />
// //                 <source
// //                   media="(max-width:800px)"
// //                   srcSet={`${backgroundImage.mobile}?auto=format,compress&w=800, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
// //                   data-lazyload-srcset={`${backgroundImage.mobile}?auto=format,compress&w=800, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
// //                 />
// //                 <source
// //                   media="(max-width:1400px)"
// //                   srcSet={`${backgroundImage.tablet}?auto=format,compress&w=1400, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
// //                   data-lazyload-srcset={`${backgroundImage.tablet}?auto=format,compress&w=1400, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
// //                 />
// //                 <source
// //                   srcSet={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// //                   data-lazyload-srcset={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// //                 />
// //                 <img
// //                   src={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
// //                   width="2200"
// //                   height="691"
// //                   alt={heroSection.backgroundImage.altText || "Marble"}
// //                   draggable="false"
// //                 />
// //               </picture>
// //             )}
// //           </div>
// //         );

// //       case "dropdown":
// //         return (
// //           <div className="partial_gallery_dropdown" data-s3-partial="">
// //             <ul className="dropdown">
// //               <li>
// //                 <div className="selector">
// //                   <span>{dropdownSection.selectedItemLabel}</span>
// //                   {/* <span
// //                     className={
// //                       dropdownSection.backButton.iconClass || "icon-left-open"
// //                     }
// //                   ></span> */}
// //                   <ChevronLeft
// //                     className={
// //                       dropdownSection.backButton.iconClass || "icon-left-open"
// //                     }
// //                     style={{ marginTop: "3px" }}
// //                   />
// //                   <ul className="children">
// //                     {dropdownSection.dropdownItems.map((item, index) => (
// //                       <li key={index}>
// //                         <a href={item.url}>{item.label}</a>
// //                       </li>
// //                     ))}
// //                   </ul>
// //                 </div>
// //               </li>
// //             </ul>
// //             {/* <a href={dropdownSection.backButton.url} className="link">
// //               <span
// //                 className={
// //                   dropdownSection.backButton.iconClass || "icon-left-open"
// //                 }
// //               ></span>
// //               {dropdownSection.backButton.label}
// //             </a> */}
// //             <a
// //               href={dropdownSection.backButton.url}
// //               className="link"
// //               style={{
// //                 display: "flex",
// //                 alignItems: "center",
// //                 gap: "6px", // space between icon and text
// //               }}
// //             >
// //               <ChevronLeft
// //                 className={
// //                   dropdownSection.backButton.iconClass || "icon-left-open"
// //                 }
// //                 style={{ marginTop: "0" }}
// //               />
// //               {dropdownSection.backButton.label}
// //             </a>
// //           </div>
// //         );

// //       case "gallery":
// //         return (
// //           <div
// //             className="partial_gallery_default_item_index"
// //             data-s3-partial=""
// //           >
// //             {gallerySection.galleryItems.map((item, index) => {
// //               const imageUrl =
// //                 item.imageUrl ||
// //                 getResponsiveImageUrls({ desktop: item.image }).desktop;
// //               return (
// //                 <a
// //                   key={index}
// //                   href={item.itemUrl}
// //                   className="item single"
// //                   onClick={(e) => {
// //                     e.preventDefault();
// //                     handleImageClick(index);
// //                   }}
// //                 >
// //                   <picture className="">
// //                     <source
// //                       srcSet={`${imageUrl}?auto=format,compress&w=${
// //                         item.width || 400
// //                       }`}
// //                       data-lazyload-srcset={`${imageUrl}?auto=format,compress&w=${
// //                         item.width || 400
// //                       }`}
// //                     />
// //                     <img
// //                       src={`${imageUrl}?auto=format,compress&w=${
// //                         item.width || 400
// //                       }`}
// //                       width={item.width || 400}
// //                       height={item.height || 300}
// //                       alt={item.altText}
// //                       draggable="false"
// //                     />
// //                   </picture>
// //                 </a>
// //               );
// //             })}
// //           </div>
// //         );

// //       case "pagination":
// //         if (!paginationSection?.enabled) return null;

// //         const hasPages =
// //           paginationSection.pages && paginationSection.pages.length > 0;
// //         const hasPrevButton =
// //           paginationSection.prevButton?.enabled &&
// //           paginationSection.prevButton?.url;
// //         const hasNextButton =
// //           paginationSection.nextButton?.enabled &&
// //           paginationSection.nextButton?.url;

// //         if (!hasPages && !hasPrevButton && !hasNextButton) return null;

// //         return (
// //           <div className="partial_pagination pagination" data-s3-partial="">
// //             {hasPrevButton && (
// //               <a
// //                 href={paginationSection.prevButton.url}
// //                 className="page-numbers"
// //               >
// //                 {paginationSection.prevButton.label || "Previous"}
// //               </a>
// //             )}
// //             {hasPages &&
// //               paginationSection.pages.map((page, index) => (
// //                 <a
// //                   key={index}
// //                   href={page.url}
// //                   className={`page-numbers ${page.isCurrent ? "current" : ""} ${
// //                     page.hideOnPhone ? "hide-phone" : ""
// //                   }`}
// //                 >
// //                   {page.pageNumber}
// //                 </a>
// //               ))}
// //             {hasNextButton && (
// //               <a
// //                 href={paginationSection.nextButton.url}
// //                 className="page-numbers"
// //               >
// //                 {paginationSection.nextButton.label || "Next"}
// //               </a>
// //             )}
// //           </div>
// //         );

// //       default:
// //         return null;
// //     }
// //   };

// //   const carouselImages = gallerySection.galleryItems.map((item) => ({
// //     src:
// //       item.imageUrl || getResponsiveImageUrls({ desktop: item.image }).desktop,
// //     alt: item.altText,
// //   }));

// //   return (
// //     <main id="main">
// //       {seo.metaTitle && <title>{seo.metaTitle}</title>}
// //       {seo.metaDescription && (
// //         <meta name="description" content={seo.metaDescription} />
// //       )}
// //       {seo.metaKeywords && <meta name="keywords" content={seo.metaKeywords} />}
// //       {seo.ogImage && (
// //         <meta
// //           property="og:image"
// //           content={getResponsiveImageUrls({ desktop: seo.ogImage }).desktop}
// //         />
// //       )}

// //       {sectionOrder.map((section, index) => {
// //         if (section.sectionType === "hero" && section.enabled) {
// //           return (
// //             <React.Fragment key={index}>
// //               {renderSection(
// //                 section.sectionType,
// //                 section.enabled,
// //                 section.customId,
// //                 section.customClass
// //               )}
// //             </React.Fragment>
// //           );
// //         }
// //         return null;
// //       })}

// //       <div className="container partial_gallery_item_index" data-s3-partial="">
// //         <div className="row">
// //           {sectionOrder.map((section, index) => {
// //             if (section.sectionType === "dropdown" && section.enabled) {
// //               return (
// //                 <React.Fragment key={index}>
// //                   {renderSection(
// //                     section.sectionType,
// //                     section.enabled,
// //                     section.customId,
// //                     section.customClass
// //                   )}
// //                 </React.Fragment>
// //               );
// //             }
// //             return null;
// //           })}

// //           {sectionOrder.map((section, index) => {
// //             if (section.sectionType === "gallery" && section.enabled) {
// //               return (
// //                 <React.Fragment key={index}>
// //                   {renderSection(
// //                     section.sectionType,
// //                     section.enabled,
// //                     section.customId,
// //                     section.customClass
// //                   )}
// //                 </React.Fragment>
// //               );
// //             }
// //             return null;
// //           })}
// //         </div>
// //       </div>

// //       {sectionOrder.map((section, index) => {
// //         if (section.sectionType === "pagination" && section.enabled) {
// //           return (
// //             <React.Fragment key={index}>
// //               {renderSection(
// //                 section.sectionType,
// //                 section.enabled,
// //                 section.customId,
// //                 section.customClass
// //               )}
// //             </React.Fragment>
// //           );
// //         }
// //         return null;
// //       })}

// //       {isCarouselOpen && (
// //         <ImageCarousel
// //           images={carouselImages}
// //           currentIndex={currentImageIndex}
// //           onClose={() => setIsCarouselOpen(false)}
// //           onNavigate={(index) => setCurrentImageIndex(index)}
// //         />
// //       )}
// //     </main>
// //   );
// // };

// // export default LipFillerGallery;

// import { redirect } from "next/navigation";

// export default function LipFillerGalleryRoot() {
//   redirect("/gallery/non-surgical/lip-fillers/1");
// }

"use client";

import React, { useEffect, useState, useCallback, useMemo } from "react";
import dynamic from "next/dynamic";
import { getResponsiveImageUrls } from "@/lib/api/Gallery/non-surgical/BotoxPage";
import { ChevronLeft } from "lucide-react";
import { useParams } from "next/navigation";
import { PaginatedGallerySchema } from "./PaginatedGallerySchema";

// Lazy load the carousel component
const ImageCarousel = dynamic(
  () => import("@/components/gallery/ImageCarousel"),
  {
    ssr: false,
    loading: () => <div>Loading...</div>,
  }
);

interface BotoxGalleryPageData {
  componentName: string;
  slug: string;
  isActive: boolean;
  heroSection: {
    title: string;
    backgroundColor?: string;
    textColor?: string;
    backgroundImage: {
      desktop?: any;
      tablet?: any;
      mobile?: any;
      smallMobile?: any;
      altText?: string;
    };
    breadcrumbs: Array<{
      label: string;
      url: string;
      ariaLabel?: string;
    }>;
    breadcrumbTextColor?: string;
    breadcrumbLinkColor?: string;
    breadcrumbHoverColor?: string;
  };
  dropdownSection: {
    backgroundColor?: string;
    selectedItemLabel: string;
    dropdownItems: Array<{
      label: string;
      url: string;
      isActive: boolean;
    }>;
    backButton: {
      label?: string;
      url?: string;
      iconClass?: string;
    };
    textColor?: string;
    linkColor?: string;
    linkHoverColor?: string;
    borderColor?: string;
  };
  gallerySection: {
    backgroundColor?: string;
    sectionPadding?: string;
    galleryItems: Array<{
      image?: any;
      imageUrl?: string;
      itemUrl: string;
      altText: string;
      patientId?: string;
      imageNumber: number;
      width?: number;
      height?: number;
      customCss?: string;
    }>;
    itemBackgroundColor?: string;
    itemBorderColor?: string;
    itemHoverEffect?: "none" | "scale" | "opacity" | "shadow";
  };
  paginationSection: {
    enabled: boolean;
    backgroundColor?: string;
    textColor?: string;
    activePageColor?: string;
    activePageBackground?: string;
    hoverColor?: string;
    currentPage: number;
    totalPages: number;
    baseUrl?: string;
    pages: Array<{
      pageNumber: number;
      url: string;
      isCurrent: boolean;
      hideOnPhone: boolean;
    }>;
    nextButton: {
      label?: string;
      url?: string;
      enabled: boolean;
    };
    prevButton: {
      label?: string;
      url?: string;
      enabled: boolean;
    };
  };
  globalStyling: {
    containerBackgroundColor?: string;
    containerMaxWidth?: string;
    fontFamily?: string;
    primaryColor?: string;
    secondaryColor?: string;
    customCss?: string;
  };
  sectionOrder: Array<{
    sectionType: "hero" | "dropdown" | "gallery" | "pagination";
    enabled: boolean;
    customId?: string;
    customClass?: string;
  }>;
  seo: {
    metaTitle?: string;
    metaDescription?: string;
    metaKeywords?: string;
    ogImage?: any;
  };
}

const LipFillerGalleryPaginated: React.FC = () => {
  const params = useParams();
  const currentPage = useMemo(() => {
    const page = parseInt(params.page as string);
    return isNaN(page) || page < 1 ? 1 : page;
  }, [params.page]);

  const [pageData, setPageData] = useState<BotoxGalleryPageData | null>(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState<string | null>(null);
  const [isCarouselOpen, setIsCarouselOpen] = useState(false);
  const [currentImageIndex, setCurrentImageIndex] = useState(0);

  // Pagination constants
  const ITEMS_PER_PAGE = 12;

  // Memoized pagination calculations
  const { totalItems, totalPages, startIndex, endIndex, currentPageItems } =
    useMemo(() => {
      const items = pageData?.gallerySection?.galleryItems || [];
      const total = items.length;
      const pages = Math.ceil(total / ITEMS_PER_PAGE);
      const start = (currentPage - 1) * ITEMS_PER_PAGE;
      const end = start + ITEMS_PER_PAGE;
      const pageItems = items.slice(start, end);

      return {
        totalItems: total,
        totalPages: pages,
        startIndex: start,
        endIndex: end,
        currentPageItems: pageItems,
      };
    }, [pageData?.gallerySection?.galleryItems, currentPage, ITEMS_PER_PAGE]);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const apiUrl =
          process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
          "https://backend-orpin-six-56.vercel.app/api";

        // Sanitize API URL to prevent XSS
        const sanitizedUrl = new URL(`${apiUrl}/ChinFillersPage`);
        sanitizedUrl.searchParams.set("where[isActive][equals]", "true");
        sanitizedUrl.searchParams.set("depth", "3");
        sanitizedUrl.searchParams.set("limit", "1");

        const controller = new AbortController();
        const timeoutId = setTimeout(() => controller.abort(), 10000); // 10s timeout

        const res = await fetch(sanitizedUrl.toString(), {
          next: { revalidate: 3600 }, // 1 hour cache
          cache: "force-cache",
          signal: controller.signal,
          headers: {
            "Content-Type": "application/json",
          },
        });

        clearTimeout(timeoutId);

        if (!res.ok) {
          throw new Error(
            `Failed to fetch Lip Filler Gallery data: ${res.status} ${res.statusText}`
          );
        }

        const data = await res.json();
        const activeComponent =
          data.docs?.find((component: any) => component.isActive) || null;

        if (process.env.NODE_ENV === "development") {
          console.log("Fetched Lip Filler Gallery data:", activeComponent);
          console.log(
            "Total Items:",
            activeComponent?.gallerySection?.galleryItems?.length || 0
          );
          console.log("Current Page:", currentPage);
        }

        setPageData(activeComponent);
        setError(null);
      } catch (error) {
        const errorMessage =
          error instanceof Error ? error.message : "Unknown error occurred";
        console.error("Error fetching Lip Filler Gallery data:", errorMessage);
        setError(errorMessage);
      } finally {
        setLoading(false);
      }
    };
    fetchData();
  }, [currentPage]);

  useEffect(() => {
    if (pageData?.globalStyling?.customCss) {
      // Sanitize CSS to prevent injection attacks
      const sanitizedCss = pageData.globalStyling.customCss
        .replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi, "")
        .replace(/javascript:/gi, "")
        .replace(/on\w+\s*=/gi, "");

      const style = document.createElement("style");
      style.setAttribute("data-gallery-custom", "true");
      style.textContent = sanitizedCss;
      document.head.appendChild(style);

      return () => {
        const customStyles = document.querySelectorAll(
          '[data-gallery-custom="true"]'
        );
        customStyles.forEach((style) => style.remove());
      };
    }
  }, [pageData]);

  const handleImageClick = useCallback(
    (index: number) => {
      const globalIndex = startIndex + index;
      setCurrentImageIndex(globalIndex);
      setIsCarouselOpen(true);
    },
    [startIndex]
  );

  const handleCarouselClose = useCallback(() => {
    setIsCarouselOpen(false);
  }, []);

  const handleCarouselNavigate = useCallback((index: number) => {
    setCurrentImageIndex(index);
  }, []);

  // Memoize carousel images
  const carouselImages = useMemo(() => {
    if (!pageData?.gallerySection?.galleryItems) return [];
    return pageData.gallerySection.galleryItems.map((item) => ({
      src:
        item.imageUrl ||
        getResponsiveImageUrls({ desktop: item.image }).desktop,
      alt: item.altText || "Gallery image",
    }));
  }, [pageData?.gallerySection?.galleryItems]);

  // Memoize page numbers calculation
  const getPageNumbers = useCallback(() => {
    const pages: (number | string)[] = [];
    const maxPagesToShow = 5;

    if (totalPages <= maxPagesToShow) {
      for (let i = 1; i <= totalPages; i++) pages.push(i);
    } else {
      pages.push(1);
      let startPage = Math.max(2, currentPage - 1);
      let endPage = Math.min(totalPages - 1, currentPage + 1);

      if (currentPage <= 2) endPage = 4;
      else if (currentPage >= totalPages - 1) startPage = totalPages - 3;

      if (startPage > 2) pages.push("...");
      for (let i = startPage; i <= endPage; i++) pages.push(i);
      if (endPage < totalPages - 1) pages.push("...");
      pages.push(totalPages);
    }
    return pages;
  }, [currentPage, totalPages]);

  const renderSection = useCallback(
    (
      sectionType: string,
      enabled: boolean,
      customId?: string,
      customClass?: string
    ) => {
      if (!enabled || !pageData) return null;

      const { heroSection, dropdownSection } = pageData;

      switch (sectionType) {
        // HERO SECTION
        case "hero":
          const backgroundImage = getResponsiveImageUrls(
            heroSection.backgroundImage
          );
          return (
            <div className="partial_gallery_hero banner bg" data-s3-partial="">
              <div className="row">
                <div className="inner">
                  <h1>{heroSection.title}</h1>
                  <ul className="partial_breadcrumb" data-s3-partial="">
                    {heroSection.breadcrumbs.map((breadcrumb, index) => (
                      <li key={`breadcrumb-${index}`}>
                        <a
                          href={breadcrumb.url}
                          role="link"
                          aria-label={breadcrumb.ariaLabel || breadcrumb.label}
                          rel="noopener"
                        >
                          {breadcrumb.label}
                        </a>
                      </li>
                    ))}
                  </ul>
                </div>
              </div>
              {backgroundImage.desktop && (
                <picture className="background">
                  <source
                    media="(max-width:420px)"
                    srcSet={`${backgroundImage.smallMobile}?auto=format,compress&w=420 1x, ${backgroundImage.smallMobile}?auto=format,compress&w=630 2x`}
                  />
                  <source
                    media="(max-width:800px)"
                    srcSet={`${backgroundImage.mobile}?auto=format,compress&w=800 1x, ${backgroundImage.mobile}?auto=format,compress&w=1200 2x`}
                  />
                  <source
                    media="(max-width:1400px)"
                    srcSet={`${backgroundImage.tablet}?auto=format,compress&w=1400 1x, ${backgroundImage.tablet}?auto=format,compress&w=2100 2x`}
                  />
                  <source
                    srcSet={`${backgroundImage.desktop}?auto=format,compress&w=2200 1x`}
                  />
                  <img
                    src={`${backgroundImage.desktop}?auto=format,compress&w=2200`}
                    width="2200"
                    height="691"
                    alt={
                      heroSection.backgroundImage.altText ||
                      "Lip Filler Gallery Hero Background"
                    }
                    draggable="false"
                    loading="eager"
                    fetchPriority="high"
                  />
                </picture>
              )}
            </div>
          );

        // DROPDOWN SECTION
        case "dropdown":
          return (
            <div className="partial_gallery_dropdown" data-s3-partial="">
              <ul className="dropdown">
                <li>
                  <div className="selector">
                    <span>{dropdownSection.selectedItemLabel}</span>
                    <ChevronLeft
                      className={
                        dropdownSection.backButton.iconClass || "icon-left-open"
                      }
                      style={{ marginTop: "3px" }}
                      aria-hidden="true"
                    />
                    <ul className="children">
                      {dropdownSection.dropdownItems.map((item, index) => (
                        <li key={`dropdown-${index}`}>
                          <a href={item.url} rel="noopener">
                            {item.label}
                          </a>
                        </li>
                      ))}
                    </ul>
                  </div>
                </li>
              </ul>

              <a
                href={dropdownSection.backButton.url}
                className="link"
                style={{
                  display: "flex",
                  alignItems: "center",
                  gap: "6px",
                }}
                rel="noopener"
                aria-label={`Go back: ${dropdownSection.backButton.label}`}
              >
                <ChevronLeft
                  className={
                    dropdownSection.backButton.iconClass || "icon-left-open"
                  }
                  style={{ marginTop: "0" }}
                  aria-hidden="true"
                />
                {dropdownSection.backButton.label}
              </a>
            </div>
          );

        // GALLERY SECTION
        case "gallery":
          return (
            <div
              className="partial_gallery_default_item_index"
              data-s3-partial=""
            >
              {currentPageItems.map((item, index) => {
                const imageUrl =
                  item.imageUrl ||
                  getResponsiveImageUrls({ desktop: item.image }).desktop;
                const width = item.width || 400;
                const height = item.height || 300;

                return (
                  <a
                    key={`gallery-${index}`}
                    href="#"
                    className="item single"
                    onClick={(e) => {
                      e.preventDefault();
                      handleImageClick(index);
                    }}
                    aria-label={`View ${item.altText || `image ${index + 1}`}`}
                  >
                    <picture>
                      <source
                        srcSet={`${imageUrl}?auto=format,compress&w=${width} 1x`}
                      />
                      <img
                        src={`${imageUrl}?auto=format,compress&w=${width}`}
                        width={width}
                        height={height}
                        alt={
                          item.altText ||
                          `Lip filler result ${startIndex + index + 1}`
                        }
                        draggable="false"
                        loading={index < 6 ? "eager" : "lazy"}
                        decoding="async"
                      />
                    </picture>
                  </a>
                );
              })}
            </div>
          );

        // PAGINATION SECTION
        case "pagination":
          if (totalPages <= 1) return null;

          const baseUrl = "/gallery/non-surgical/lip-fillers";
          const prevPage = currentPage > 1 ? currentPage - 1 : null;
          const nextPage = currentPage < totalPages ? currentPage + 1 : null;

          return (
            <div className="partial_pagination pagination" data-s3-partial="">
              {prevPage && (
                <a
                  href={prevPage === 1 ? baseUrl : `${baseUrl}/${prevPage}`}
                  className="page-numbers"
                  rel="prev noopener"
                  aria-label="Go to previous page"
                >
                  Previous
                </a>
              )}

              {getPageNumbers().map((page, index) => {
                if (page === "...") {
                  return (
                    <span
                      key={`ellipsis-${index}`}
                      className="page-numbers dots"
                      aria-hidden="true"
                    >
                      ...
                    </span>
                  );
                }
                const pageNum = page as number;
                const isCurrentPage = pageNum === currentPage;
                return (
                  <a
                    key={`page-${pageNum}`}
                    href={pageNum === 1 ? baseUrl : `${baseUrl}/${pageNum}`}
                    className={`page-numbers ${isCurrentPage ? "current" : ""}`}
                    aria-label={`Go to page ${pageNum}`}
                    aria-current={isCurrentPage ? "page" : undefined}
                    rel="noopener"
                  >
                    {pageNum}
                  </a>
                );
              })}

              {nextPage && (
                <a
                  href={`${baseUrl}/${nextPage}`}
                  className="page-numbers"
                  rel="next noopener"
                  aria-label="Go to next page"
                >
                  Next
                </a>
              )}
            </div>
          );

        default:
          return null;
      }
    },
    [
      pageData,
      currentPageItems,
      handleImageClick,
      startIndex,
      currentPage,
      totalPages,
      getPageNumbers,
    ]
  );

  if (loading) {
    return (
      <div
        role="status"
        aria-live="polite"
        style={{ padding: "2rem", textAlign: "center" }}
      >
        Loading gallery...
      </div>
    );
  }

  if (error) {
    return (
      <div
        role="alert"
        aria-live="assertive"
        style={{ padding: "2rem", textAlign: "center" }}
      >
        Unable to load gallery. Please try again later.
      </div>
    );
  }

  if (!pageData) {
    return (
      <div
        role="status"
        aria-live="polite"
        style={{ padding: "2rem", textAlign: "center" }}
      >
        No gallery data available
      </div>
    );
  }

  const { sectionOrder } = pageData;

  return (
    <>
      {/* Add JSON-LD Schema for SEO */}
      <PaginatedGallerySchema
        pageData={pageData}
        currentPage={currentPage}
        totalPages={totalPages}
        itemsPerPage={ITEMS_PER_PAGE}
        baseUrl="/gallery/non-surgical/lip-fillers"
        galleryType="lip-fillers"
      />

      <main id="main">
        {/* HERO SECTION */}
        {sectionOrder.map(
          (section, index) =>
            section.sectionType === "hero" &&
            section.enabled && (
              <React.Fragment key={`section-hero-${index}`}>
                {renderSection(
                  section.sectionType,
                  section.enabled,
                  section.customId,
                  section.customClass
                )}
              </React.Fragment>
            )
        )}

        {/* MAIN CONTENT */}
        <div
          className="container partial_gallery_item_index"
          data-s3-partial=""
        >
          <div className="row">
            {sectionOrder.map(
              (section, index) =>
                section.sectionType === "dropdown" &&
                section.enabled && (
                  <React.Fragment key={`section-dropdown-${index}`}>
                    {renderSection(
                      section.sectionType,
                      section.enabled,
                      section.customId,
                      section.customClass
                    )}
                  </React.Fragment>
                )
            )}

            {sectionOrder.map(
              (section, index) =>
                section.sectionType === "gallery" &&
                section.enabled && (
                  <React.Fragment key={`section-gallery-${index}`}>
                    {renderSection(
                      section.sectionType,
                      section.enabled,
                      section.customId,
                      section.customClass
                    )}
                  </React.Fragment>
                )
            )}
          </div>
        </div>

        {/* PAGINATION */}
        {sectionOrder.map(
          (section, index) =>
            section.sectionType === "pagination" &&
            section.enabled && (
              <React.Fragment key={`section-pagination-${index}`}>
                {renderSection(
                  section.sectionType,
                  section.enabled,
                  section.customId,
                  section.customClass
                )}
              </React.Fragment>
            )
        )}

        {/* IMAGE CAROUSEL */}
        {isCarouselOpen && (
          <ImageCarousel
            images={carouselImages}
            currentIndex={currentImageIndex}
            onClose={handleCarouselClose}
            onNavigate={handleCarouselNavigate}
          />
        )}
      </main>
    </>
  );
};

export default LipFillerGalleryPaginated;