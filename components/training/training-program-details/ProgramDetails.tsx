// // import React from "react";

// // const ProgramDetails: React.FC = () => {
// //   return (
// //     <main id="main">
// //       {/* Page Layout */}
// //       {/* Intro Module */}
// //       <div
// //         className="mod_intro container viewport option-1 wow fadeInUp"
// //         data-s3-module
// //       >
// //         <div className="row ">
// //           <picture className="logo">
// //             <img
// //               src="https://www.datocms-assets.com/105497/1692813243-logo-module.svg"
// //               width={58}
// //               height={64}
// //               loading="lazy"
// //               alt="Goldfingers aesthetic logo"
// //               draggable="false"
// //               data-api-key="logo"
// //             />
// //           </picture>
// //           <div className="inner" data-api-key="content">
// //             <h1>Advanced Injector Program Details</h1>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Column Module */}
// //       <div className="mod_column viewport container" data-s3-module>
// //         <div className="row " data-api-key="content">
// //           <div className="item">
// //             <center>
// //               <p>
// //                 <img
// //                   alt="team photo"
// //                   src="https://www.datocms-assets.com/105497/1706814483-specials-team.jpg"
// //                 />
// //               </p>
// //               <h3>
// //                 Advance your career with flexible, hands-on aesthetic injector
// //                 training designed to match your experience and ambitions.
// //               </h3>
// //             </center>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Divider Module */}
// //       <div className="mod_divider container" data-s3-module>
// //         <div className="row">
// //           <div className="media">
// //             <picture className="">
// //               <img
// //                 src="https://www.datocms-assets.com/105497/1693320285-logo-module-navy.svg"
// //                 width={55}
// //                 height={61}
// //                 loading="lazy"
// //                 alt="Logo media"
// //                 draggable="false"
// //               />
// //             </picture>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Column Module */}
// //       <div className="mod_column viewport container" data-s3-module>
// //         <div className="row " data-api-key="content">
// //           <div className="item">
// //             <center>
// //               <h1>Compare Training Programs</h1>
// //               <p>
// //                 <br />
// //                 We offer two immersive training paths, both AMI-certified and
// //                 built around expert instruction, live model experience, and
// //                 exclusive Allergan curriculum access.
// //               </p>
// //             </center>
// //             <center>
// //               <table border="1" style={{ borderCollapse: "collapse" }}>
// //                 <tbody>
// //                   <tr>
// //                     <td>
// //                       <p>
// //                         <strong>PROGRAM</strong>
// //                       </p>
// //                     </td>
// //                     <td>
// //                       <p>
// //                         <strong>DURATION</strong>
// //                       </p>
// //                     </td>
// //                     <td>
// //                       <p>
// //                         <strong>TUITION</strong>
// //                       </p>
// //                     </td>
// //                     <td>
// //                       <p>
// //                         <strong>WHAT'S INCLUDED</strong>
// //                       </p>
// //                     </td>
// //                   </tr>
// //                   <tr>
// //                     <td>
// //                       <p>Fundamental Injectables</p>
// //                     </td>
// //                     <td>3 Days</td>
// //                     <td>$5,999*</td>
// //                     <td>
// //                       <p>
// //                         16+ hours of live instruction, AMI certification,
// //                         hands-on training with models, 1-year Allergan online
// //                         access
// //                       </p>
// //                       <p></p>
// //                     </td>
// //                   </tr>
// //                   <tr>
// //                     <td>
// //                       <p>Comprehensive Aesthetic Injector Program</p>
// //                       <p></p>
// //                     </td>
// //                     <td>5 days (Mon &ndash;Fri)</td>
// //                     <td>$10,000*</td>
// //                     <td>
// //                       32+ hours of advanced training, 30+ injections, AMI
// //                       certification, 1-year Allergan online access
// //                     </td>
// //                   </tr>
// //                 </tbody>
// //               </table>
// //               <p></p>
// //             </center>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Column Module */}
// //       <div className="mod_column viewport container" data-s3-module>
// //         <div className="row " data-api-key="content">
// //           <div className="item">
// //             <center>
// //               <h4>
// //                 <em>
// //                   <strong>*Enroll now and receive $1,000 off tuition!</strong>
// //                 </em>
// //               </h4>
// //             </center>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Two Column Module */}
// //       <div className="mod_columns_two viewport container dark" data-s3-module>
// //         <div className="row ">
// //           <div className="content vertical-align">
// //             <div className="item wow fadeInLeft" data-api-key="content_left">
// //               <h2>Program Highlights</h2>
// //               <ul>
// //                 <li>
// //                   <strong>Live Patient Model Experience</strong>
// //                   <ul>
// //                     <li>
// //                       Each session includes assessment and treatment of up to 12
// //                       live models under direct supervision.
// //                     </li>
// //                   </ul>
// //                 </li>
// //                 <li>
// //                   <strong>Expert Instruction</strong>
// //                   <ul>
// //                     <li>
// //                       Receive individualized guidance from Allergan-trained
// //                       master injectors with decades of experience.
// //                     </li>
// //                   </ul>
// //                 </li>
// //                 <li>
// //                   <strong>Small Group Format</strong>
// //                   <ul>
// //                     <li>
// //                       Enjoy a personalized learning environment with just 2
// //                       &ndash;4 students per group.
// //                     </li>
// //                   </ul>
// //                 </li>
// //                 <li>
// //                   <strong>Certification &amp;Ongoing Access</strong>
// //                   <ul>
// //                     <li>
// //                       Graduates earn Allergan Medical Institute certification
// //                       and retain access to educational modules for one year.
// //                     </li>
// //                   </ul>
// //                 </li>
// //               </ul>
// //             </div>
// //             <div className="item wow fadeInRight" data-api-key="content_right">
// //               <p>
// //                 <img
// //                   alt="Woman touching her neck"
// //                   src="https://www.datocms-assets.com/105497/1701216676-istock-968868620.jpg"
// //                 />
// //               </p>
// //             </div>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Two Column Module */}
// //       <div className="mod_columns_two viewport container" data-s3-module>
// //         <div className="row ">
// //           <div className="content vertical-align">
// //             <div className="item wow fadeInLeft" data-api-key="content_left">
// //               <p>
// //                 <img
// //                   alt="woman looking in hand mirror pointing to her face"
// //                   src="https://www.datocms-assets.com/105497/1694547746-blog-banner.jpg"
// //                 />
// //               </p>
// //             </div>
// //             <div className="item wow fadeInRight" data-api-key="content_right">
// //               <h1>Tuition &amp;Enrollment</h1>
// //               <h4>Foundational Injectables Training</h4>
// //               <ul>
// //                 <li>$5,999 (or $4,999 with promo)</li>
// //                 <li>
// //                   Includes product, hands-on training, and full curriculum
// //                   access
// //                 </li>
// //                 <li>3-day training, Florida Licensing is required</li>
// //               </ul>
// //               <h4>Comprehensive Aesthetic Injector Program</h4>
// //               <ul>
// //                 <li>$10,000 (or $9,000 with promo)</li>
// //                 <li>
// //                   Includes product, advanced curriculum, model work, and
// //                   certification
// //                 </li>
// //                 <li>5-day training &mdash;Florida Licensing is required</li>
// //               </ul>
// //               <p>
// //                 Full payment is required at the time of registration. Enrollment
// //                 is first come, first served.&nbsp;
// //               </p>
// //             </div>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Column Module */}
// //       <div className="mod_column viewport container" data-s3-module>
// //         <div className="row " data-api-key="content">
// //           <div className="item">
// //             <center>
// //               <h1>
// //                 <em>Apply Now &amp;Secure Your Spot</em>
// //               </h1>
// //               <h1>
// //                 <em>
// //                   Space is limited, and interest is high. Begin your path toward
// //                   aesthetic excellence today.
// //                 </em>
// //               </h1>
// //               <p>
// //                 <a
// //                   href="https://www.goldfingersaesthetics.com/the-gold-standard-aesthetics-training-program/apply-for-your-training-spot-today/"
// //                   target="_blank"
// //                   className="btn"
// //                   rel="noopener"
// //                 >
// //                   APPLY NOW
// //                 </a>
// //               </p>
// //             </center>
// //           </div>
// //         </div>
// //       </div>
// //       {/* /Page Layout */}
// //     </main>
// //   );
// // };

// // export default ProgramDetails;


// "use client";

// import React, { useEffect, useState } from "react";
// import { getResponsiveImageUrls, getImageUrl, lexicalToHtml } from "@/lib/api/traning/fetchTrainingPageComponent"; // Adjust path to your API utilities

// interface ProgramDetailsData {
//   componentName: string;
//   introModule: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     animationClass?: string;
//     logo?: any;
//     logoWidth?: number;
//     logoHeight?: number;
//     logoAlt?: string;
//     heading: string;
//     headingColor?: string;
//     headingFontSize?: string;
//   };
//   columnSection1: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     contentAlignment: "left" | "center" | "right";
//     image: {
//       mobile?: any;
//       tablet?: any;
//       desktop?: any;
//       alt?: string;
//     };
//     subheading: any;
//     subheadingColor?: string;
//   };
//   dividerModule: {
//     show: boolean;
//     backgroundColor?: string;
//     containerClass?: string;
//     logo?: any;
//     logoWidth?: number;
//     logoHeight?: number;
//     logoAlt?: string;
//   };
//   columnSection2: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     contentAlignment: "left" | "center" | "right";
//     heading: string;
//     headingColor?: string;
//     description?: any;
//     descriptionColor?: string;
//     table: {
//       borderColor?: string;
//       headerBackgroundColor?: string;
//       headerTextColor?: string;
//       rowBackgroundColor?: string;
//       rowTextColor?: string;
//       alternateRowColor?: string;
//       headers: Array<{
//         label: string;
//         width?: string;
//       }>;
//       rows: Array<{
//         programName: string;
//         duration: string;
//         tuition: string;
//         included: any;
//       }>;
//     };
//   };
//   columnSection3: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     contentAlignment: "left" | "center" | "right";
//     content: any;
//     contentColor?: string;
//     fontSize?: string;
//     fontWeight?: string;
//   };
//   twoColumnSection1: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     columnLayout: "content-left" | "image-left";
//     verticalAlignment: "top" | "center" | "bottom";
//     leftColumn: {
//       animationClass?: string;
//       heading: string;
//       headingColor?: string;
//       highlights: Array<{
//         title: string;
//         titleColor?: string;
//         description: any;
//         descriptionColor?: string;
//       }>;
//       listStyle: "disc" | "circle" | "square" | "none";
//     };
//     rightColumn: {
//       animationClass?: string;
//       image: {
//         mobile?: any;
//         tablet?: any;
//         desktop?: any;
//         alt?: string;
//       };
//     };
//   };
//   twoColumnSection2: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     columnLayout: "content-left" | "image-left";
//     verticalAlignment: "top" | "center" | "bottom";
//     leftColumn: {
//       animationClass?: string;
//       image: {
//         mobile?: any;
//         tablet?: any;
//         desktop?: any;
//         alt?: string;
//       };
//     };
//     rightColumn: {
//       animationClass?: string;
//       heading: string;
//       headingColor?: string;
//       programs: Array<{
//         programTitle: string;
//         programTitleColor?: string;
//         details: Array<{
//           text: any;
//           textColor?: string;
//         }>;
//       }>;
//       additionalInfo?: any;
//       additionalInfoColor?: string;
//     };
//   };
//   columnSection4: {
//     show: boolean;
//     backgroundColor?: string;
//     textColor?: string;
//     containerClass?: string;
//     contentAlignment: "left" | "center" | "right";
//     headings: Array<{
//       text: any;
//       textColor?: string;
//       fontSize?: string;
//       fontWeight?: string;
//       isItalic: boolean;
//     }>;
//     ctaButton: {
//       show: boolean;
//       text?: string;
//       url?: string;
//       openInNewTab: boolean;
//       backgroundColor?: string;
//       textColor?: string;
//       hoverBackgroundColor?: string;
//       borderRadius?: string;
//       padding?: string;
//     };
//   };
//   sectionOrder: Array<{
//     section:
//       | "introModule"
//       | "columnSection1"
//       | "dividerModule"
//       | "columnSection2"
//       | "columnSection3"
//       | "twoColumnSection1"
//       | "twoColumnSection2"
//       | "columnSection4";
//   }>;
//   globalStyles: {
//     containerMaxWidth?: string;
//     containerPadding?: string;
//     sectionSpacing?: string;
//     fontFamily?: string;
//     primaryColor?: string;
//     secondaryColor?: string;
//     textColor?: string;
//     linkColor?: string;
//     linkHoverColor?: string;
//   };
//   typographySettings: {
//     h1FontSize?: string;
//     h1Color?: string;
//     h1FontWeight?: string;
//     h1LineHeight?: string;
//     h2FontSize?: string;
//     h2Color?: string;
//     h2FontWeight?: string;
//     h3FontSize?: string;
//     h3Color?: string;
//     h3FontWeight?: string;
//     h4FontSize?: string;
//     h4Color?: string;
//     h4FontWeight?: string;
//     bodyFontSize?: string;
//     bodyLineHeight?: string;
//     bodyFontWeight?: string;
//   };
//   tableStyles: {
//     borderWidth?: string;
//     borderColor?: string;
//     borderStyle?: "solid" | "dashed" | "dotted" | "double";
//     borderCollapse?: "collapse" | "separate";
//     cellPadding?: string;
//     headerFontWeight?: string;
//     headerFontSize?: string;
//     headerTextAlign?: "left" | "center" | "right";
//     cellTextAlign?: "left" | "center" | "right";
//     rowHoverColor?: string;
//   };
//   buttonStyles: {
//     defaultBackgroundColor?: string;
//     defaultTextColor?: string;
//     defaultHoverBackground?: string;
//     defaultHoverTextColor?: string;
//     borderRadius?: string;
//     borderWidth?: string;
//     borderColor?: string;
//     padding?: string;
//     fontSize?: string;
//     fontWeight?: string;
//     textTransform?: "none" | "uppercase" | "lowercase" | "capitalize";
//     letterSpacing?: string;
//     transition?: string;
//     boxShadow?: string;
//     hoverBoxShadow?: string;
//   };
//   listStyles: {
//     bulletStyle?: "disc" | "circle" | "square" | "none";
//     bulletColor?: string;
//     listItemSpacing?: string;
//     listIndent?: string;
//     nestedListIndent?: string;
//   };
//   animationSettings: {
//     enableAnimations: boolean;
//     fadeInDuration?: string;
//     slideInDuration?: string;
//     animationEasing?: string;
//     animationDelay?: string;
//     customAnimationCSS?: string;
//   };
//   responsiveSettings: {
//     mobileBreakpoint?: string;
//     tabletBreakpoint?: string;
//     desktopBreakpoint?: string;
//     mobileFontSizeAdjustment?: string;
//     tabletFontSizeAdjustment?: string;
//     mobileSpacingAdjustment?: string;
//     tabletSpacingAdjustment?: string;
//     mobileContainerPadding?: string;
//     tabletContainerPadding?: string;
//     mobileTableDisplay?: "scroll" | "stack" | "cards";
//   };
//   accessibilitySettings: {
//     skipToContent: boolean;
//     skipToContentText?: string;
//     ariaLabelsEnabled: boolean;
//     altTextRequired: boolean;
//     focusVisibleColor?: string;
//     focusVisibleWidth?: string;
//     focusVisibleStyle?: "solid" | "dashed" | "dotted";
//     contrastMode?: "normal" | "high" | "very-high";
//     reducedMotion: boolean;
//     tableAccessibility: {
//       includeTableCaption: boolean;
//       tableCaption?: string;
//       tableSummary?: string;
//     };
//   };
//   customCSS: {
//     globalCSS?: string;
//     mobileCSS?: string;
//     tabletCSS?: string;
//     desktopCSS?: string;
//     tableCSS?: string;
//   };
//   performanceSettings: {
//     lazyLoadImages: boolean;
//     imageLoadingPriority: "auto" | "lazy" | "eager";
//     preloadCriticalAssets: boolean;
//     enableImageOptimization: boolean;
//     enableCSSMinification: boolean;
//   };
//   dividerSettings: {
//     dividerHeight?: string;
//     dividerMargin?: string;
//     showDividerLine: boolean;
//     dividerLineColor?: string;
//     dividerLineWidth?: string;
//     dividerLineStyle?: "solid" | "dashed" | "dotted";
//   };
// }

// const ProgramDetails: React.FC = () => {
//   const [pageData, setPageData] = useState<ProgramDetailsData | null>(null);
//   const [loading, setLoading] = useState(true);

//   useEffect(() => {
//     const fetchData = async () => {
//       try {
//         const res = await fetch(
//           `${
//             process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
//             "http://localhost:3001/api"
//           }/program-details-component?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
//           {
//             next: { revalidate: 60 },
//             cache: "force-cache",
//           }
//         );
//         if (!res.ok) {
//           throw new Error(
//             `Failed to fetch Program Details data: ${res.statusText}`
//           );
//         }
//         const data = await res.json();
//         const activeComponent =
//           data.docs?.find((component: any) => component.isActive) || null;
//         console.log("Fetched Program Details data:", activeComponent);
//         setPageData(activeComponent);
//       } catch (error) {
//         console.error("Error fetching Program Details data:", error);
//       } finally {
//         setLoading(false);
//       }
//     };
//     fetchData();
//   }, []);

//   useEffect(() => {
//     if (pageData?.customCSS?.globalCSS) {
//       const style = document.createElement("style");
//       style.innerHTML = pageData.customCSS.globalCSS;
//       document.head.appendChild(style);
//     }
//     if (pageData?.customCSS?.mobileCSS) {
//       const style = document.createElement("style");
//       style.innerHTML = `@media (max-width: ${
//         pageData.responsiveSettings?.mobileBreakpoint || "768px"
//       }) { ${pageData.customCSS.mobileCSS} }`;
//       document.head.appendChild(style);
//     }
//     if (pageData?.customCSS?.tabletCSS) {
//       const style = document.createElement("style");
//       style.innerHTML = `@media (max-width: ${
//         pageData.responsiveSettings?.tabletBreakpoint || "1024px"
//       }) { ${pageData.customCSS.tabletCSS} }`;
//       document.head.appendChild(style);
//     }
//     if (pageData?.customCSS?.desktopCSS) {
//       const style = document.createElement("style");
//       style.innerHTML = `@media (min-width: ${
//         pageData.responsiveSettings?.desktopBreakpoint || "1400px"
//       }) { ${pageData.customCSS.desktopCSS} }`;
//       document.head.appendChild(style);
//     }
//     if (pageData?.customCSS?.tableCSS) {
//       const style = document.createElement("style");
//       style.innerHTML = pageData.customCSS.tableCSS;
//       document.head.appendChild(style);
//     }
//   }, [pageData]);

//   if (loading) return <div>Loading...</div>;
//   if (!pageData) return <div>No data available</div>;

//   const {
//     introModule,
//     columnSection1,
//     dividerModule,
//     columnSection2,
//     columnSection3,
//     twoColumnSection1,
//     twoColumnSection2,
//     columnSection4,
//     sectionOrder,
//     globalStyles,
//     typographySettings,
//     tableStyles,
//     buttonStyles,
//     listStyles,
//     animationSettings,
//     responsiveSettings,
//     accessibilitySettings,
//     performanceSettings,
//     dividerSettings,
//   } = pageData;

//   const renderTwoColumnSection = (
//     section: typeof twoColumnSection1 | typeof twoColumnSection2,
//     sectionName: string
//   ) => {
//     if (!section.show) return null;
//     const leftImage = getResponsiveImageUrls(section.leftColumn.image);
//     const rightImage = getResponsiveImageUrls(section.rightColumn.image);
//     const isImageLeft = section.columnLayout === "image-left";
//     const animationClass = animationSettings.enableAnimations ? `viewport` : "";
//     return (
//       <div
//         className={`mod_columns_two ${
//           section.containerClass || ""
//         } ${animationClass}`}
//         data-s3-module
//         style={{
//           backgroundColor: section.backgroundColor,
//           color: section.textColor,
//         }}
//       >
//         <div className={`row align-${section.verticalAlignment}`}>
//           <div
//             className={`content ${isImageLeft ? "flipped" : ""}`}
//             style={{
//               display: "flex",
//               flexDirection: isImageLeft ? "row-reverse" : "row",
//             }}
//           >
//             <div
//               className={`item ${
//                 animationSettings.enableAnimations
//                   ? section.leftColumn.animationClass
//                   : ""
//               }`}
//               data-api-key="content_left"
//             >
//               {section.leftColumn.heading && (
//                 <h2
//                   style={{
//                     color:
//                       section.leftColumn.headingColor ||
//                       typographySettings.h2Color,
//                     fontSize: typographySettings.h2FontSize,
//                     fontWeight: typographySettings.h2FontWeight,
//                   }}
//                 >
//                   {section.leftColumn.heading}
//                 </h2>
//               )}
//               {section.leftColumn.highlights && (
//                 <ul
//                   style={{
//                     listStyle:
//                       section.leftColumn.listStyle || listStyles.bulletStyle,
//                     color: listStyles.bulletColor,
//                     marginLeft: listStyles.listIndent,
//                     marginBottom: listStyles.listItemSpacing,
//                   }}
//                 >
//                   {section.leftColumn.highlights.map((highlight, index) => (
//                     <li key={index}>
//                       <strong
//                         style={{
//                           color:
//                             highlight.titleColor ||
//                             typographySettings.textColor,
//                           fontWeight: typographySettings.bodyFontWeight,
//                         }}
//                       >
//                         {highlight.title}
//                       </strong>
//                       <ul
//                         style={{
//                           listStyle: listStyles.bulletStyle,
//                           marginLeft: listStyles.nestedListIndent,
//                           marginBottom: listStyles.listItemSpacing,
//                         }}
//                       >
//                         <li
//                           style={{
//                             color:
//                               highlight.descriptionColor ||
//                               typographySettings.textColor,
//                             fontSize: typographySettings.bodyFontSize,
//                             lineHeight: typographySettings.bodyLineHeight,
//                           }}
//                           dangerouslySetInnerHTML={{
//                             __html: lexicalToHtml(highlight.description),
//                           }}
//                         />
//                       </ul>
//                     </li>
//                   ))}
//                 </ul>
//               )}
//               {leftImage.desktop && (
//                 <p>
//                   <picture>
//                     <source
//                       media={`(max-width:${
//                         responsiveSettings.mobileBreakpoint || "768px"
//                       })`}
//                       srcSet={`${leftImage.mobile}?auto=format,compress&w=420`}
//                     />
//                     <source
//                       media={`(max-width:${
//                         responsiveSettings.tabletBreakpoint || "1024px"
//                       })`}
//                       srcSet={`${leftImage.tablet}?auto=format,compress&w=800`}
//                     />
//                     <source
//                       media={`(max-width:${
//                         responsiveSettings.desktopBreakpoint || "1400px"
//                       })`}
//                       srcSet={`${leftImage.desktop}?auto=format,compress&w=1400`}
//                     />
//                     <img
//                       src={`${leftImage.desktop}?auto=format,compress&w=1400`}
//                       alt={leftImage.alt || ""}
//                       loading={
//                         performanceSettings.lazyLoadImages
//                           ? performanceSettings.imageLoadingPriority
//                           : "eager"
//                       }
//                       style={{ maxWidth: "100%" }}
//                     />
//                   </picture>
//                 </p>
//               )}
//             </div>
//             <div
//               className={`item ${
//                 animationSettings.enableAnimations
//                   ? section.rightColumn.animationClass
//                   : ""
//               }`}
//               data-api-key="content_right"
//             >
//               {section.rightColumn.heading && (
//                 <h1
//                   style={{
//                     color:
//                       section.rightColumn.headingColor ||
//                       typographySettings.h1Color,
//                     fontSize: typographySettings.h1FontSize,
//                     fontWeight: typographySettings.h1FontWeight,
//                     lineHeight: typographySettings.h1LineHeight,
//                   }}
//                 >
//                   {section.rightColumn.heading}
//                 </h1>
//               )}
//               {section.rightColumn.programs && (
//                 <>
//                   {section.rightColumn.programs.map((program, index) => (
//                     <div key={index}>
//                       <h4
//                         style={{
//                           color:
//                             program.programTitleColor ||
//                             typographySettings.h4Color,
//                           fontSize: typographySettings.h4FontSize,
//                           fontWeight: typographySettings.h4FontWeight,
//                         }}
//                       >
//                         {program.programTitle}
//                       </h4>
//                       <ul
//                         style={{
//                           listStyle: listStyles.bulletStyle,
//                           color: listStyles.bulletColor,
//                           marginLeft: listStyles.listIndent,
//                           marginBottom: listStyles.listItemSpacing,
//                         }}
//                       >
//                         {program.details.map((detail, idx) => (
//                           <li
//                             key={idx}
//                             style={{
//                               color:
//                                 detail.textColor ||
//                                 typographySettings.textColor,
//                               fontSize: typographySettings.bodyFontSize,
//                               lineHeight: typographySettings.bodyLineHeight,
//                             }}
//                             dangerouslySetInnerHTML={{
//                               __html: lexicalToHtml(detail.text),
//                             }}
//                           />
//                         ))}
//                       </ul>
//                     </div>
//                   ))}
//                 </>
//               )}
//               {section.rightColumn.additionalInfo && (
//                 <p
//                   style={{
//                     color:
//                       section.rightColumn.additionalInfoColor ||
//                       typographySettings.textColor,
//                     fontSize: typographySettings.bodyFontSize,
//                     lineHeight: typographySettings.bodyLineHeight,
//                   }}
//                   dangerouslySetInnerHTML={{
//                     __html: lexicalToHtml(section.rightColumn.additionalInfo),
//                   }}
//                 />
//               )}
//               {rightImage.desktop && (
//                 <p>
//                   <picture>
//                     <source
//                       media={`(max-width:${
//                         responsiveSettings.mobileBreakpoint || "768px"
//                       })`}
//                       srcSet={`${rightImage.mobile}?auto=format,compress&w=420`}
//                     />
//                     <source
//                       media={`(max-width:${
//                         responsiveSettings.tabletBreakpoint || "1024px"
//                       })`}
//                       srcSet={`${rightImage.tablet}?auto=format,compress&w=800`}
//                     />
//                     <source
//                       media={`(max-width:${
//                         responsiveSettings.desktopBreakpoint || "1400px"
//                       })`}
//                       srcSet={`${rightImage.desktop}?auto=format,compress&w=1400`}
//                     />
//                     <img
//                       src={`${rightImage.desktop}?auto=format,compress&w=1400`}
//                       alt={rightImage.alt || ""}
//                       loading={
//                         performanceSettings.lazyLoadImages
//                           ? performanceSettings.imageLoadingPriority
//                           : "eager"
//                       }
//                       style={{ maxWidth: "100%" }}
//                     />
//                   </picture>
//                 </p>
//               )}
//             </div>
//           </div>
//         </div>
//       </div>
//     );
//   };

//   const renderSection = (section: string) => {
//     const animationClass = animationSettings.enableAnimations
//       ? `wow ${
//           section === "introModule"
//             ? introModule.animationClass
//             : section.includes("columnSection")
//             ? "fadeIn"
//             : "fadeInUp"
//         }`
//       : "";

//     switch (section) {
//       case "introModule":
//         if (!introModule.show) return null;
//         const logoUrl = getImageUrl(introModule.logo);
//         return (
//           <div
//             className={`${introModule.containerClass} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: introModule.backgroundColor,
//               color: introModule.textColor,
//             }}
//           >
//             <div className="row">
//               {logoUrl && (
//                 <picture className="logo">
//                   <img
//                     src={logoUrl}
//                     width={introModule.logoWidth}
//                     height={introModule.logoHeight}
//                     alt={introModule.logoAlt || ""}
//                     loading={
//                       performanceSettings.lazyLoadImages
//                         ? performanceSettings.imageLoadingPriority
//                         : "eager"
//                     }
//                     draggable="false"
//                     data-api-key="logo"
//                   />
//                 </picture>
//               )}
//               <div className="inner" data-api-key="content">
//                 <h1
//                   style={{
//                     color:
//                       introModule.headingColor || typographySettings.h1Color,
//                     fontSize:
//                       introModule.headingFontSize ||
//                       typographySettings.h1FontSize,
//                     fontWeight: typographySettings.h1FontWeight,
//                     lineHeight: typographySettings.h1LineHeight,
//                   }}
//                 >
//                   {introModule.heading}
//                 </h1>
//               </div>
//             </div>
//           </div>
//         );

//       case "columnSection1":
//         if (!columnSection1.show) return null;
//         const section1Image = getResponsiveImageUrls(columnSection1.image);
//         return (
//           <div
//             className={`${columnSection1.containerClass} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: columnSection1.backgroundColor,
//               color: columnSection1.textColor,
//             }}
//           >
//             <div className="row" data-api-key="content">
//               <div
//                 className="item"
//                 style={{ textAlign: columnSection1.contentAlignment }}
//               >
//                 {section1Image.desktop && (
//                   <p>
//                     <picture>
//                       <source
//                         media={`(max-width:${
//                           responsiveSettings.mobileBreakpoint || "768px"
//                         })`}
//                         srcSet={`${section1Image.mobile}?auto=format,compress&w=420`}
//                       />
//                       <source
//                         media={`(max-width:${
//                           responsiveSettings.tabletBreakpoint || "1024px"
//                         })`}
//                         srcSet={`${section1Image.tablet}?auto=format,compress&w=800`}
//                       />
//                       <source
//                         media={`(max-width:${
//                           responsiveSettings.desktopBreakpoint || "1400px"
//                         })`}
//                         srcSet={`${section1Image.desktop}?auto=format,compress&w=1400`}
//                       />
//                       <img
//                         src={`${section1Image.desktop}?auto=format,compress&w=1400`}
//                         alt={section1Image.alt || ""}
//                         loading={
//                           performanceSettings.lazyLoadImages
//                             ? performanceSettings.imageLoadingPriority
//                             : "eager"
//                         }
//                         style={{ maxWidth: "100%" }}
//                       />
//                     </picture>
//                   </p>
//                 )}
//                 <h3
//                   style={{
//                     color:
//                       columnSection1.subheadingColor ||
//                       typographySettings.h3Color,
//                     fontSize: typographySettings.h3FontSize,
//                     fontWeight: typographySettings.h3FontWeight,
//                   }}
//                   dangerouslySetInnerHTML={{
//                     __html: lexicalToHtml(columnSection1.subheading),
//                   }}
//                 />
//               </div>
//             </div>
//           </div>
//         );

//       case "dividerModule":
//         if (!dividerModule.show) return null;
//         const dividerLogoUrl = getImageUrl(dividerModule.logo);
//         return (
//           <div
//             className={`${dividerModule.containerClass} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: dividerModule.backgroundColor,
//               height: dividerSettings.dividerHeight,
//               margin: dividerSettings.dividerMargin,
//             }}
//           >
//             <div className="row">
//               <div className="media">
//                 {dividerLogoUrl && (
//                   <picture>
//                     <img
//                       src={dividerLogoUrl}
//                       width={dividerModule.logoWidth}
//                       height={dividerModule.logoHeight}
//                       alt={dividerModule.logoAlt || ""}
//                       loading={
//                         performanceSettings.lazyLoadImages
//                           ? performanceSettings.imageLoadingPriority
//                           : "eager"
//                       }
//                       draggable="false"
//                     />
//                   </picture>
//                 )}
//                 {dividerSettings.showDividerLine && (
//                   <hr
//                     style={{
//                       borderTop: `${
//                         dividerSettings.dividerLineWidth || "1px"
//                       } ${dividerSettings.dividerLineStyle || "solid"} ${
//                         dividerSettings.dividerLineColor || "#000"
//                       }`,
//                     }}
//                   />
//                 )}
//               </div>
//             </div>
//           </div>
//         );

//       case "columnSection2":
//         if (!columnSection2.show) return null;
//         return (
//           <div
//             className={`${columnSection2.containerClass} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: columnSection2.backgroundColor,
//               color: columnSection2.textColor,
//             }}
//           >
//             <div className="row" data-api-key="content">
//               <div
//                 className="item"
//                 style={{ textAlign: columnSection2.contentAlignment }}
//               >
//                 <h1
//                   style={{
//                     color:
//                       columnSection2.headingColor || typographySettings.h1Color,
//                     fontSize: typographySettings.h1FontSize,
//                     fontWeight: typographySettings.h1FontWeight,
//                     lineHeight: typographySettings.h1LineHeight,
//                   }}
//                 >
//                   {columnSection2.heading}
//                 </h1>
//                 {columnSection2.description && (
//                   <p
//                     style={{
//                       color:
//                         columnSection2.descriptionColor ||
//                         typographySettings.textColor,
//                       fontSize: typographySettings.bodyFontSize,
//                       lineHeight: typographySettings.bodyLineHeight,
//                     }}
//                     dangerouslySetInnerHTML={{
//                       __html: lexicalToHtml(columnSection2.description),
//                     }}
//                   />
//                 )}
//                 <table
//                   style={{
//                     border: `${tableStyles.borderWidth || "1px"} ${
//                       tableStyles.borderStyle || "solid"
//                     } ${
//                       columnSection2.table.borderColor ||
//                       tableStyles.borderColor ||
//                       "#000"
//                     }`,
//                     borderCollapse: tableStyles.borderCollapse,
//                     width: "100%",
//                   }}
//                   {...(accessibilitySettings.tableAccessibility
//                     .includeTableCaption && {
//                     "aria-describedby": "table-caption",
//                   })}
//                 >
//                   {accessibilitySettings.tableAccessibility
//                     .includeTableCaption && (
//                     <caption id="table-caption">
//                       {accessibilitySettings.tableAccessibility.tableCaption ||
//                         "Training Program Comparison"}
//                     </caption>
//                   )}
//                   {accessibilitySettings.tableAccessibility.tableSummary && (
//                     <div style={{ display: "none" }} aria-hidden="true">
//                       {accessibilitySettings.tableAccessibility.tableSummary}
//                     </div>
//                   )}
//                   <tbody>
//                     <tr
//                       style={{
//                         backgroundColor:
//                           columnSection2.table.headerBackgroundColor,
//                         color: columnSection2.table.headerTextColor,
//                       }}
//                     >
//                       {columnSection2.table.headers.map((header, index) => (
//                         <td
//                           key={index}
//                           style={{
//                             width: header.width,
//                             padding: tableStyles.cellPadding,
//                             fontWeight: tableStyles.headerFontWeight,
//                             fontSize: tableStyles.headerFontSize,
//                             textAlign: tableStyles.headerTextAlign,
//                           }}
//                         >
//                           <strong>{header.label}</strong>
//                         </td>
//                       ))}
//                     </tr>
//                     {columnSection2.table.rows.map((row, index) => (
//                       <tr
//                         key={index}
//                         style={{
//                           backgroundColor:
//                             index % 2 === 0
//                               ? columnSection2.table.rowBackgroundColor
//                               : columnSection2.table.alternateRowColor ||
//                                 columnSection2.table.rowBackgroundColor,
//                           color: columnSection2.table.rowTextColor,
//                         }}
//                       >
//                         <td
//                           style={{
//                             padding: tableStyles.cellPadding,
//                             textAlign: tableStyles.cellTextAlign,
//                           }}
//                         >
//                           {row.programName}
//                         </td>
//                         <td
//                           style={{
//                             padding: tableStyles.cellPadding,
//                             textAlign: tableStyles.cellTextAlign,
//                           }}
//                         >
//                           {row.duration}
//                         </td>
//                         <td
//                           style={{
//                             padding: tableStyles.cellPadding,
//                             textAlign: tableStyles.cellTextAlign,
//                           }}
//                         >
//                           {row.tuition}
//                         </td>
//                         <td
//                           style={{
//                             padding: tableStyles.cellPadding,
//                             textAlign: tableStyles.cellTextAlign,
//                           }}
//                           dangerouslySetInnerHTML={{
//                             __html: lexicalToHtml(row.included),
//                           }}
//                         />
//                       </tr>
//                     ))}
//                   </tbody>
//                 </table>
//               </div>
//             </div>
//           </div>
//         );

//       case "columnSection3":
//         if (!columnSection3.show) return null;
//         return (
//           <div
//             className={`${columnSection3.containerClass} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: columnSection3.backgroundColor,
//               color: columnSection3.textColor,
//             }}
//           >
//             <div className="row" data-api-key="content">
//               <div
//                 className="item"
//                 style={{ textAlign: columnSection3.contentAlignment }}
//               >
//                 <h4
//                   style={{
//                     color:
//                       columnSection3.contentColor || typographySettings.h4Color,
//                     fontSize:
//                       columnSection3.fontSize || typographySettings.h4FontSize,
//                     fontWeight:
//                       columnSection3.fontWeight ||
//                       typographySettings.h4FontWeight,
//                   }}
//                   dangerouslySetInnerHTML={{
//                     __html: lexicalToHtml(columnSection3.content),
//                   }}
//                 />
//               </div>
//             </div>
//           </div>
//         );

//       case "twoColumnSection1":
//         return renderTwoColumnSection(twoColumnSection1, "twoColumnSection1");

//       case "twoColumnSection2":
//         return renderTwoColumnSection(twoColumnSection2, "twoColumnSection2");

//       case "columnSection4":
//         if (!columnSection4.show) return null;
//         return (
//           <div
//             className={`${columnSection4.containerClass} ${animationClass}`}
//             data-s3-module
//             style={{
//               backgroundColor: columnSection4.backgroundColor,
//               color: columnSection4.textColor,
//             }}
//           >
//             <div className="row" data-api-key="content">
//               <div
//                 className="item"
//                 style={{ textAlign: columnSection4.contentAlignment }}
//               >
//                 {columnSection4.headings.map((heading, index) => (
//                   <h1
//                     key={index}
//                     style={{
//                       color: heading.textColor || typographySettings.h1Color,
//                       fontSize:
//                         heading.fontSize || typographySettings.h1FontSize,
//                       fontWeight:
//                         heading.fontWeight || typographySettings.h1FontWeight,
//                       fontStyle: heading.isItalic ? "italic" : "normal",
//                       lineHeight: typographySettings.h1LineHeight,
//                     }}
//                     dangerouslySetInnerHTML={{
//                       __html: lexicalToHtml(heading.text),
//                     }}
//                   />
//                 ))}
//                 {columnSection4.ctaButton.show && (
//                   <p>
//                     <a
//                       href={columnSection4.ctaButton.url}
//                       target={
//                         columnSection4.ctaButton.openInNewTab
//                           ? "_blank"
//                           : undefined
//                       }
//                       rel="noopener"
//                       className={`btn ${buttonStyles.textTransform}`}
//                       style={{
//                         backgroundColor:
//                           columnSection4.ctaButton.backgroundColor ||
//                           buttonStyles.defaultBackgroundColor,
//                         color:
//                           columnSection4.ctaButton.textColor ||
//                           buttonStyles.defaultTextColor,
//                         borderRadius:
//                           columnSection4.ctaButton.borderRadius ||
//                           buttonStyles.borderRadius,
//                         padding:
//                           columnSection4.ctaButton.padding ||
//                           buttonStyles.padding,
//                         fontSize: buttonStyles.fontSize,
//                         fontWeight: buttonStyles.fontWeight,
//                         letterSpacing: buttonStyles.letterSpacing,
//                         transition: buttonStyles.transition,
//                         border:
//                           buttonStyles.borderWidth && buttonStyles.borderColor
//                             ? `${buttonStyles.borderWidth} solid ${buttonStyles.borderColor}`
//                             : undefined,
//                         boxShadow: buttonStyles.boxShadow,
//                       }}
//                     >
//                       {columnSection4.ctaButton.text}
//                     </a>
//                   </p>
//                 )}
//               </div>
//             </div>
//           </div>
//         );

//       default:
//         return null;
//     }
//   };

//   return (
//     <main
//       id="main"
//       style={{
//         maxWidth: globalStyles.containerMaxWidth,
//         padding: globalStyles.containerPadding,
//         margin: "0 auto",
//         fontFamily: globalStyles.fontFamily,
//         color: globalStyles.textColor,
//       }}
//     >
//       {accessibilitySettings.skipToContent && (
//         <a
//           href="#main"
//           className="skip-to-content"
//           style={{ position: "absolute", top: "-9999px", left: "-9999px" }}
//         >
//           {accessibilitySettings.skipToContentText || "Skip to main content"}
//         </a>
//       )}
//       {sectionOrder.map((item, index) => (
//         <React.Fragment key={index}>
//           {renderSection(item.section)}
//         </React.Fragment>
//       ))}
//       {accessibilitySettings.contrastMode !== "normal" && (
//         <style>{`
//           :root {
//             filter: ${
//               accessibilitySettings.contrastMode === "high"
//                 ? "contrast(1.5)"
//                 : "contrast(2)"
//             };
//           }
//         `}</style>
//       )}
//       {accessibilitySettings.reducedMotion && (
//         <style>{`
//           @media (prefers-reduced-motion: reduce) {
//             *, *:before, *:after {
//               animation: none !important;
//               transition: none !important;
//             }
//           }
//         `}</style>
//       )}
//       {accessibilitySettings.focusVisibleColor && (
//         <style>{`
//           a:focus, button:focus, input:focus, textarea:focus {
//             outline: ${accessibilitySettings.focusVisibleWidth || "2px"} ${
//           accessibilitySettings.focusVisibleStyle || "solid"
//         } ${accessibilitySettings.focusVisibleColor};
//           }
//         `}</style>
//       )}
//       {tableStyles.rowHoverColor && (
//         <style>{`
//           table tr:hover {
//             background-color: ${tableStyles.rowHoverColor};
//           }
//         `}</style>
//       )}
//       {responsiveSettings.mobileTableDisplay === "stack" && (
//         <style>{`
//           @media (max-width: ${
//             responsiveSettings.mobileBreakpoint || "768px"
//           }) {
//             table {
//               display: block;
//             }
//             tr {
//               display: block;
//               margin-bottom: 1rem;
//             }
//             td {
//               display: block;
//               text-align: ${tableStyles.cellTextAlign || "left"};
//             }
//             td:before {
//               content: attr(data-label);
//               font-weight: ${tableStyles.headerFontWeight || "bold"};
//               display: block;
//             }
//           }
//         `}</style>
//       )}
//       {responsiveSettings.mobileTableDisplay === "cards" && (
//         <style>{`
//           @media (max-width: ${
//             responsiveSettings.mobileBreakpoint || "768px"
//           }) {
//             table {
//               display: flex;
//               flex-wrap: wrap;
//               gap: 1rem;
//             }
//             tr {
//               display: flex;
//               flex-direction: column;
//               border: 1px solid ${tableStyles.borderColor || "#000"};
//               padding: ${tableStyles.cellPadding || "10px"};
//               background-color: ${columnSection2.table.rowBackgroundColor};
//             }
//             td {
//               display: block;
//               text-align: ${tableStyles.cellTextAlign || "left"};
//             }
//             td:before {
//               content: attr(data-label);
//               font-weight: ${tableStyles.headerFontWeight || "bold"};
//               display: block;
//             }
//           }
//         `}</style>
//       )}
//     </main>
//   );
// };

// export default ProgramDetails;




"use client";

import React, { useEffect, useState } from "react";
import {
  fetchProgramDetailsPageData,
  getResponsiveImageUrls,
  lexicalToHtml,
  getImageUrl,
} from "@/lib/api/traning/fetchProgramDetails";

interface ProgramDetailsData {
  componentName?: string;
  introModule?: any;
  columnSection1?: any;
  dividerModule?: any;
  columnSection2?: any;
  columnSection3?: any;
  twoColumnSection1?: any;
  twoColumnSection2?: any;
  columnSection4?: any;
  sectionOrder?: Array<{ section: string }>;
  globalStyles?: any;
}

const ProgramDetails: React.FC = () => {
  const [pageData, setPageData] = useState<ProgramDetailsData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const data = await fetchProgramDetailsPageData();
        setPageData(data);
      } catch (error) {
        console.error("Error fetching Program Details page data:", error);
      } finally {
        setLoading(false);
      }
    };
    fetchData();
  }, []);

  if (loading) return <div>Loading...</div>;
  if (!pageData) return <div>No data available</div>;

  const {
    introModule,
    columnSection1,
    dividerModule,
    columnSection2,
    columnSection3,
    twoColumnSection1,
    twoColumnSection2,
    columnSection4,
    sectionOrder,
  } = pageData;

  const renderSection = (section: string) => {
    switch (section) {
      case "introModule":
        if (!introModule || !introModule.show) return null;
        return (
          <div
            className={
              introModule.containerClass ||
              "mod_intro container viewport option-1 wow fadeInUp"
            }
            data-s3-module
            style={{
              backgroundColor: introModule.backgroundColor,
              color: introModule.textColor,
            }}
          >
            <div className="row ">
              {introModule.logo && (
                <picture className="logo">
                  <img
                    src={getImageUrl(introModule.logo)}
                    width={introModule.logoWidth || 58}
                    height={introModule.logoHeight || 64}
                    loading="lazy"
                    alt={introModule.logoAlt || "Goldfingers aesthetic logo"}
                    draggable="false"
                    data-api-key="logo"
                  />
                </picture>
              )}
              <div className="inner" data-api-key="content">
                {introModule.heading && (
                  <h1
                    style={{
                      color: introModule.headingColor,
                      fontSize: introModule.headingFontSize,
                    }}
                  >
                    {introModule.heading}
                  </h1>
                )}
              </div>
            </div>
          </div>
        );

      case "columnSection1":
        if (!columnSection1 || !columnSection1.show) return null;
        const col1Images = columnSection1.image
          ? getResponsiveImageUrls(columnSection1.image)
          : null;
        return (
          <div
            className={
              columnSection1.containerClass || "mod_column viewport container"
            }
            data-s3-module
            style={{
              backgroundColor: columnSection1.backgroundColor,
              color: columnSection1.textColor,
            }}
          >
            <div className="row " data-api-key="content">
              <div className="item">
                <center>
                  {col1Images && (
                    <p>
                      <img
                        alt={col1Images.alt || "team photo"}
                        src={col1Images.desktop || col1Images.large}
                      />
                    </p>
                  )}
                  {columnSection1.subheading && (
                    <h3 style={{ color: columnSection1.subheadingColor }}>
                      <div
                        dangerouslySetInnerHTML={{
                          __html: lexicalToHtml(columnSection1.subheading),
                        }}
                      />
                    </h3>
                  )}
                </center>
              </div>
            </div>
          </div>
        );

      case "dividerModule":
        if (!dividerModule || !dividerModule.show) return null;
        return (
          <div
            className={dividerModule.containerClass || "mod_divider container"}
            data-s3-module
            style={{
              backgroundColor: dividerModule.backgroundColor,
            }}
          >
            <div className="row">
              <div className="media">
                {dividerModule.logo && (
                  <picture className="">
                    <img
                      src={getImageUrl(dividerModule.logo)}
                      width={dividerModule.logoWidth || 55}
                      height={dividerModule.logoHeight || 61}
                      loading="lazy"
                      alt={dividerModule.logoAlt || "Logo media"}
                      draggable="false"
                    />
                  </picture>
                )}
              </div>
            </div>
          </div>
        );

      case "columnSection2":
        if (!columnSection2 || !columnSection2.show) return null;
        return (
          <div
            className={
              columnSection2.containerClass || "mod_column viewport container"
            }
            data-s3-module
            style={{
              backgroundColor: columnSection2.backgroundColor,
              color: columnSection2.textColor,
            }}
          >
            <div className="row " data-api-key="content">
              <div className="item">
                <center>
                  {columnSection2.heading && (
                    <h1 style={{ color: columnSection2.headingColor }}>
                      {columnSection2.heading}
                    </h1>
                  )}
                  {columnSection2.description && (
                    <div
                      style={{ color: columnSection2.descriptionColor }}
                      dangerouslySetInnerHTML={{
                        __html: lexicalToHtml(columnSection2.description),
                      }}
                    />
                  )}
                </center>
                {columnSection2.table &&
                  columnSection2.table.headers &&
                  columnSection2.table.rows && (
                    <center>
                      <table
                        border={1}
                        style={{
                          borderCollapse: "collapse",
                          borderColor: columnSection2.table.borderColor,
                        }}
                      >
                        <tbody>
                          <tr>
                            {columnSection2.table.headers.map(
                              (header: any, index: number) => (
                                <td
                                  key={index}
                                  style={{
                                    backgroundColor:
                                      columnSection2.table
                                        .headerBackgroundColor,
                                    color: columnSection2.table.headerTextColor,
                                  }}
                                >
                                  <p>
                                    <strong>{header.label}</strong>
                                  </p>
                                </td>
                              )
                            )}
                          </tr>
                          {columnSection2.table.rows.map(
                            (row: any, rowIndex: number) => (
                              <tr key={rowIndex}>
                                <td
                                  style={{
                                    backgroundColor:
                                      rowIndex % 2 === 0
                                        ? columnSection2.table
                                            .rowBackgroundColor
                                        : columnSection2.table
                                            .alternateRowColor,
                                    color: columnSection2.table.rowTextColor,
                                  }}
                                >
                                  <p>{row.programName}</p>
                                </td>
                                <td>{row.duration}</td>
                                <td>{row.tuition}</td>
                                <td>
                                  <div
                                    dangerouslySetInnerHTML={{
                                      __html: lexicalToHtml(row.included),
                                    }}
                                  />
                                </td>
                              </tr>
                            )
                          )}
                        </tbody>
                      </table>
                      <p></p>
                    </center>
                  )}
              </div>
            </div>
          </div>
        );

      case "columnSection3":
        if (!columnSection3 || !columnSection3.show) return null;
        return (
          <div
            className={
              columnSection3.containerClass || "mod_column viewport container"
            }
            data-s3-module
            style={{
              backgroundColor: columnSection3.backgroundColor,
              color: columnSection3.textColor,
            }}
          >
            <div className="row " data-api-key="content">
              <div className="item">
                <center>
                  {columnSection3.content && (
                    <h4
                      style={{
                        color: columnSection3.contentColor,
                        fontSize: columnSection3.fontSize,
                        fontWeight: columnSection3.fontWeight,
                      }}
                    >
                      <div
                        dangerouslySetInnerHTML={{
                          __html: lexicalToHtml(columnSection3.content),
                        }}
                      />
                    </h4>
                  )}
                </center>
              </div>
            </div>
          </div>
        );

      case "twoColumnSection1":
        if (!twoColumnSection1 || !twoColumnSection1.show) return null;
        const rightCol1Images = twoColumnSection1.rightColumn?.image
          ? getResponsiveImageUrls(twoColumnSection1.rightColumn.image)
          : null;

        return (
          <div
            className={
              twoColumnSection1.containerClass ||
              "mod_columns_two viewport container dark"
            }
            data-s3-module
            style={{
              backgroundColor: twoColumnSection1.backgroundColor,
              color: twoColumnSection1.textColor,
            }}
          >
            <div className="row ">
              <div
                className={`content ${
                  twoColumnSection1.verticalAlignment === "center"
                    ? "vertical-align"
                    : ""
                }`}
              >
                <div
                  className={`item ${
                    twoColumnSection1.leftColumn?.animationClass ||
                    "wow fadeInLeft"
                  }`}
                  data-api-key="content_left"
                >
                  {twoColumnSection1.leftColumn?.heading && (
                    <h2
                      style={{
                        color: twoColumnSection1.leftColumn.headingColor,
                      }}
                    >
                      {twoColumnSection1.leftColumn.heading}
                    </h2>
                  )}
                  {twoColumnSection1.leftColumn?.highlights && (
                    <ul
                      style={{
                        listStyleType:
                          twoColumnSection1.leftColumn.listStyle || "disc",
                      }}
                    >
                      {twoColumnSection1.leftColumn.highlights.map(
                        (highlight: any, index: number) => (
                          <li key={index}>
                            <strong style={{ color: highlight.titleColor }}>
                              {highlight.title}
                            </strong>
                            {highlight.description && (
                              <ul>
                                <li
                                  style={{ color: highlight.descriptionColor }}
                                >
                                  <div
                                    dangerouslySetInnerHTML={{
                                      __html: lexicalToHtml(
                                        highlight.description
                                      ),
                                    }}
                                  />
                                </li>
                              </ul>
                            )}
                          </li>
                        )
                      )}
                    </ul>
                  )}
                </div>
                <div
                  className={`item ${
                    twoColumnSection1.rightColumn?.animationClass ||
                    "wow fadeInRight"
                  }`}
                  data-api-key="content_right"
                >
                  {rightCol1Images && (
                    <p>
                      <img
                        alt={rightCol1Images.alt || "Woman touching her neck"}
                        src={rightCol1Images.desktop || rightCol1Images.large}
                      />
                    </p>
                  )}
                </div>
              </div>
            </div>
          </div>
        );

      case "twoColumnSection2":
        if (!twoColumnSection2 || !twoColumnSection2.show) return null;
        const leftCol2Images = twoColumnSection2.leftColumn?.image
          ? getResponsiveImageUrls(twoColumnSection2.leftColumn.image)
          : null;

        return (
          <div
            className={
              twoColumnSection2.containerClass ||
              "mod_columns_two viewport container"
            }
            data-s3-module
            style={{
              backgroundColor: twoColumnSection2.backgroundColor,
              color: twoColumnSection2.textColor,
            }}
          >
            <div className="row ">
              <div
                className={`content ${
                  twoColumnSection2.verticalAlignment === "center"
                    ? "vertical-align"
                    : ""
                }`}
              >
                <div
                  className={`item ${
                    twoColumnSection2.leftColumn?.animationClass ||
                    "wow fadeInLeft"
                  }`}
                  data-api-key="content_left"
                >
                  {leftCol2Images && (
                    <p>
                      <img
                        alt={
                          leftCol2Images.alt ||
                          "woman looking in hand mirror pointing to her face"
                        }
                        src={leftCol2Images.desktop || leftCol2Images.large}
                      />
                    </p>
                  )}
                </div>
                <div
                  className={`item ${
                    twoColumnSection2.rightColumn?.animationClass ||
                    "wow fadeInRight"
                  }`}
                  data-api-key="content_right"
                >
                  {twoColumnSection2.rightColumn?.heading && (
                    <h1
                      style={{
                        color: twoColumnSection2.rightColumn.headingColor,
                      }}
                    >
                      {twoColumnSection2.rightColumn.heading}
                    </h1>
                  )}
                  {twoColumnSection2.rightColumn?.programs &&
                    twoColumnSection2.rightColumn.programs.map(
                      (program: any, index: number) => (
                        <div key={index}>
                          <h4 style={{ color: program.programTitleColor }}>
                            {program.programTitle}
                          </h4>
                          {program.details && (
                            <ul>
                              {program.details.map(
                                (detail: any, detailIndex: number) => (
                                  <li
                                    key={detailIndex}
                                    style={{ color: detail.textColor }}
                                  >
                                    <div
                                      dangerouslySetInnerHTML={{
                                        __html: lexicalToHtml(detail.text),
                                      }}
                                    />
                                  </li>
                                )
                              )}
                            </ul>
                          )}
                        </div>
                      )
                    )}
                  {twoColumnSection2.rightColumn?.additionalInfo && (
                    <div
                      style={{
                        color:
                          twoColumnSection2.rightColumn.additionalInfoColor,
                      }}
                      dangerouslySetInnerHTML={{
                        __html: lexicalToHtml(
                          twoColumnSection2.rightColumn.additionalInfo
                        ),
                      }}
                    />
                  )}
                </div>
              </div>
            </div>
          </div>
        );

      case "columnSection4":
        if (!columnSection4 || !columnSection4.show) return null;
        return (
          <div
            className={
              columnSection4.containerClass || "mod_column viewport container"
            }
            data-s3-module
            style={{
              backgroundColor: columnSection4.backgroundColor,
              color: columnSection4.textColor,
            }}
          >
            <div className="row " data-api-key="content">
              <div className="item">
                <center>
                  {columnSection4.headings &&
                    columnSection4.headings.map(
                      (heading: any, index: number) => (
                        <h1
                          key={index}
                          style={{
                            color: heading.textColor,
                            fontSize: heading.fontSize,
                            fontWeight: heading.fontWeight,
                          }}
                        >
                          {heading.isItalic ? (
                            <em>
                              <div
                                dangerouslySetInnerHTML={{
                                  __html: lexicalToHtml(heading.text),
                                }}
                              />
                            </em>
                          ) : (
                            <div
                              dangerouslySetInnerHTML={{
                                __html: lexicalToHtml(heading.text),
                              }}
                            />
                          )}
                        </h1>
                      )
                    )}
                  {columnSection4.ctaButton?.show && (
                    <p>
                      <a
                        href={columnSection4.ctaButton.url || "#"}
                        target={
                          columnSection4.ctaButton.openInNewTab
                            ? "_blank"
                            : "_self"
                        }
                        className="btn"
                        rel={
                          columnSection4.ctaButton.openInNewTab
                            ? "noopener"
                            : undefined
                        }
                        style={{
                          backgroundColor:
                            columnSection4.ctaButton.backgroundColor,
                          color: columnSection4.ctaButton.textColor,
                          borderRadius: columnSection4.ctaButton.borderRadius,
                          padding: columnSection4.ctaButton.padding,
                        }}
                      >
                        {columnSection4.ctaButton.text || "APPLY NOW"}
                      </a>
                    </p>
                  )}
                </center>
              </div>
            </div>
          </div>
        );

      default:
        return null;
    }
  };

  return (
    <main id="main">
      {/* Page Layout */}
      {sectionOrder &&
        sectionOrder.map((item, index) => (
          <React.Fragment key={index}>
            {renderSection(item.section)}
          </React.Fragment>
        ))}
      {/* /Page Layout */}
    </main>
  );
};

export default ProgramDetails;