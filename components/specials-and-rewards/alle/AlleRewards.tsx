// import React from "react";

// const AlleRewards: React.FC = () => {
//   return (
//     <main id="main">
//       {/* Page Layout */}
//       {/* Hero Module */}
//       <div className="mod_hero banner mobile-stack" data-s3-module>
//         <div className="wrapper">
//           <picture className="background">
//             <source
//               media="(max-width:420px)"
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=630 2x"
//             />
//             <source
//               media="(max-width:800px)"
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1200 2x"
//             />
//             <source
//               media="(max-width:1400px)"
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=2100 2x"
//             />
//             <source
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
//             />
//             <img
//               src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-src="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
//               loading="lazy"
//               data-lazyload="img"
//               width="1994"
//               height="1206"
//               alt="Background Texture"
//               draggable="false"
//             />
//           </picture>
//           <div className="row">
//             <div className="inner">
//               <ul className="partial_breadcrumb" data-s3-partial>
//                 <li>
//                   <a
//                     href="/"
//                     role="link"
//                     aria-label="Breadcrumbs to help navigate the user"
//                   >
//                     Home
//                   </a>
//                 </li>
//                 <li>
//                   <a
//                     href="/specials-and-rewards/"
//                     role="link"
//                     aria-label="Breadcrumbs to help navigate the user"
//                   >
//                     Specials And Rewards
//                   </a>
//                 </li>
//                 <li>
//                   <a
//                     href="/specials-and-rewards/alle/"
//                     role="link"
//                     aria-label="Breadcrumbs to help navigate the user"
//                   >
//                     Alle
//                   </a>
//                 </li>
//               </ul>
//               <h1>Allē Rewards</h1>
//             </div>
//           </div>
//           <div className="media">
//             <picture className="background">
//               <source
//                 media="(max-width:420px)"
//                 srcSet="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=630 2x"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=630 2x"
//               />
//               <source
//                 media="(max-width:800px)"
//                 srcSet="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1200 2x"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1200 2x"
//               />
//               <source
//                 media="(max-width:1400px)"
//                 srcSet="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=2100 2x"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=2100 2x"
//               />
//               <source
//                 srcSet="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1920"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1920"
//               />
//               <img
//                 src="https://www.datocms-assets.com/105497/1694008812-alle-rewards-banner.jpg?auto=format,compress&w=1920"
//                 width="1920"
//                 height="1206"
//                 alt="nurse smiling with woman"
//                 draggable="false"
//               />
//             </picture>
//           </div>
//         </div>
//       </div>

//       {/* Intro Module */}
//       <div
//         className="mod_intro container viewport option-1 wow fadeInUp"
//         data-s3-module
//       >
//         <div className="row pb-0">
//           <picture className="logo">
//             <img
//               src="https://www.datocms-assets.com/105497/1692813243-logo-module.svg"
//               width={58}
//               height={64}
//               loading="lazy"
//               alt="Goldfingers aesthetic logo"
//               draggable="false"
//               data-api-key="logo"
//             />
//           </picture>
//           <div className="inner" data-api-key="content">
//             <p>
//               As a member of the ALLĒ &reg;Program (formerly called Brilliant
//               Distinctions &reg;), you will receive special offers, exclusive
//               invitations, and membership to the ALLĒ Points Program, where you
//               can earn points on select products and services such as Botox
//               &reg;, Juv &eacute;derm &reg;, Kybella &reg;, SkinMedica &reg;and
//               More.
//             </p>
//           </div>
//         </div>
//       </div>

//       {/* Half Image Module */}
//       <div
//         className="mod_half_image  viewport half-image container wow fadeInLeft "
//         data-s3-module
//       >
//         <div className="row half-image-row flipped mb-0">
//           <div className="media">
//             <picture className="background">
//               <source
//                 media="(max-width:420px)"
//                 srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=630 2x"
//               />
//               <source
//                 media="(max-width:800px)"
//                 srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=1200 2x"
//               />
//               <source
//                 media="(max-width:1400px)"
//                 srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=2100 2x"
//               />
//               <source
//                 srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=1832"
//               />
//               <img
//                 src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//                 data-lazyload-src="https://www.datocms-assets.com/105497/1694009158-alle-rewards.jpg?auto=format,compress&w=1832"
//                 loading="lazy"
//                 data-lazyload="img"
//                 width="1832"
//                 height="1824"
//                 alt="woman holding mirror to her face while doctor points to her chin"
//                 draggable="false"
//                 data-api-key="image"
//               />
//             </picture>
//           </div>
//           <div className="copy padded">
//             <div className="inner">
//               <div className="content" data-api-key="content">
//                 <h2>Program Details</h2>
//                 <p>
//                   Once enrolled, you will earn points each time you receive
//                   Botox or Juv &eacute;derm treatments, which you can either
//                   redeem for big savings or a donation.You &rsquo;ll also
//                   receive a special ALLE newsletter packed with tips, articles,
//                   useful information and special promotions.
//                 </p>
//                 <h3>Other benefits include:</h3>
//                 <ul>
//                   <li>Exclusive offers and invitations</li>
//                   <li>Insider access to special events</li>
//                   <li>Treatment reminders</li>
//                   <li>
//                     The latest information, tips, and news from Goldfingers
//                   </li>
//                 </ul>
//               </div>
//             </div>
//           </div>
//         </div>
//       </div>

//       {/* Column Module */}
//       <div className="mod_column viewport container has-media" data-s3-module>
//         <div className="row mb-30 media-left" data-api-key="content">
//           <div className="item">
//             <h2>Allē Flash</h2>
//             <p>
//               Surprise savings in a scan? Yes, please! Allē is giving you more
//               ways to save than ever before.&nbsp;
//             </p>
//             <p>
//               You now have the chance to receive surprise offers while you
//               &rsquo;re at your Goldfingers Aesthetics office.
//             </p>
//             <h3>Scan the QR Code to download an app!</h3>
//           </div>
//           <picture className="media">
//             <source
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1695922637-letter.avif?auto=format,compress&w=397"
//             />
//             <img
//               src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-src="https://www.datocms-assets.com/105497/1695922637-letter.avif?auto=format,compress&w=397"
//               loading="lazy"
//               data-lazyload="img"
//               width="397"
//               height="512"
//               alt=""
//               draggable="false"
//             />
//           </picture>
//         </div>
//       </div>

//       {/* Banner Module */}
//       <div
//         className="mod_banner dark  hide-divider viewport background-4"
//         data-s3-module
//       >
//         <div className="row wow fadeInUp">
//           <div className="content" data-api-key="top_content">
//             <p className="text-center">
//               <img
//                 src="https://www.datocms-assets.com/105497/1695921786-content-img3-edited.png"
//                 alt="Content"
//               />
//             </p>
//           </div>
//         </div>
//         <picture className="background">
//           <source
//             media="(max-width:420px)"
//             srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//             data-lazyload-srcset="https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=1200 2x"
//           />
//           <source
//             media="(max-width:800px)"
//             srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//             data-lazyload-srcset="https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=800&q=85&sharp=5, https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=1200&q=85&sharp=5 2x"
//           />
//           <source
//             media="(max-width:1400px)"
//             srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//             data-lazyload-srcset="https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=1400&q=85&sharp=5, https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=2100&q=85&sharp=5 2x"
//           />
//           <source
//             srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//             data-lazyload-srcset="https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=2200&q=85&sharp=5"
//           />
//           <img
//             src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//             data-lazyload-src="https://www.datocms-assets.com/105497/1693257047-banner-bgd-4.jpg?auto=format,compress&w=2200&q=85&sharp=5"
//             loading="lazy"
//             data-lazyload="img"
//             width="2200"
//             height="802"
//             alt="Banner media"
//             draggable="false"
//           />
//         </picture>
//       </div>

//       {/* Column Module */}
//       <div className="mod_column viewport container has-media" data-s3-module>
//         <div className="row mt-30 media-left" data-api-key="content">
//           <div className="item">
//             <h2>Get Started Today</h2>
//             <p>
//               Please contact our office if you need assistance,{" "}
//               <a href="tel:4073334300">407.333.4300</a>. We look forward to
//               hearing from you soon! <a href="/contact/">Schedule </a>
//               at any Goldfingers Aesthetics &amp;Plastic Surgery Locations.
//             </p>
//           </div>
//           <picture className="media">
//             <source
//               media="(max-width:420px)"
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1695921614-content-img2-1-edited.png?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1695921614-content-img2-1-edited.png?auto=format,compress&w=630 2x"
//             />
//             <source
//               srcSet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1695921614-content-img2-1-edited.png?auto=format,compress&w=480"
//             />
//             <img
//               src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="
//               data-lazyload-src="https://www.datocms-assets.com/105497/1695921614-content-img2-1-edited.png?auto=format,compress&w=480"
//               loading="lazy"
//               data-lazyload="img"
//               width="480"
//               height="502"
//               alt="Benefits banner"
//               draggable="false"
//             />
//           </picture>
//         </div>
//       </div>
//       {/* /Page Layout */}
//     </main>
//   );
// };

// export default AlleRewards;



"use client";

import React, { useEffect, useState } from "react";
import {
  fetchAlleFillersPageData,
  getResponsiveImageUrls,
  getImageUrl,
  lexicalToHtml,
} from "@/lib/api/specials/fetchAlleRewardsPageComponent"; // Adjust path to your API utilities

interface AlleRewardsPageData {
  heroSection: {
    show: boolean;
    className?: string;
    backgroundColor?: string;
    backgroundImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt?: string;
    };
    breadcrumbs: Array<{ label: string; url: string; ariaLabel?: string }>;
    title: string;
    titleColor?: string;
    titleFontSize?: string;
    mediaImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt?: string;
    };
  };
  introSection: {
    show: boolean;
    className?: string;
    backgroundColor?: string;
    textColor?: string;
    paddingBottom?: string;
    logo?: any;
    logoAlt?: string;
    logoWidth?: string;
    logoHeight?: string;
    heading?: string;
    headingColor?: string;
    content: any;
  };
  halfImageSection: {
    show: boolean;
    className?: string;
    backgroundColor?: string;
    textColor?: string;
    imagePosition?: "left" | "flipped";
    verticalAlignment?: "top" | "center" | "bottom";
    marginBottom?: string;
    copyPadding?: boolean;
    heading: string;
    headingColor?: string;
    content: any;
    image: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt?: string;
    };
  };
  columnSection1: {
    show: boolean;
    className?: string;
    backgroundColor?: string;
    textColor?: string;
    mediaPosition?: "media-left" | "media-right";
    marginBottom?: string;
    heading: string;
    headingColor?: string;
    content: any;
    mediaImage: {
      mobile?: any;
      desktop?: any;
      alt?: string;
      width?: string;
      height?: string;
    };
  };
  bannerSection1: {
    show: boolean;
    className?: string;
    backgroundColor?: string;
    textColor?: string;
    textAlign?: "left" | "center" | "right";
    backgroundImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt?: string;
    };
    content?: any;
    contentImage?: {
      url?: any;
      alt?: string;
      width?: string;
      height?: string;
    };
  };
  columnSection2: {
    show: boolean;
    className?: string;
    backgroundColor?: string;
    textColor?: string;
    mediaPosition?: "media-left" | "media-right";
    marginTop?: string;
    heading: string;
    headingColor?: string;
    content: any;
    mediaImage: {
      mobile?: any;
      desktop?: any;
      alt?: string;
      width?: string;
      height?: string;
    };
  };
  sectionOrder: Array<{ section: string }>;
  globalStyles: {
    containerMaxWidth?: string;
    containerPadding?: string;
    sectionSpacing?: string;
    fontFamily?: string;
    primaryColor?: string;
    secondaryColor?: string;
    textColor?: string;
    linkColor?: string;
    linkHoverColor?: string;
  };
}

const AlleRewards: React.FC = () => {
  const [pageData, setPageData] = useState<AlleRewardsPageData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        // Modify fetch function to target alle-rewards-page-component collection
        const res = await fetch(
          `${
            process.env.NEXT_PUBLIC_PAYLOAD_API_URL ||
            "https://goldfingerbackend.vercel.app/api"
          }/alle-rewards-page-component?where[isActive][equals]=true&depth=2&limit=100&draft=false&trash=false`,
          {
            next: { revalidate: 60 },
            cache: "force-cache",
          }
        );
        if (!res.ok) {
          throw new Error(
            `Failed to fetch Allē Rewards page data: ${res.statusText}`
          );
        }
        const data = await res.json();
        const activeComponent =
          data.docs?.find((component: any) => component.isActive) || null;
        console.log("Fetched Allē Rewards data:", activeComponent);
        setPageData(activeComponent);
      } catch (error) {
        console.error("Error fetching Allē Rewards page data:", error);
      } finally {
        setLoading(false);
      }
    };
    fetchData();
  }, []);

  if (loading) return <div>Loading...</div>;
  if (!pageData) return <div>No data available</div>;

  const {
    heroSection,
    introSection,
    halfImageSection,
    columnSection1,
    bannerSection1,
    columnSection2,
    sectionOrder,
    globalStyles,
  } = pageData;

  const placeholder =
    "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=";

  const renderSection = (section: string) => {
    switch (section) {
      case "hero":
        if (!heroSection.show) return null;
        const heroBgImages = getResponsiveImageUrls(
          heroSection.backgroundImage
        );
        const heroMediaImages = getResponsiveImageUrls(heroSection.mediaImage);
        return (
          <div
            className={`mod_hero banner ${
              heroSection.className || "mobile-stack"
            }`}
            data-s3-module
            style={{ backgroundColor: heroSection.backgroundColor }}
          >
            <div className="wrapper">
              <picture className="background">
                <source
                  media="(max-width:420px)"
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.mobile}?auto=format,compress&w=420, ${heroBgImages.mobile}?auto=format,compress&w=630 2x`}
                />
                <source
                  media="(max-width:800px)"
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.tablet}?auto=format,compress&w=800, ${heroBgImages.tablet}?auto=format,compress&w=1200 2x`}
                />
                <source
                  media="(max-width:1400px)"
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.desktop}?auto=format,compress&w=1400, ${heroBgImages.desktop}?auto=format,compress&w=2100 2x`}
                />
                <source
                  srcSet={placeholder}
                  data-lazyload-srcset={`${heroBgImages.large}?auto=format,compress&w=1994`}
                />
                <img
                  src={placeholder}
                  data-lazyload-src={`${heroBgImages.large}?auto=format,compress&w=1994`}
                  loading="lazy"
                  data-lazyload="img"
                  width="1994"
                  height="1206"
                  alt={heroBgImages.alt || "Background Texture"}
                  draggable="false"
                />
              </picture>
              <div className="row">
                <div className="inner">
                  <ul className="partial_breadcrumb" data-s3-partial>
                    {heroSection.breadcrumbs.map((crumb, index) => (
                      <li key={index}>
                        <a
                          href={crumb.url}
                          role="link"
                          aria-label={
                            crumb.ariaLabel ||
                            "Breadcrumbs to help navigate the user"
                          }
                        >
                          {crumb.label}
                        </a>
                      </li>
                    ))}
                  </ul>
                  <h1
                    style={{
                      color: heroSection.titleColor,
                      fontSize: heroSection.titleFontSize,
                    }}
                  >
                    {heroSection.title}
                  </h1>
                </div>
              </div>
              <div className="media">
                <picture className="background">
                  <source
                    media="(max-width:420px)"
                    srcSet={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
                    data-lazyload-srcset={`${heroMediaImages.mobile}?auto=format,compress&w=420, ${heroMediaImages.mobile}?auto=format,compress&w=630 2x`}
                  />
                  <source
                    media="(max-width:800px)"
                    srcSet={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
                    data-lazyload-srcset={`${heroMediaImages.tablet}?auto=format,compress&w=800, ${heroMediaImages.tablet}?auto=format,compress&w=1200 2x`}
                  />
                  <source
                    media="(max-width:1400px)"
                    srcSet={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
                    data-lazyload-srcset={`${heroMediaImages.desktop}?auto=format,compress&w=1400, ${heroMediaImages.desktop}?auto=format,compress&w=2100 2x`}
                  />
                  <source
                    srcSet={`${heroMediaImages.large}?auto=format,compress&w=1920`}
                    data-lazyload-srcset={`${heroMediaImages.large}?auto=format,compress&w=1920`}
                  />
                  <img
                    src={`${heroMediaImages.large}?auto=format,compress&w=1920`}
                    width="1920"
                    height="1206"
                    alt={heroMediaImages.alt || "nurse smiling with woman"}
                    draggable="false"
                  />
                </picture>
              </div>
            </div>
          </div>
        );

      case "intro":
        if (!introSection.show) return null;
        const introLogo = getImageUrl(introSection.logo);
        return (
          <div
            className={`mod_intro container viewport ${
              introSection.className || "option-1"
            }`}
            data-s3-module
            style={{
              backgroundColor: introSection.backgroundColor,
              color: introSection.textColor,
              paddingBottom: introSection.paddingBottom,
            }}
          >
            <div className="row pb-0">
              {introLogo && (
                <picture className="logo">
                  <img
                    src={introLogo}
                    width={introSection.logoWidth || 58}
                    height={introSection.logoHeight || 64}
                    loading="lazy"
                    alt={introSection.logoAlt || "Goldfingers aesthetic logo"}
                    draggable="false"
                    data-api-key="logo"
                  />
                </picture>
              )}
              <div className="inner" data-api-key="content">
                {introSection.heading && (
                  <h2 style={{ color: introSection.headingColor }}>
                    {introSection.heading}
                  </h2>
                )}
                <div
                  dangerouslySetInnerHTML={{
                    __html: lexicalToHtml(introSection.content),
                  }}
                />
              </div>
            </div>
          </div>
        );

      case "halfImage":
        if (!halfImageSection.show) return null;
        const halfImages = getResponsiveImageUrls(halfImageSection.image);
        return (
          <div
            className={`mod_half_image viewport half-image container ${
              halfImageSection.className || ""
            }`}
            data-s3-module
            style={{
              backgroundColor: halfImageSection.backgroundColor,
              color: halfImageSection.textColor,
            }}
          >
            <div
              className={`row half-image-row ${
                halfImageSection.imagePosition || "flipped"
              } ${halfImageSection.marginBottom || ""}`}
            >
              <div className="media">
                <picture className="background">
                  <source
                    media="(max-width:420px)"
                    srcSet={placeholder}
                    data-lazyload-srcset={`${halfImages.mobile}?auto=format,compress&w=420, ${halfImages.mobile}?auto=format,compress&w=630 2x`}
                  />
                  <source
                    media="(max-width:800px)"
                    srcSet={placeholder}
                    data-lazyload-srcset={`${halfImages.tablet}?auto=format,compress&w=800, ${halfImages.tablet}?auto=format,compress&w=1200 2x`}
                  />
                  <source
                    media="(max-width:1400px)"
                    srcSet={placeholder}
                    data-lazyload-srcset={`${halfImages.desktop}?auto=format,compress&w=1400, ${halfImages.desktop}?auto=format,compress&w=2100 2x`}
                  />
                  <source
                    srcSet={placeholder}
                    data-lazyload-srcset={`${halfImages.large}?auto=format,compress&w=1832`}
                  />
                  <img
                    src={placeholder}
                    data-lazyload-src={`${halfImages.large}?auto=format,compress&w=1832`}
                    loading="lazy"
                    data-lazyload="img"
                    width="1832"
                    height="1824"
                    alt={
                      halfImages.alt ||
                      "woman holding mirror to her face while doctor points to her chin"
                    }
                    draggable="false"
                    data-api-key="image"
                  />
                </picture>
              </div>
              <div
                className={`copy ${
                  halfImageSection.copyPadding ? "padded" : ""
                }`}
              >
                <div className="inner">
                  <div className="content" data-api-key="content">
                    <h2 style={{ color: halfImageSection.headingColor }}>
                      {halfImageSection.heading}
                    </h2>
                    <div
                      dangerouslySetInnerHTML={{
                        __html: lexicalToHtml(halfImageSection.content),
                      }}
                    />
                  </div>
                </div>
              </div>
            </div>
          </div>
        );

      case "columnSection1":
        if (!columnSection1.show) return null;
        const column1Image = getResponsiveImageUrls(columnSection1.mediaImage);
        return (
          <div
            className={`mod_column viewport container ${
              columnSection1.className || ""
            }`}
            data-s3-module
            style={{
              backgroundColor: columnSection1.backgroundColor,
              color: columnSection1.textColor,
            }}
          >
            <div
              className={`row ${columnSection1.marginBottom || ""} ${
                columnSection1.mediaPosition || "media-left"
              }`}
              data-api-key="content"
            >
              <div className="item">
                <h2 style={{ color: columnSection1.headingColor }}>
                  {columnSection1.heading}
                </h2>
                <div
                  dangerouslySetInnerHTML={{
                    __html: lexicalToHtml(columnSection1.content),
                  }}
                />
              </div>
              {column1Image.desktop && (
                <picture className="media">
                  <source
                    media="(max-width:420px)"
                    srcSet={placeholder}
                    data-lazyload-srcset={`${column1Image.mobile}?auto=format,compress&w=420, ${column1Image.mobile}?auto=format,compress&w=630 2x`}
                  />
                  <source
                    srcSet={placeholder}
                    data-lazyload-srcset={`${column1Image.desktop}?auto=format,compress&w=397`}
                  />
                  <img
                    src={placeholder}
                    data-lazyload-src={`${column1Image.desktop}?auto=format,compress&w=397`}
                    loading="lazy"
                    data-lazyload="img"
                    width={column1Image.width || "397"}
                    height={column1Image.height || "512"}
                    alt={column1Image.alt || ""}
                    draggable="false"
                  />
                </picture>
              )}
            </div>
          </div>
        );

      case "bannerSection1":
        if (!bannerSection1.show) return null;
        const bannerImages = getResponsiveImageUrls(
          bannerSection1.backgroundImage
        );
        const contentImage = bannerSection1.contentImage
          ? getImageUrl(bannerSection1.contentImage.url)
          : "";
        return (
          <div
            className={`mod_banner ${
              bannerSection1.className ||
              "dark hide-divider viewport background-4"
            }`}
            data-s3-module
            style={{
              backgroundColor: bannerSection1.backgroundColor,
              color: bannerSection1.textColor,
            }}
          >
            <div className="row wow fadeInUp">
              <div className="content" data-api-key="top_content">
                <div className={`text-${bannerSection1.textAlign || "center"}`}>
                  {bannerSection1.content && (
                    <div
                      dangerouslySetInnerHTML={{
                        __html: lexicalToHtml(bannerSection1.content),
                      }}
                    />
                  )}
                  {contentImage && (
                    <p
                      className={`text-${bannerSection1.textAlign || "center"}`}
                    >
                      <img
                        src={contentImage}
                        alt={bannerSection1.contentImage?.alt || "Content"}
                        width={bannerSection1.contentImage?.width}
                        height={bannerSection1.contentImage?.height}
                      />
                    </p>
                  )}
                </div>
              </div>
            </div>
            <picture className="background">
              <source
                media="(max-width:420px)"
                srcSet={placeholder}
                data-lazyload-srcset={`${bannerImages.mobile}?auto=format,compress&w=800, ${bannerImages.mobile}?auto=format,compress&w=1200 2x`}
              />
              <source
                media="(max-width:800px)"
                srcSet={placeholder}
                data-lazyload-srcset={`${bannerImages.tablet}?auto=format,compress&w=800&q=85&sharp=5, ${bannerImages.tablet}?auto=format,compress&w=1200&q=85&sharp=5 2x`}
              />
              <source
                media="(max-width:1400px)"
                srcSet={placeholder}
                data-lazyload-srcset={`${bannerImages.desktop}?auto=format,compress&w=1400&q=85&sharp=5, ${bannerImages.desktop}?auto=format,compress&w=2100&q=85&sharp=5 2x`}
              />
              <source
                srcSet={placeholder}
                data-lazyload-srcset={`${bannerImages.large}?auto=format,compress&w=2200&q=85&sharp=5`}
              />
              <img
                src={placeholder}
                data-lazyload-src={`${bannerImages.large}?auto=format,compress&w=2200&q=85&sharp=5`}
                loading="lazy"
                data-lazyload="img"
                width="2200"
                height="802"
                alt={bannerImages.alt || "Banner media"}
                draggable="false"
              />
            </picture>
          </div>
        );

      case "columnSection2":
        if (!columnSection2.show) return null;
        const column2Image = getResponsiveImageUrls(columnSection2.mediaImage);
        return (
          <div
            className={`mod_column viewport container ${
              columnSection2.className || ""
            }`}
            data-s3-module
            style={{
              backgroundColor: columnSection2.backgroundColor,
              color: columnSection2.textColor,
            }}
          >
            <div
              className={`row ${columnSection2.marginTop || ""} ${
                columnSection2.mediaPosition || "media-left"
              }`}
              data-api-key="content"
            >
              <div className="item">
                <h2 style={{ color: columnSection2.headingColor }}>
                  {columnSection2.heading}
                </h2>
                <div
                  dangerouslySetInnerHTML={{
                    __html: lexicalToHtml(columnSection2.content),
                  }}
                />
              </div>
              {column2Image.desktop && (
                <picture className="media">
                  <source
                    media="(max-width:420px)"
                    srcSet={placeholder}
                    data-lazyload-srcset={`${column2Image.mobile}?auto=format,compress&w=420, ${column2Image.mobile}?auto=format,compress&w=630 2x`}
                  />
                  <source
                    srcSet={placeholder}
                    data-lazyload-srcset={`${column2Image.desktop}?auto=format,compress&w=480`}
                  />
                  <img
                    src={placeholder}
                    data-lazyload-src={`${column2Image.desktop}?auto=format,compress&w=480`}
                    loading="lazy"
                    data-lazyload="img"
                    width={column2Image.width || "480"}
                    height={column2Image.height || "502"}
                    alt={column2Image.alt || "Benefits banner"}
                    draggable="false"
                  />
                </picture>
              )}
            </div>
          </div>
        );

      default:
        return null;
    }
  };

  return (
    <main
      id="main"
      style={{
        maxWidth: globalStyles.containerMaxWidth,
        padding: globalStyles.containerPadding,
        fontFamily: globalStyles.fontFamily,
        color: globalStyles.textColor,
        margin: "0 auto",
      }}
    >
      {sectionOrder.map((item, index) => (
        <React.Fragment key={index}>
          {renderSection(item.section)}
        </React.Fragment>
      ))}
    </main>
  );
};

export default AlleRewards;