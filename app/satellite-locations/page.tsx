// // import React from "react";

// // const SatelliteLocationsContent = () => {
// //   return (
// //     <main id="main">
// //       {/* Page Layout */}
// //       {/* Hero Module */}
// //       <div className="mod_hero banner mobile-stack" data-s3-module="">
// //         <div className="wrapper">
// //           <picture className="background">
// //             {" "}
// //             <source
// //               media="(max-width:420px)"
// //               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=420, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=630 2x"
// //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=420, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=630 2x"
// //             />{" "}
// //             <source
// //               media="(max-width:800px)"
// //               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=800, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1200 2x"
// //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=800, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1200 2x"
// //             />{" "}
// //             <source
// //               media="(max-width:1400px)"
// //               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1400, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=2100 2x"
// //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1400, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=2100 2x"
// //             />{" "}
// //             <source
// //               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1994"
// //               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1994"
// //             />{" "}
// //             <img
// //               src="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1994"
// //               data-lazyload-src="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&amp;w=1994"
// //               loading="lazy"
// //               data-lazyload="img"
// //               width="1994"
// //               height="1206"
// //               alt="Background Texture"
// //               draggable="false"
// //               data-lazyload-loaded="true"
// //             />
// //           </picture>
// //           <div className="row">
// //             <div className="inner">
// //               <ul className="partial_breadcrumb" data-s3-partial="">
// //                 <li>
// //                   <a
// //                     href="/"
// //                     role="link"
// //                     aria-label="Breadcrumbs to help navigate the user"
// //                   >
// //                     Home
// //                   </a>
// //                 </li>
// //                 <li>
// //                   <a
// //                     href="/satellite-locations/"
// //                     role="link"
// //                     aria-label="Breadcrumbs to help navigate the user"
// //                   >
// //                     Satellite Locations
// //                   </a>
// //                 </li>
// //               </ul>
// //               <h1>Satellite Locations</h1>
// //               <div className="text">
// //                 <p>Goldfinger Aesthetics by Salon Lofts</p>
// //               </div>
// //             </div>
// //           </div>
// //           <div className="media">
// //             <picture className="background">
// //               {" "}
// //               <source
// //                 media="(max-width:420px)"
// //                 srcSet="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=420, https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=630 2x"
// //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=420, https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=630 2x"
// //               />{" "}
// //               <source
// //                 media="(max-width:800px)"
// //                 srcSet="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=800, https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1200 2x"
// //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=800, https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1200 2x"
// //               />{" "}
// //               <source
// //                 media="(max-width:1400px)"
// //                 srcSet="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1400, https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=2100 2x"
// //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1400, https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=2100 2x"
// //               />{" "}
// //               <source
// //                 srcSet="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1920"
// //                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1920"
// //               />{" "}
// //               <img
// //                 src="https://www.datocms-assets.com/105497/1694698055-salon-loft-locations-banner.jpg?auto=format,compress&amp;w=1920"
// //                 width="1920"
// //                 height="1206"
// //                 alt="Path going down to the beach"
// //                 draggable="false"
// //               />
// //             </picture>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Two Column Module */}
// //       <div className="mod_columns_two viewport container" data-s3-module="">
// //         <div className="row pb-0">
// //           <div className="content ">
// //             <div
// //               className="item wow fadeInLeft"
// //               data-api-key="content_left"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d448505.24663790717!2d-81.389215!3d28.571347!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e77a6381afa571%3A0x96452472e49c5b12!2s2211%20Edgewater%20Dr%2C%20Orlando%2C%20FL%2032804!5e0!3m2!1sen!2sus!4v1694638932088!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">College Park</h3>
// //               <p>
// //                 <a href="tel:4074497648">407-449-7648</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=2211+Edgewater+Dr.+Orlando,+FL+32804"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   2211 Edgewater Dr. Orlando, FL 32804
// //                 </a>
// //               </p>
// //             </div>
// //             <div
// //               className="item wow fadeInRight"
// //               data-api-key="content_right"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3510.585741681301!2d-81.28040768864324!3d28.37137139579086!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88dd89c0942823bf%3A0x7e96b43ba9533d7b!2s6982%20Lake%20Nona%20Blvd%20Suite%20110%2C%20Orlando%2C%20FL%2032827!5e0!3m2!1sen!2sus!4v1736790673241!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">Lake Nona</h3>
// //               <p>
// //                 <a href="tel:4075377371">407-537-7371</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.app.goo.gl/FNe8ZzTwXMtiddW2A"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   {" "}
// //                   6982 Lake Nona Blvd, Suite 110, Orlando FL 32827{" "}
// //                 </a>
// //                 <br />
// //                 <a href="mailto:goldfingersaestheticslakenona@gmail.com">
// //                   goldfingersaestheticslakenona@gmail.com
// //                 </a>
// //               </p>
// //             </div>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Two Column Module */}
// //       <div className="mod_columns_two viewport container" data-s3-module="">
// //         <div className="row pb-0">
// //           <div className="content ">
// //             <div
// //               className="item wow fadeInLeft"
// //               data-api-key="content_left"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d451360.89444228844!2d-82.781073!3d27.894086!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88c2fa5ed2d76be5%3A0xdb3c0d3132dc4685!2s10500%20Ulmerton%20Rd%20suite%20816%2C%20Largo%2C%20FL%2033771!5e0!3m2!1sen!2sus!4v1694639065715!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">Largo</h3>
// //               <p>
// //                 <a href="tel:7276160543">727-616-0543</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=10500+Ulmerton+Rd.+Suite+816+Largo,+FL+33778"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   10500 Ulmerton Rd. Suite 816 Largo, FL 33778
// //                 </a>
// //               </p>
// //             </div>
// //             <div
// //               className="item wow fadeInRight"
// //               data-api-key="content_right"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d450711.8199646493!2d-82.699061!3d28.049342000000003!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88c2edae508aeed7%3A0x26b518ad8a2ad4da!2s3144%20Tampa%20Rd%20FL%203467%2C%20Oldsmar%2C%20FL%2034677!5e0!3m2!1sen!2sus!4v1694639111813!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">Oldsmar</h3>
// //               <p>
// //                 <a href="tel:7276160867">727-616-0867</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=3144+Tampa+Rd+%231,+Oldsmar,+FL+34677"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   3144 Tampa Rd #1, Oldsmar, FL 34677
// //                 </a>
// //               </p>
// //             </div>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Two Column Module */}
// //       <div className="mod_columns_two viewport container" data-s3-module="">
// //         <div className="row pb-0">
// //           <div className="content ">
// //             <div
// //               className="item wow fadeInLeft"
// //               data-api-key="content_left"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d447504.698429384!2d-81.348329!3d28.805186!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e70d7afd39420b%3A0x1aed5e80449459f3!2s4720%20International%20Pkwy%2C%20Sanford%2C%20FL%2032771!5e0!3m2!1sen!2sus!4v1694639163010!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">Savannah Park / Sanford</h3>
// //               <p>
// //                 <a href="tel:4078485674">407-848-5674</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=4720+International+Parkway.+Sanford,+FL+32771"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   4720 International Parkway. Sanford, FL 32771
// //                 </a>
// //               </p>
// //             </div>
// //             <div
// //               className="item wow fadeInRight"
// //               data-api-key="content_right"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d450736.4458815336!2d-82.590517!3d28.043466!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88c2ea5b0dc78563%3A0xeeed66c438721b85!2s9460%20W%20Linebaugh%20Ave%2C%20Westchase%2C%20FL%2033626!5e0!3m2!1sen!2sus!4v1694639198869!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">West Chase</h3>
// //               <p>
// //                 <a href="tel:8133581705">813-358-1705</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=9460+W+Linebaugh+Ave.+Tampa,+FL+33626"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   9460 W Linebaugh Ave. Tampa, FL 33626
// //                 </a>
// //               </p>
// //             </div>
// //           </div>
// //         </div>
// //       </div>
// //       {/* Two Column Module */}
// //       <div className="mod_columns_two viewport container" data-s3-module="">
// //         <div className="row ">
// //           <div className="content ">
// //             <div
// //               className="item wow fadeInLeft"
// //               data-api-key="content_left"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d448276.7036951487!2d-81.301125!3d28.624914!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e76fab614811f1%3A0xdec208981c10e3f9!2s2451%20Howell%20Market%20Ln%20%231115%2C%20Winter%20Park%2C%20FL%2032792!5e0!3m2!1sen!2sus!4v1694639241586!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">Winter Park East</h3>
// //               <p>
// //                 <a href="tel:4076342694">407-634-2694</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=2451+Howell+Market+Lane,+Suite+1115,+Winter+Park,+FL+32792"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   2451 Howell Market Lane, Suite 1115, Winter Park, FL 32792
// //                 </a>
// //               </p>
// //             </div>
// //             <div
// //               className="item wow fadeInRight"
// //               data-api-key="content_right"
// //               style={{ visibility: "hidden", animationName: "none" }}
// //             >
// //               <div
// //                 style={{
// //                   WebkitFilter: "grayscale(100%)",
// //                   filter: "grayscale(100%)",
// //                 }}
// //               >
// //                 <iframe
// //                   src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d448192.4100543199!2d-81.267195!3d28.644648!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x88e76ec6df9bab9d%3A0x2bb897de65ad186!2s1468%20Tuskawilla%20Rd%20%231020%2C%20Winter%20Springs%2C%20FL%2032708!5e0!3m2!1sen!2sus!4v1694639280392!5m2!1sen!2sus"
// //                   width="100%"
// //                   height="350"
// //                   style={{ border: 0 }}
// //                   allowFullScreen=""
// //                   loading="lazy"
// //                   referrerPolicy="no-referrer-when-downgrade"
// //                 />
// //               </div>
// //               <h3 className="pt-20">Winter Springs</h3>
// //               <p>
// //                 <a href="tel:4079862630">407-986-2630</a>
// //                 <br />
// //                 <a
// //                   href="https://maps.google.com/?q=1468+Tuskawilla+Rd,+%231020,+Winter+Springs,+FL+32708"
// //                   target="_blank"
// //                   rel="noopener noreferrer"
// //                 >
// //                   1468 Tuskawilla Rd, #1020, Winter Springs, FL 32708
// //                 </a>
// //                 <br />
// //                 <a href="mailto:goldfingersaestheticswsprings@gmail.com">
// //                   goldfingersaestheticswsprings@gmail.com
// //                 </a>
// //               </p>
// //             </div>
// //           </div>
// //         </div>
// //       </div>
// //       {/* /Page Layout */}
// //     </main>
// //   );
// // };

// // export default SatelliteLocationsContent;

// "use client";


// import React, { useEffect, useState } from "react";

// interface LocationData {
//   locationName: string;
//   animationClass: string;
//   mapSettings: {
//     embedUrl: string;
//     width: string;
//     height: number;
//     grayscale: boolean;
//   };
//   contactInfo: {
//     headingPaddingTop: string;
//     phone: string;
//     phoneDisplay?: string;
//     address: string;
//     googleMapsUrl: string;
//     email?: string;
//     additionalInfo?: string;
//   };
// }

// interface LocationSection {
//   sectionName: string;
//   show: boolean;
//   backgroundColor?: string;
//   textColor?: string;
//   cssClasses: string;
//   rowCssClasses: string;
//   paddingBottom?: string;
//   locations: LocationData[];
// }

// interface PayloadData {
//   heroSection: {
//     show: boolean;
//     backgroundColor?: string;
//     cssClasses: string;
//     backgroundImage: {
//       mobile?: any;
//       tablet?: any;
//       desktop?: any;
//       large?: any;
//       alt: string;
//       url: string;
//     };
//     breadcrumbs: Array<{
//       label: string;
//       url: string;
//       ariaLabel: string;
//     }>;
//     title: string;
//     titleColor?: string;
//     subtitle: string;
//     subtitleColor?: string;
//     mediaImage: {
//       mobile?: any;
//       tablet?: any;
//       desktop?: any;
//       large?: any;
//       alt: string;
//       url: string;
//     };
//   };
//   locationSections: LocationSection[];
// }

// const PAYLOAD_API_URL =
//   process.env.NEXT_PUBLIC_PAYLOAD_API_URL || "http://localhost:3001/api";

// const SatelliteLocations: React.FC = () => {
//   const [data, setData] = useState<PayloadData | null>(null);
//   const [loading, setLoading] = useState(true);

//   useEffect(() => {
//     const fetchData = async () => {
//       try {
//         const res = await fetch(
//           `${PAYLOAD_API_URL}/satellite-locations-page-component?where[isActive][equals]=true&depth=2&limit=1`
//         );
//         if (!res.ok) {
//           throw new Error("Failed to fetch data");
//         }
//         const result = await res.json();
//         const activeComponent = result.docs?.[0] || null;
//         setData(activeComponent);
//       } catch (error) {
//         console.error("Error fetching satellite locations data:", error);
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchData();
//   }, []);

//   if (loading) {
//     return (
//       <div className="min-h-screen flex items-center justify-center">
//         <p>Loading...</p>
//       </div>
//     );
//   }

//   if (!data) {
//     return (
//       <div className="min-h-screen flex items-center justify-center">
//         <p>No data available</p>
//       </div>
//     );
//   }

//   const getImageUrl = (imageField: any): string => {
//     if (!imageField) return "";
//     if (typeof imageField === "object" && imageField.url) {
//       return imageField.url;
//     }
//     if (typeof imageField === "string") {
//       return imageField;
//     }
//     return "";
//   };

//   return (
//     <main id="main">
//       {/* Hero Module */}
//       {data.heroSection?.show && (
//         <div className={data.heroSection.cssClasses} data-s3-module="">
//           <div className="wrapper">
//             <picture className="background">
//               <source
//                 media="(max-width:420px)"
//                 srcSet={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=420, ${data.heroSection.backgroundImage.url}?auto=format,compress&w=630 2x`}
//                 data-lazyload-srcset={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=420, ${data.heroSection.backgroundImage.url}?auto=format,compress&w=630 2x`}
//               />
//               <source
//                 media="(max-width:800px)"
//                 srcSet={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=800, ${data.heroSection.backgroundImage.url}?auto=format,compress&w=1200 2x`}
//                 data-lazyload-srcset={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=800, ${data.heroSection.backgroundImage.url}?auto=format,compress&w=1200 2x`}
//               />
//               <source
//                 media="(max-width:1400px)"
//                 srcSet={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=1400, ${data.heroSection.backgroundImage.url}?auto=format,compress&w=2100 2x`}
//                 data-lazyload-srcset={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=1400, ${data.heroSection.backgroundImage.url}?auto=format,compress&w=2100 2x`}
//               />
//               <source
//                 srcSet={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=1994`}
//                 data-lazyload-srcset={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=1994`}
//               />
//               <img
//                 src={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=1994`}
//                 data-lazyload-src={`${data.heroSection.backgroundImage.url}?auto=format,compress&w=1994`}
//                 loading="lazy"
//                 data-lazyload="img"
//                 width="1994"
//                 height="1206"
//                 alt={data.heroSection.backgroundImage.alt}
//                 draggable="false"
//                 data-lazyload-loaded="true"
//               />
//             </picture>
//             <div className="row">
//               <div className="inner">
//                 <ul className="partial_breadcrumb" data-s3-partial="">
//                   {data.heroSection.breadcrumbs?.map((breadcrumb, index) => (
//                     <li key={index}>
//                       <a
//                         href={breadcrumb.url}
//                         role="link"
//                         aria-label={breadcrumb.ariaLabel}
//                       >
//                         {breadcrumb.label}
//                       </a>
//                     </li>
//                   ))}
//                 </ul>
//                 <h1
//                   style={
//                     data.heroSection.titleColor
//                       ? { color: data.heroSection.titleColor }
//                       : undefined
//                   }
//                 >
//                   {data.heroSection.title}
//                 </h1>
//                 <div className="text">
//                   <p
//                     style={
//                       data.heroSection.subtitleColor
//                         ? { color: data.heroSection.subtitleColor }
//                         : undefined
//                     }
//                   >
//                     {data.heroSection.subtitle}
//                   </p>
//                 </div>
//               </div>
//             </div>
//             <div className="media">
//               <picture className="background">
//                 <source
//                   media="(max-width:420px)"
//                   srcSet={`${data.heroSection.mediaImage.url}?auto=format,compress&w=420, ${data.heroSection.mediaImage.url}?auto=format,compress&w=630 2x`}
//                   data-lazyload-srcset={`${data.heroSection.mediaImage.url}?auto=format,compress&w=420, ${data.heroSection.mediaImage.url}?auto=format,compress&w=630 2x`}
//                 />
//                 <source
//                   media="(max-width:800px)"
//                   srcSet={`${data.heroSection.mediaImage.url}?auto=format,compress&w=800, ${data.heroSection.mediaImage.url}?auto=format,compress&w=1200 2x`}
//                   data-lazyload-srcset={`${data.heroSection.mediaImage.url}?auto=format,compress&w=800, ${data.heroSection.mediaImage.url}?auto=format,compress&w=1200 2x`}
//                 />
//                 <source
//                   media="(max-width:1400px)"
//                   srcSet={`${data.heroSection.mediaImage.url}?auto=format,compress&w=1400, ${data.heroSection.mediaImage.url}?auto=format,compress&w=2100 2x`}
//                   data-lazyload-srcset={`${data.heroSection.mediaImage.url}?auto=format,compress&w=1400, ${data.heroSection.mediaImage.url}?auto=format,compress&w=2100 2x`}
//                 />
//                 <source
//                   srcSet={`${data.heroSection.mediaImage.url}?auto=format,compress&w=1920`}
//                   data-lazyload-srcset={`${data.heroSection.mediaImage.url}?auto=format,compress&w=1920`}
//                 />
//                 <img
//                   src={`${data.heroSection.mediaImage.url}?auto=format,compress&w=1920`}
//                   width="1920"
//                   height="1206"
//                   alt={data.heroSection.mediaImage.alt}
//                   draggable="false"
//                 />
//               </picture>
//             </div>
//           </div>
//         </div>
//       )}

//       {/* Location Sections */}
//       {data.locationSections?.map((section, sectionIndex) => {
//         if (!section.show) return null;

//         return (
//           <div
//             key={sectionIndex}
//             className={section.cssClasses}
//             data-s3-module=""
//             style={{
//               backgroundColor: section.backgroundColor || undefined,
//               color: section.textColor || undefined,
//             }}
//           >
//             <div className={section.rowCssClasses}>
//               <div className="content ">
//                 {section.locations?.map((location, locationIndex) => (
//                   <div
//                     key={locationIndex}
//                     className={`item wow ${location.animationClass}`}
//                     data-api-key={
//                       locationIndex === 0 ? "content_left" : "content_right"
//                     }
//                     style={{ visibility: "hidden", animationName: "none" }}
//                   >
//                     <div
//                       style={{
//                         WebkitFilter: location.mapSettings.grayscale
//                           ? "grayscale(100%)"
//                           : "none",
//                         filter: location.mapSettings.grayscale
//                           ? "grayscale(100%)"
//                           : "none",
//                       }}
//                     >
//                       <iframe
//                         src={location.mapSettings.embedUrl}
//                         width={location.mapSettings.width}
//                         height={location.mapSettings.height}
//                         style={{ border: 0 }}
//                         allowFullScreen={true}
//                         loading="lazy"
//                         referrerPolicy="no-referrer-when-downgrade"
//                       />
//                     </div>
//                     <h3 className={location.contactInfo.headingPaddingTop}>
//                       {location.locationName}
//                     </h3>
//                     <p>
//                       <a href={`tel:${location.contactInfo.phone}`}>
//                         {location.contactInfo.phoneDisplay ||
//                           location.contactInfo.phone}
//                       </a>
//                       <br />
//                       <a
//                         href={location.contactInfo.googleMapsUrl}
//                         target="_blank"
//                         rel="noopener noreferrer"
//                       >
//                         {location.contactInfo.address}
//                       </a>
//                       {location.contactInfo.email && (
//                         <>
//                           <br />
//                           <a href={`mailto:${location.contactInfo.email}`}>
//                             {location.contactInfo.email}
//                           </a>
//                         </>
//                       )}
//                       {location.contactInfo.additionalInfo && (
//                         <>
//                           <br />
//                           {location.contactInfo.additionalInfo}
//                         </>
//                       )}
//                     </p>
//                   </div>
//                 ))}
//               </div>
//             </div>
//           </div>
//         );
//       })}
//     </main>
//   );
// };

// export default SatelliteLocations;

"use client";

import React, { useEffect, useState } from "react";

interface LocationData {
  locationName: string;
  animationClass: string;
  mapSettings: {
    embedUrl: string;
    width: string;
    height: number;
    grayscale: boolean;
  };
  contactInfo: {
    headingPaddingTop: string;
    phone: string;
    phoneDisplay?: string;
    address: string;
    googleMapsUrl: string;
    email?: string;
    additionalInfo?: string;
  };
}

interface LocationSection {
  sectionName: string;
  show: boolean;
  backgroundColor?: string;
  textColor?: string;
  cssClasses: string;
  rowCssClasses: string;
  paddingBottom?: string;
  locations: LocationData[];
}

interface PayloadData {
  heroSection: {
    show: boolean;
    backgroundColor?: string;
    cssClasses: string;
    backgroundImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt: string;
      url: string;
    };
    breadcrumbs: Array<{
      label: string;
      url: string;
      ariaLabel: string;
    }>;
    title: string;
    titleColor?: string;
    subtitle: string;
    subtitleColor?: string;
    mediaImage: {
      mobile?: any;
      tablet?: any;
      desktop?: any;
      large?: any;
      alt: string;
      url: string;
    };
  };
  locationSections: LocationSection[];
}

const PAYLOAD_API_URL =
  process.env.NEXT_PUBLIC_PAYLOAD_API_URL || "http://localhost:3001/api";

const SatelliteLocations: React.FC = () => {
  const [data, setData] = useState<PayloadData | null>(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const res = await fetch(
          `${PAYLOAD_API_URL}/satellite-locations-page-component?where[isActive][equals]=true&depth=2&limit=1`
        );
        if (!res.ok) {
          throw new Error("Failed to fetch data");
        }
        const result = await res.json();
        const activeComponent = result.docs?.[0] || null;
        setData(activeComponent);
      } catch (error) {
        console.error("Error fetching satellite locations data:", error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, []);

  if (loading) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <p>Loading...</p>
      </div>
    );
  }

  if (!data) {
    return (
      <div className="min-h-screen flex items-center justify-center">
        <p>No data available</p>
      </div>
    );
  }

  const getImageUrl = (imageField: any): string => {
    if (!imageField) return "";
    if (typeof imageField === "object" && imageField.cloudinary_url) {
      return imageField.cloudinary_url;
    }
    if (typeof imageField === "object" && imageField.url) {
      return imageField.url;
    }
    if (typeof imageField === "string") {
      return imageField;
    }
    return "";
  };

  return (
    <main id="main">
      {/* Hero Module */}
      {data.heroSection?.show && (
        <div className={data.heroSection.cssClasses} data-s3-module="">
          <div className="wrapper">
            <picture className="background">
              <source
                media="(max-width:420px)"
                srcSet={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=420, ${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=630 2x`}
                data-lazyload-srcset={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=420, ${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=630 2x`}
              />
              <source
                media="(max-width:800px)"
                srcSet={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=800, ${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1200 2x`}
                data-lazyload-srcset={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=800, ${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1200 2x`}
              />
              <source
                media="(max-width:1400px)"
                srcSet={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1400, ${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=2100 2x`}
                data-lazyload-srcset={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1400, ${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=2100 2x`}
              />
              <source
                srcSet={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1994`}
                data-lazyload-srcset={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1994`}
              />
              <img
                src={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1994`}
                data-lazyload-src={`${getImageUrl(
                  data.heroSection.backgroundImage
                )}?auto=format,compress&w=1994`}
                loading="lazy"
                data-lazyload="img"
                width="1994"
                height="1206"
                alt={data.heroSection.backgroundImage.alt}
                draggable="false"
                data-lazyload-loaded="true"
              />
            </picture>
            <div className="row">
              <div className="inner">
                <ul className="partial_breadcrumb" data-s3-partial="">
                  {data.heroSection.breadcrumbs?.map((breadcrumb, index) => (
                    <li key={index}>
                      <a
                        href={breadcrumb.url}
                        role="link"
                        aria-label={breadcrumb.ariaLabel}
                      >
                        {breadcrumb.label}
                      </a>
                    </li>
                  ))}
                </ul>
                <h1
                  style={
                    data.heroSection.titleColor
                      ? { color: data.heroSection.titleColor }
                      : undefined
                  }
                >
                  {data.heroSection.title}
                </h1>
                <div className="text">
                  <p
                    style={
                      data.heroSection.subtitleColor
                        ? { color: data.heroSection.subtitleColor }
                        : undefined
                    }
                  >
                    {data.heroSection.subtitle}
                  </p>
                </div>
              </div>
            </div>
            <div className="media">
              <picture className="background">
                <source
                  media="(max-width:420px)"
                  srcSet={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=420, ${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=630 2x`}
                  data-lazyload-srcset={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=420, ${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=630 2x`}
                />
                <source
                  media="(max-width:800px)"
                  srcSet={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=800, ${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1200 2x`}
                  data-lazyload-srcset={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=800, ${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1200 2x`}
                />
                <source
                  media="(max-width:1400px)"
                  srcSet={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1400, ${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=2100 2x`}
                  data-lazyload-srcset={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1400, ${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=2100 2x`}
                />
                <source
                  srcSet={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1920`}
                  data-lazyload-srcset={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1920`}
                />
                <img
                  src={`${getImageUrl(
                    data.heroSection.mediaImage
                  )}?auto=format,compress&w=1920`}
                  width="1920"
                  height="1206"
                  alt={data.heroSection.mediaImage.alt}
                  draggable="false"
                />
              </picture>
            </div>
          </div>
        </div>
      )}

      {/* Location Sections */}
      {data.locationSections?.map((section, sectionIndex) => {
        if (!section.show) return null;

        return (
          <div
            key={sectionIndex}
            className={section.cssClasses}
            data-s3-module=""
            style={{
              backgroundColor: section.backgroundColor || undefined,
              color: section.textColor || undefined,
            }}
          >
            <div className={section.rowCssClasses}>
              <div className="content ">
                {section.locations?.map((location, locationIndex) => (
                  <div
                    key={locationIndex}
                    className={`item wow ${location.animationClass}`}
                    data-api-key={
                      locationIndex === 0 ? "content_left" : "content_right"
                    }
                    style={{ visibility: "hidden", animationName: "none" }}
                  >
                    <div
                      style={{
                        WebkitFilter: location.mapSettings.grayscale
                          ? "grayscale(100%)"
                          : "none",
                        filter: location.mapSettings.grayscale
                          ? "grayscale(100%)"
                          : "none",
                      }}
                    >
                      <iframe
                        src={location.mapSettings.embedUrl}
                        width={location.mapSettings.width}
                        height={location.mapSettings.height}
                        style={{ border: 0 }}
                        allowFullScreen={true}
                        loading="lazy"
                        referrerPolicy="no-referrer-when-downgrade"
                      />
                    </div>
                    <h3 className={location.contactInfo.headingPaddingTop}>
                      {location.locationName}
                    </h3>
                    <p>
                      <a href={`tel:${location.contactInfo.phone}`}>
                        {location.contactInfo.phoneDisplay ||
                          location.contactInfo.phone}
                      </a>
                      <br />
                      <a
                        href={location.contactInfo.googleMapsUrl}
                        target="_blank"
                        rel="noopener noreferrer"
                      >
                        {location.contactInfo.address}
                      </a>
                      {location.contactInfo.email && (
                        <>
                          <br />
                          <a href={`mailto:${location.contactInfo.email}`}>
                            {location.contactInfo.email}
                          </a>
                        </>
                      )}
                      {location.contactInfo.additionalInfo && (
                        <>
                          <br />
                          {location.contactInfo.additionalInfo}
                        </>
                      )}
                    </p>
                  </div>
                ))}
              </div>
            </div>
          </div>
        );
      })}
    </main>
  );
};

export default SatelliteLocations;
