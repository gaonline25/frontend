// import React from "react";

// const TermsAndConditions: React.FC = () => {
//   return (
//     <main id="main">
//       <div className="mod_hero banner mobile-stack" data-s3-module="">
//         <div className="wrapper">
//           <picture className="background">
//             <source
//               media="(max-width:420px)"
//               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=630 2x"
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=630 2x"
//             />
//             <source
//               media="(max-width:800px)"
//               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1200 2x"
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1200 2x"
//             />
//             <source
//               media="(max-width:1400px)"
//               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=2100 2x"
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=2100 2x"
//             />
//             <source
//               srcSet="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
//               data-lazyload-srcset="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
//             />
//             <img
//               src="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
//               data-lazyload-src="https://www.datocms-assets.com/105497/1694632205-banner-left-with-text.jpg?auto=format,compress&w=1994"
//               loading="lazy"
//               data-lazyload="img"
//               width="1994"
//               height="1206"
//               alt="Background Texture"
//               draggable="false"
//               data-lazyload-loaded="true"
//             />
//           </picture>
//           <div className="row">
//             <div className="inner">
//               <ul className="partial_breadcrumb" data-s3-partial="">
//                 <li>
//                   <a
//                     href="/"
//                     role="link"
//                     aria-label="Breadcrumbs to help navigate the user"
//                   >
//                     Home
//                   </a>
//                 </li>
//                 <li>
//                   <a
//                     href="/terms-and-conditions/"
//                     role="link"
//                     aria-label="Breadcrumbs to help navigate the user"
//                   >
//                     Terms And Conditions
//                   </a>
//                 </li>
//               </ul>
//               <h1>Terms &amp; Conditions</h1>
//             </div>
//           </div>
//           <div className="media">
//             <picture className="background">
//               <source
//                 media="(max-width:420px)"
//                 srcSet="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=630 2x"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=420, https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=630 2x"
//               />
//               <source
//                 media="(max-width:800px)"
//                 srcSet="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1200 2x"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=800, https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1200 2x"
//               />
//               <source
//                 media="(max-width:1400px)"
//                 srcSet="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=2100 2x"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1400, https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=2100 2x"
//               />
//               <source
//                 srcSet="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1920"
//                 data-lazyload-srcset="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1920"
//               />
//               <img
//                 src="https://www.datocms-assets.com/105497/1694719607-about-banner.jpg?auto=format,compress&w=1920"
//                 width="1920"
//                 height="1206"
//                 alt="Goldfinger's building"
//                 draggable="false"
//               />
//             </picture>
//           </div>
//         </div>
//       </div>

//       <div className="mod_terms_condition container" data-s3-module="">
//         <div className="row ">
//           <h2>Terms of Service</h2>
//           <p>
//             These Terms of Service govern your use of the website located at{" "}
//             <a href="https://www.goldfingersaesthetics.com">
//               www.goldfingersaesthetics.com
//             </a>{" "}
//             and any related services provided by Goldfingers Aesthetics.
//           </p>
//           <p>
//             By accessing{" "}
//             <a href="https://www.goldfingersaesthetics.com">
//               www.goldfingersaesthetics.com
//             </a>
//             , you agree to abide by these Terms of Service and to comply with
//             all applicable laws and regulations. If you do not agree with these
//             Terms of Service, you are prohibited from using or accessing this
//             website or using any other services provided by Goldfingers
//             Aesthetics.
//           </p>
//           <p>
//             We, Goldfingers Aesthetics, reserve the right to review and amend
//             any of these Terms of Service at our sole discretion. Upon doing so,
//             we will update this page. Any changes to these Terms of Service will
//             take effect immediately from the date of publication.
//           </p>
//           <p>These Terms of Service were last updated on January 1, 2025.</p>

//           <h3>Limitations of Use</h3>
//           <p>
//             By using this website, you warrant on behalf of yourself, your
//             users, and other parties you represent that you will not:
//           </p>
//           <ol>
//             <li>
//               modify, copy, prepare derivative works of, decompile, or reverse
//               engineer any materials and software contained on this website;
//             </li>
//             <li>
//               remove any copyright or other proprietary notations from any
//               materials and software on this website;
//             </li>
//             <li>
//               transfer the materials to another person or "mirror" the materials
//               on any other server;
//             </li>
//             <li>
//               knowingly or negligently use this website or any of its associated
//               services in a way that abuses or disrupts our networks or any
//               other service Goldfingers Aesthetics provides;
//             </li>
//             <li>
//               use this website or its associated services to transmit or publish
//               any harassing, indecent, obscene, fraudulent, or unlawful
//               material;
//             </li>
//             <li>
//               use this website or its associated services in violation of any
//               applicable laws or regulations;
//             </li>
//             <li>
//               use this website in conjunction with sending unauthorized
//               advertising or spam;
//             </li>
//             <li>
//               harvest, collect, or gather user data without the user's consent;
//               or
//             </li>
//             <li>
//               use this website or its associated services in such a way that may
//               infringe the privacy, intellectual property rights, or other
//               rights of third parties.
//             </li>
//           </ol>

//           <h3>Intellectual Property</h3>
//           <p>
//             The intellectual property in the materials contained in this website
//             are owned by or licensed to Goldfingers Aesthetics and are protected
//             by applicable copyright and trademark law. We grant our users
//             permission to download one copy of the materials for personal,
//             non-commercial transitory use.
//           </p>
//           <p>
//             This constitutes the grant of a license, not a transfer of title.
//             This license shall automatically terminate if you violate any of
//             these restrictions or the Terms of Service, and may be terminated by
//             Goldfingers Aesthetics at any time.
//           </p>

//           <h3>Liability</h3>
//           <p>
//             Our website and the materials on our website are provided on an 'as
//             is' basis. To the extent permitted by law, Goldfingers Aesthetics
//             makes no warranties, expressed or implied, and hereby disclaims and
//             negates all other warranties including, without limitation, implied
//             warranties or conditions of merchantability, fitness for a
//             particular purpose, or non-infringement of intellectual property, or
//             other violation of rights.
//           </p>
//           <p>
//             In no event shall Goldfingers Aesthetics or its suppliers be liable
//             for any consequential loss suffered or incurred by you or any third
//             party arising from the use or inability to use this website or the
//             materials on this website, even if Goldfingers Aesthetics or an
//             authorized representative has been notified, orally or in writing,
//             of the possibility of such damage.
//           </p>
//           <p>
//             In the context of this agreement, "consequential loss" includes any
//             consequential loss, indirect loss, real or anticipated loss of
//             profit, loss of benefit, loss of revenue, loss of business, loss of
//             goodwill, loss of opportunity, loss of savings, loss of reputation,
//             loss of use and/or loss or corruption of data, whether under
//             statute, contract, equity, tort (including negligence), indemnity,
//             or otherwise.
//           </p>
//           <p>
//             Because some jurisdictions do not allow limitations on implied
//             warranties, or limitations of liability for consequential or
//             incidental damages, these limitations may not apply to you.
//           </p>

//           <h3>Accuracy of Materials</h3>
//           <p>
//             The materials appearing on our website are not comprehensive and are
//             for general information purposes only. Goldfingers Aesthetics does
//             not warrant or make any representations concerning the accuracy,
//             likely results, or reliability of the use of the materials on this
//             website, or otherwise relating to such materials or on any resources
//             linked to this website.
//           </p>

//           <h3>Links</h3>
//           <p>
//             Goldfingers Aesthetics has not reviewed all of the sites linked to
//             its website and is not responsible for the contents of any such
//             linked site. The inclusion of any link does not imply endorsement,
//             approval, or control by Goldfingers Aesthetics of the site. Use of
//             any such linked site is at your own risk and we strongly advise you
//             make your own investigations with respect to the suitability of
//             those sites.
//           </p>

//           <h3>Right to Terminate</h3>
//           <p>
//             We may suspend or terminate your right to use our website and
//             terminate these Terms of Service immediately upon written notice to
//             you for any breach of these Terms of Service.
//           </p>

//           <h3>Severance</h3>
//           <p>
//             Any term of these Terms of Service which is wholly or partially void
//             or unenforceable is severed to the extent that it is void or
//             unenforceable. The validity of the remainder of these Terms of
//             Service is not affected.
//           </p>

//           <h3>Governing Law</h3>
//           <p>
//             These Terms of Service are governed by and construed in accordance
//             with the laws of California. You irrevocably submit to the exclusive
//             jurisdiction of the courts in that State or location.
//           </p>
//         </div>
//       </div>
//     </main>
//   );
// };

// export default TermsAndConditions;

import React from "react";
import {
  fetchTermsAndConditionsComponent,
  getResponsiveImageUrls,
} from "@/lib/api/fetchTermsAndConditionsComponent";

const TermsAndConditions: React.FC = async () => {
  const componentData = await fetchTermsAndConditionsComponent();

  if (!componentData) {
    return (
      <main id="main">
        <div className="container">
          <p>Terms and Conditions content is currently unavailable.</p>
        </div>
      </main>
    );
  }

  const {
    heroSection,
    termsContentSection,
    sectionOrder = [{ section: "hero" }, { section: "termsContent" }],
  } = componentData;

  // Helper function to render hero section
  const renderHeroSection = () => {
    if (!heroSection?.show) return null;

    const backgroundImages = getResponsiveImageUrls(
      heroSection.backgroundImage
    );
    const mediaImages = getResponsiveImageUrls(heroSection.mediaImage);

    return (
      <div
        className={`mod_hero ${heroSection.className || "banner mobile-stack"}`}
        data-s3-module=""
        style={{
          backgroundColor: heroSection.backgroundColor || undefined,
        }}
      >
        <div className="wrapper">
          {backgroundImages.mobile && (
            <picture className="background">
              <source
                media="(max-width:420px)"
                srcSet={`${backgroundImages.mobile}?auto=format,compress&w=420, ${backgroundImages.mobile}?auto=format,compress&w=630 2x`}
                data-lazyload-srcset={`${backgroundImages.mobile}?auto=format,compress&w=420, ${backgroundImages.mobile}?auto=format,compress&w=630 2x`}
              />
              <source
                media="(max-width:800px)"
                srcSet={`${backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=800, ${backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1200 2x`}
                data-lazyload-srcset={`${backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=800, ${backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1200 2x`}
              />
              <source
                media="(max-width:1400px)"
                srcSet={`${backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1400, ${backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=2100 2x`}
                data-lazyload-srcset={`${backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1400, ${backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=2100 2x`}
              />
              <source
                srcSet={`${backgroundImages.large || backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1994`}
                data-lazyload-srcset={`${backgroundImages.large || backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1994`}
              />
              <img
                src={`${backgroundImages.large || backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1994`}
                data-lazyload-src={`${backgroundImages.large || backgroundImages.desktop || backgroundImages.tablet || backgroundImages.mobile}?auto=format,compress&w=1994`}
                loading="lazy"
                data-lazyload="img"
                width="1994"
                height="1206"
                alt={backgroundImages.alt}
                draggable="false"
                data-lazyload-loaded="true"
              />
            </picture>
          )}
          <div className="row">
            <div className="inner">
              {heroSection.breadcrumbs &&
                heroSection.breadcrumbs.length > 0 && (
                  <ul className="partial_breadcrumb" data-s3-partial="">
                    {heroSection.breadcrumbs.map(
                      (breadcrumb: any, index: number) => (
                        <li key={index}>
                          <a
                            href={breadcrumb.url}
                            role="link"
                            aria-label={breadcrumb.ariaLabel}
                          >
                            {breadcrumb.label}
                          </a>
                        </li>
                      )
                    )}
                  </ul>
                )}
              <h1
                style={{
                  color: heroSection.titleColor || undefined,
                  fontSize: heroSection.titleFontSize || undefined,
                }}
              >
                {heroSection.title}
              </h1>
            </div>
          </div>
          {mediaImages.mobile && (
            <div className="media">
              <picture className="background">
                <source
                  media="(max-width:420px)"
                  srcSet={`${mediaImages.mobile}?auto=format,compress&w=420, ${mediaImages.mobile}?auto=format,compress&w=630 2x`}
                  data-lazyload-srcset={`${mediaImages.mobile}?auto=format,compress&w=420, ${mediaImages.mobile}?auto=format,compress&w=630 2x`}
                />
                <source
                  media="(max-width:800px)"
                  srcSet={`${mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=800, ${mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1200 2x`}
                  data-lazyload-srcset={`${mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=800, ${mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1200 2x`}
                />
                <source
                  media="(max-width:1400px)"
                  srcSet={`${mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1400, ${mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=2100 2x`}
                  data-lazyload-srcset={`${mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1400, ${mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=2100 2x`}
                />
                <source
                  srcSet={`${mediaImages.large || mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1920`}
                  data-lazyload-srcset={`${mediaImages.large || mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1920`}
                />
                <img
                  src={`${mediaImages.large || mediaImages.desktop || mediaImages.tablet || mediaImages.mobile}?auto=format,compress&w=1920`}
                  width="1920"
                  height="1206"
                  alt={mediaImages.alt}
                  draggable="false"
                />
              </picture>
            </div>
          )}
        </div>
      </div>
    );
  };

  // Helper function to render terms content section
  const renderTermsContentSection = () => {
    if (!termsContentSection?.show) return null;

    const linkStyle = {
      color: termsContentSection.linkColor || undefined,
    };

    return (
      <div
        className={`mod_terms_condition ${termsContentSection.className || "container"}`}
        data-s3-module=""
        style={{
          backgroundColor: termsContentSection.backgroundColor || undefined,
          color: termsContentSection.textColor || undefined,
          paddingTop: termsContentSection.paddingTop || undefined,
          paddingBottom: termsContentSection.paddingBottom || undefined,
        }}
      >
        <div className="row ">
          <h2
            style={{
              color: termsContentSection.mainHeadingColor || undefined,
              fontSize: termsContentSection.mainHeadingFontSize || undefined,
            }}
          >
            {termsContentSection.mainHeading}
          </h2>

          {/* Introduction Paragraphs */}
          {termsContentSection.introductionParagraphs &&
            termsContentSection.introductionParagraphs.map(
              (para: any, index: number) => {
                const content = para.content || "";
                // Replace website URL placeholders in content
                const processedContent = content
                  .replace(
                    /www\.goldfingersaesthetics\.com/g,
                    termsContentSection.websiteDisplayText ||
                      "www.goldfingersaesthetics.com"
                  )
                  .replace(
                    /(https?:\/\/[^\s]+)/g,
                    (url: string) =>
                      `<a href="${url}" style="${linkStyle.color ? `color: ${linkStyle.color}` : ""}">${termsContentSection.websiteDisplayText || url}</a>`
                  );

                return (
                  <p
                    key={index}
                    style={{
                      color: para.textColor || undefined,
                      fontSize: para.fontSize || undefined,
                    }}
                    dangerouslySetInnerHTML={{
                      __html: processedContent.includes("<a")
                        ? processedContent
                        : content.includes("www.goldfingersaesthetics.com")
                          ? content.replace(
                              /www\.goldfingersaesthetics\.com/g,
                              `<a href="${termsContentSection.websiteUrl || "https://www.goldfingersaesthetics.com"}" style="${linkStyle.color ? `color: ${linkStyle.color}` : ""}">${termsContentSection.websiteDisplayText || "www.goldfingersaesthetics.com"}</a>`
                            )
                          : content,
                    }}
                  />
                );
              }
            )}

          {/* Terms Blocks */}
          {termsContentSection.termsBlocks &&
            termsContentSection.termsBlocks.map(
              (block: any, blockIndex: number) => (
                <div
                  key={blockIndex}
                  style={{
                    backgroundColor: block.backgroundColor || undefined,
                    paddingTop: block.paddingTop || undefined,
                    paddingBottom: block.paddingBottom || undefined,
                  }}
                >
                  <h3
                    style={{
                      color: block.headingColor || undefined,
                      fontSize: block.headingFontSize || undefined,
                    }}
                  >
                    {block.heading}
                  </h3>

                  {/* Paragraphs */}
                  {block.paragraphs &&
                    block.paragraphs.map((para: any, paraIndex: number) => (
                      <p
                        key={paraIndex}
                        style={{
                          color: para.textColor || undefined,
                        }}
                      >
                        {para.text}
                      </p>
                    ))}

                  {/* List Items */}
                  {block.listItems && block.listItems.length > 0 && (
                    <>
                      {block.contentType === "orderedList" ||
                      block.contentType === "mixed" ? (
                        <ol
                          style={{
                            listStyleType: block.listStyleType || undefined,
                            marginLeft: block.listMarginLeft || undefined,
                          }}
                        >
                          {block.listItems.map(
                            (item: any, itemIndex: number) => (
                              <li
                                key={itemIndex}
                                style={{
                                  color: item.textColor || undefined,
                                }}
                              >
                                {item.text}
                              </li>
                            )
                          )}
                        </ol>
                      ) : block.contentType === "unorderedList" ? (
                        <ul
                          style={{
                            listStyleType: block.listStyleType || undefined,
                            marginLeft: block.listMarginLeft || undefined,
                          }}
                        >
                          {block.listItems.map(
                            (item: any, itemIndex: number) => (
                              <li
                                key={itemIndex}
                                style={{
                                  color: item.textColor || undefined,
                                }}
                              >
                                {item.text}
                              </li>
                            )
                          )}
                        </ul>
                      ) : null}
                    </>
                  )}
                </div>
              )
            )}
        </div>
      </div>
    );
  };

  // Render sections in order
  const renderSections = () => {
    return sectionOrder.map((item: any, index: number) => {
      switch (item.section) {
        case "hero":
          return (
            <React.Fragment key={index}>{renderHeroSection()}</React.Fragment>
          );
        case "termsContent":
          return (
            <React.Fragment key={index}>
              {renderTermsContentSection()}
            </React.Fragment>
          );
        default:
          return null;
      }
    });
  };

  return <main id="main">{renderSections()}</main>;
};

export default TermsAndConditions;